/*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
;!function(e,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?d(e,!0):function(f){if(!f.document){throw new Error("jQuery requires a window with a document")}return d(f)}:d(e)}("undefined"!=typeof window?window:this,function(bP,bO){var bN=[],bM=bP.document,bL=Object.getPrototypeOf,bJ=bN.slice,bH=bN.concat,bG=bN.push,bF=bN.indexOf,bE={},bD=bE.toString,bC=bE.hasOwnProperty,bB=bC.toString,bA=bB.call(Object),bz={};function by(e,d){d=d||bM;var f=d.createElement("script");f.text=e,d.head.appendChild(f).parentNode.removeChild(f)}var bw="3.1.1",bv=function(e,d){return new bv.fn.init(e,d)},bu=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bt=/^-ms-/,bs=/-([a-z])/g,br=function(e,d){return d.toUpperCase()};bv.fn=bv.prototype={jquery:bw,constructor:bv,length:0,toArray:function(){return bJ.call(this)},get:function(d){return null==d?bJ.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(e){var d=bv.merge(this.constructor(),e);return d.prevObject=this,d},each:function(d){return bv.each(this,d)},map:function(d){return this.pushStack(bv.map(this,function(e,f){return d.call(e,f,e)}))},slice:function(){return this.pushStack(bJ.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var d=this.length,f=+e+(e<0?d:0);return this.pushStack(f>=0&&f<d?[this[f]]:[])},end:function(){return this.prevObject||this.constructor()},push:bG,sort:bN.sort,splice:bN.splice},bv.extend=bv.fn.extend=function(){var t,s,r,q,p,o,n=arguments[0]||{},m=1,l=arguments.length,k=!1;for("boolean"==typeof n&&(k=n,n=arguments[m]||{},m++),"object"==typeof n||bv.isFunction(n)||(n={}),m===l&&(n=this,m--);m<l;m++){if(null!=(t=arguments[m])){for(s in t){r=n[s],q=t[s],n!==q&&(k&&q&&(bv.isPlainObject(q)||(p=bv.isArray(q)))?(p?(p=!1,o=r&&bv.isArray(r)?r:[]):o=r&&bv.isPlainObject(r)?r:{},n[s]=bv.extend(k,o,q)):void 0!==q&&(n[s]=q))}}}return n},bv.extend({expando:"jQuery"+(bw+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isFunction:function(d){return"function"===bv.type(d)},isArray:Array.isArray,isWindow:function(d){return null!=d&&d===d.window},isNumeric:function(e){var d=bv.type(e);return("number"===d||"string"===d)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var d,f;return !(!e||"[object Object]"!==bD.call(e))&&(!(d=bL(e))||(f=bC.call(d,"constructor")&&d.constructor,"function"==typeof f&&bB.call(f)===bA))},isEmptyObject:function(e){var d;for(d in e){return !1}return !0},type:function(d){return null==d?d+"":"object"==typeof d||"function"==typeof d?bE[bD.call(d)]||"object":typeof d},globalEval:function(d){by(d)},camelCase:function(d){return d.replace(bt,"ms-").replace(bs,br)},nodeName:function(e,d){return e.nodeName&&e.nodeName.toLowerCase()===d.toLowerCase()},each:function(f,e){var h,g=0;if(bq(f)){for(h=f.length;g<h;g++){if(e.call(f[g],g,f[g])===!1){break}}}else{for(g in f){if(e.call(f[g],g,f[g])===!1){break}}}return f},trim:function(d){return null==d?"":(d+"").replace(bu,"")},makeArray:function(e,d){var f=d||[];return null!=e&&(bq(Object(e))?bv.merge(f,"string"==typeof e?[e]:e):bG.call(f,e)),f},inArray:function(e,d,f){return null==d?-1:bF.call(d,e,f)},merge:function(g,f){for(var l=+f.length,k=0,h=g.length;k<l;k++){g[h++]=f[k]}return g.length=h,g},grep:function(l,k,r){for(var q,p=[],o=0,n=l.length,m=!r;o<n;o++){q=!k(l[o],o),q!==m&&p.push(l[o])}return p},map:function(k,g,p){var o,n,m=0,l=[];if(bq(k)){for(o=k.length;m<o;m++){n=g(k[m],m,p),null!=n&&l.push(n)}}else{for(m in k){n=g(k[m],m,p),null!=n&&l.push(n)}}return bH.apply([],l)},guid:1,proxy:function(g,f){var l,k,h;if("string"==typeof f&&(l=g[f],f=g,g=l),bv.isFunction(g)){return k=bJ.call(arguments,2),h=function(){return g.apply(f||this,k.concat(bJ.call(arguments)))},h.guid=g.guid=g.guid||bv.guid++,h}},now:Date.now,support:bz}),"function"==typeof Symbol&&(bv.fn[Symbol.iterator]=bN[Symbol.iterator]),bv.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,d){bE["[object "+d+"]"]=d.toLowerCase()});function bq(e){var d=!!e&&"length" in e&&e.length,f=bv.type(e);return"function"!==f&&!bv.isWindow(e)&&("array"===f||0===d||"number"==typeof d&&d>0&&d-1 in e)}var bp=function(dp){var dn,dm,dk,dj,di,dh,dg,de,dd,dc,db,c9,c7,c6,c5,c4,c0,cZ,cY,cX="sizzle"+1*new Date,cW=dp.document,cV=0,cU=0,cT=dK(),cS=dK(),dU=dK(),dT=function(e,d){return e===d&&(db=!0),0},dS={}.hasOwnProperty,dR=[],dP=dR.pop,dO=dR.push,dN=dR.push,dM=dR.slice,dL=function(f,e){for(var h=0,g=f.length;h<g;h++){if(f[h]===e){return h}}return -1},dJ="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",dI="[\\x20\\t\\r\\n\\f]",dH="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",dG="\\["+dI+"*("+dH+")(?:"+dI+"*([*^$|!~]?=)"+dI+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+dH+"))|)"+dI+"*\\]",dF=":("+dH+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+dG+")*)|.*)\\)|)",dE=new RegExp(dI+"+","g"),dC=new RegExp("^"+dI+"+|((?:^|[^\\\\])(?:\\\\.)*)"+dI+"+$","g"),dB=new RegExp("^"+dI+"*,"+dI+"*"),dA=new RegExp("^"+dI+"*([>+~]|"+dI+")"+dI+"*"),dz=new RegExp("="+dI+"*([^\\]'\"]*?)"+dI+"*\\]","g"),dy=new RegExp(dF),dx=new RegExp("^"+dH+"$"),dw={ID:new RegExp("^#("+dH+")"),CLASS:new RegExp("^\\.("+dH+")"),TAG:new RegExp("^("+dH+"|[*])"),ATTR:new RegExp("^"+dG),PSEUDO:new RegExp("^"+dF),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+dI+"*(even|odd|(([+-]|)(\\d*)n|)"+dI+"*(?:([+-]|)"+dI+"*(\\d+)|))"+dI+"*\\)|)","i"),bool:new RegExp("^(?:"+dJ+")$","i"),needsContext:new RegExp("^"+dI+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+dI+"*((?:-\\d)?\\d*)"+dI+"*\\)|)(?=[^-]|$)","i")},dv=/^(?:input|select|textarea|button)$/i,du=/^h\d$/i,dt=/^[^{]+\{\s*\[native \w/,ds=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,d0=/[+~]/,dr=new RegExp("\\\\([\\da-f]{1,6}"+dI+"?|("+dI+")|.)","ig"),dX=function(f,e,h){var g="0x"+e-65536;return g!==g||h?e:g<0?String.fromCharCode(g+65536):String.fromCharCode(g>>10|55296,1023&g|56320)},dD=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,c8=function(e,d){return d?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},cO=function(){c9()},bb=dV(function(d){return d.disabled===!0&&("form" in d||"label" in d)},{dir:"parentNode",next:"legend"});try{dN.apply(dR=dM.call(cW.childNodes),cW.childNodes),dR[cW.childNodes.length].nodeType}catch(d3){dN={apply:dR.length?function(e,d){dO.apply(e,dM.call(d))}:function(f,e){var h=f.length,g=0;while(f[h++]=e[g++]){}f.length=h-1}}}function dY(D,A,y,v){var u,t,q,p,n,m,g,F=A&&A.ownerDocument,E=A?A.nodeType:9;if(y=y||[],"string"!=typeof D||!D||1!==E&&9!==E&&11!==E){return y}if(!v&&((A?A.ownerDocument||A:cW)!==c7&&c9(A),A=A||c7,c5)){if(11!==E&&(n=ds.exec(D))){if(u=n[1]){if(9===E){if(!(q=A.getElementById(u))){return y}if(q.id===u){return y.push(q),y}}else{if(F&&(q=F.getElementById(u))&&cY(A,q)&&q.id===u){return y.push(q),y}}}else{if(n[2]){return dN.apply(y,A.getElementsByTagName(D)),y}if((u=n[3])&&dm.getElementsByClassName&&A.getElementsByClassName){return dN.apply(y,A.getElementsByClassName(u)),y}}}if(dm.qsa&&!dU[D+" "]&&(!c4||!c4.test(D))){if(1!==E){F=A,g=D}else{if("object"!==A.nodeName.toLowerCase()){(p=A.getAttribute("id"))?p=p.replace(dD,c8):A.setAttribute("id",p=cX),m=dh(D),t=m.length;while(t--){m[t]="#"+p+" "+d1(m[t])}g=m.join(","),F=d0.test(D)&&cM(A.parentNode)||A}}if(g){try{return dN.apply(y,F.querySelectorAll(g)),y}catch(C){}finally{p===cX&&A.removeAttribute("id")}}}}return de(D.replace(dC,"$1"),A,y,v)}function dK(){var e=[];function d(g,f){return e.push(g+" ")>dk.cacheLength&&delete d[e.shift()],d[g+" "]=f}return d}function df(d){return d[cX]=!0,d}function cP(e){var d=c7.createElement("fieldset");try{return !!e(d)}catch(f){return !1}finally{d.parentNode&&d.parentNode.removeChild(d),d=null}}function cb(f,d){var h=f.split("|"),g=h.length;while(g--){dk.attrHandle[h[g]]=d}}function d4(f,e){var h=e&&f,g=h&&1===f.nodeType&&1===e.nodeType&&f.sourceIndex-e.sourceIndex;if(g){return g}if(h){while(h=h.nextSibling){if(h===e){return -1}}}return f?1:-1}function dZ(d){return function(e){var f=e.nodeName.toLowerCase();return"input"===f&&e.type===d}}function dQ(d){return function(e){var f=e.nodeName.toLowerCase();return("input"===f||"button"===f)&&e.type===d}}function dl(d){return function(e){return"form" in e?e.parentNode&&e.disabled===!1?"label" in e?"label" in e.parentNode?e.parentNode.disabled===d:e.disabled===d:e.isDisabled===d||e.isDisabled!==!d&&bb(e)===d:e.disabled===d:"label" in e&&e.disabled===d}}function cQ(d){return df(function(e){return e=+e,df(function(n,m){var l,k=d([],n.length,e),h=k.length;while(h--){n[l=k[h]]&&(n[l]=!(m[l]=n[l]))}})})}function cM(d){return d&&"undefined"!=typeof d.getElementsByTagName&&d}dm=dY.support={},di=dY.isXML=function(e){var d=e&&(e.ownerDocument||e).documentElement;return !!d&&"HTML"!==d.nodeName},c9=dY.setDocument=function(f){var d,k,h=f?f.ownerDocument||f:cW;return h!==c7&&9===h.nodeType&&h.documentElement?(c7=h,c6=c7.documentElement,c5=!di(c7),cW!==c7&&(k=c7.defaultView)&&k.top!==k&&(k.addEventListener?k.addEventListener("unload",cO,!1):k.attachEvent&&k.attachEvent("onunload",cO)),dm.attributes=cP(function(e){return e.className="i",!e.getAttribute("className")}),dm.getElementsByTagName=cP(function(e){return e.appendChild(c7.createComment("")),!e.getElementsByTagName("*").length}),dm.getElementsByClassName=dt.test(c7.getElementsByClassName),dm.getById=cP(function(e){return c6.appendChild(e).id=cX,!c7.getElementsByName||!c7.getElementsByName(cX).length}),dm.getById?(dk.filter.ID=function(g){var e=g.replace(dr,dX);return function(l){return l.getAttribute("id")===e}},dk.find.ID=function(g,e){if("undefined"!=typeof e.getElementById&&c5){var l=e.getElementById(g);return l?[l]:[]}}):(dk.filter.ID=function(g){var e=g.replace(dr,dX);return function(l){var m="undefined"!=typeof l.getAttributeNode&&l.getAttributeNode("id");return m&&m.value===e}},dk.find.ID=function(l,g){if("undefined"!=typeof g.getElementById&&c5){var p,o,n,m=g.getElementById(l);if(m){if(p=m.getAttributeNode("id"),p&&p.value===l){return[m]}n=g.getElementsByName(l),o=0;while(m=n[o++]){if(p=m.getAttributeNode("id"),p&&p.value===l){return[m]}}}return[]}}),dk.find.TAG=dm.getElementsByTagName?function(g,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(g):dm.qsa?e.querySelectorAll(g):void 0}:function(l,g){var p,o=[],n=0,m=g.getElementsByTagName(l);if("*"===l){while(p=m[n++]){1===p.nodeType&&o.push(p)}return o}return m},dk.find.CLASS=dm.getElementsByClassName&&function(g,e){if("undefined"!=typeof e.getElementsByClassName&&c5){return e.getElementsByClassName(g)}},c0=[],c4=[],(dm.qsa=dt.test(c7.querySelectorAll))&&(cP(function(e){c6.appendChild(e).innerHTML="<a id='"+cX+"'></a><select id='"+cX+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&c4.push("[*^$]="+dI+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||c4.push("\\["+dI+"*(?:value|"+dJ+")"),e.querySelectorAll("[id~="+cX+"-]").length||c4.push("~="),e.querySelectorAll(":checked").length||c4.push(":checked"),e.querySelectorAll("a#"+cX+"+*").length||c4.push(".#.+[+~]")}),cP(function(g){g.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=c7.createElement("input");e.setAttribute("type","hidden"),g.appendChild(e).setAttribute("name","D"),g.querySelectorAll("[name=d]").length&&c4.push("name"+dI+"*[*^$|!~]?="),2!==g.querySelectorAll(":enabled").length&&c4.push(":enabled",":disabled"),c6.appendChild(g).disabled=!0,2!==g.querySelectorAll(":disabled").length&&c4.push(":enabled",":disabled"),g.querySelectorAll("*,:x"),c4.push(",.*:")})),(dm.matchesSelector=dt.test(cZ=c6.matches||c6.webkitMatchesSelector||c6.mozMatchesSelector||c6.oMatchesSelector||c6.msMatchesSelector))&&cP(function(e){dm.disconnectedMatch=cZ.call(e,"*"),cZ.call(e,"[s!='']:x"),c0.push("!=",dF)}),c4=c4.length&&new RegExp(c4.join("|")),c0=c0.length&&new RegExp(c0.join("|")),d=dt.test(c6.compareDocumentPosition),cY=d||dt.test(c6.contains)?function(g,e){var m=9===g.nodeType?g.documentElement:g,l=e&&e.parentNode;return g===l||!(!l||1!==l.nodeType||!(m.contains?m.contains(l):g.compareDocumentPosition&&16&g.compareDocumentPosition(l)))}:function(g,e){if(e){while(e=e.parentNode){if(e===g){return !0}}}return !1},dT=d?function(g,e){if(g===e){return db=!0,0}var l=!g.compareDocumentPosition-!e.compareDocumentPosition;return l?l:(l=(g.ownerDocument||g)===(e.ownerDocument||e)?g.compareDocumentPosition(e):1,1&l||!dm.sortDetached&&e.compareDocumentPosition(g)===l?g===c7||g.ownerDocument===cW&&cY(cW,g)?-1:e===c7||e.ownerDocument===cW&&cY(cW,e)?1:dc?dL(dc,g)-dL(dc,e):0:4&l?-1:1)}:function(m,l){if(m===l){return db=!0,0}var s,r=0,q=m.parentNode,p=l.parentNode,o=[m],n=[l];if(!q||!p){return m===c7?-1:l===c7?1:q?-1:p?1:dc?dL(dc,m)-dL(dc,l):0}if(q===p){return d4(m,l)}s=m;while(s=s.parentNode){o.unshift(s)}s=l;while(s=s.parentNode){n.unshift(s)}while(o[r]===n[r]){r++}return r?d4(o[r],n[r]):o[r]===cW?-1:n[r]===cW?1:0},c7):c7},dY.matches=function(e,d){return dY(e,null,null,d)},dY.matchesSelector=function(g,f){if((g.ownerDocument||g)!==c7&&c9(g),f=f.replace(dz,"='$1']"),dm.matchesSelector&&c5&&!dU[f+" "]&&(!c0||!c0.test(f))&&(!c4||!c4.test(f))){try{var k=cZ.call(g,f);if(k||dm.disconnectedMatch||g.document&&11!==g.document.nodeType){return k}}catch(h){}}return dY(f,c7,null,[g]).length>0},dY.contains=function(e,d){return(e.ownerDocument||e)!==c7&&c9(e),cY(e,d)},dY.attr=function(g,d){(g.ownerDocument||g)!==c7&&c9(g);var k=dk.attrHandle[d.toLowerCase()],h=k&&dS.call(dk.attrHandle,d.toLowerCase())?k(g,d,!c5):void 0;return void 0!==h?h:dm.attributes||!c5?g.getAttribute(d):(h=g.getAttributeNode(d))&&h.specified?h.value:null},dY.escape=function(d){return(d+"").replace(dD,c8)},dY.error=function(d){throw new Error("Syntax error, unrecognized expression: "+d)},dY.uniqueSort=function(h){var g,m=[],l=0,k=0;if(db=!dm.detectDuplicates,dc=!dm.sortStable&&h.slice(0),h.sort(dT),db){while(g=h[k++]){g===h[k]&&(l=m.push(k))}while(l--){h.splice(m[l],1)}}return dc=null,h},dj=dY.getText=function(g){var e,l="",k=0,h=g.nodeType;if(h){if(1===h||9===h||11===h){if("string"==typeof g.textContent){return g.textContent}for(g=g.firstChild;g;g=g.nextSibling){l+=dj(g)}}else{if(3===h||4===h){return g.nodeValue}}}else{while(e=g[k++]){l+=dj(e)}}return l},dk=dY.selectors={cacheLength:50,createPseudo:df,match:dw,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(d){return d[1]=d[1].replace(dr,dX),d[3]=(d[3]||d[4]||d[5]||"").replace(dr,dX),"~="===d[2]&&(d[3]=" "+d[3]+" "),d.slice(0,4)},CHILD:function(d){return d[1]=d[1].toLowerCase(),"nth"===d[1].slice(0,3)?(d[3]||dY.error(d[0]),d[4]=+(d[4]?d[5]+(d[6]||1):2*("even"===d[3]||"odd"===d[3])),d[5]=+(d[7]+d[8]||"odd"===d[3])):d[3]&&dY.error(d[0]),d},PSEUDO:function(e){var d,f=!e[6]&&e[2];return dw.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":f&&dy.test(f)&&(d=dh(f,!0))&&(d=f.indexOf(")",f.length-d)-f.length)&&(e[0]=e[0].slice(0,d),e[2]=f.slice(0,d)),e.slice(0,3))}},filter:{TAG:function(e){var d=e.replace(dr,dX).toLowerCase();return"*"===e?function(){return !0}:function(f){return f.nodeName&&f.nodeName.toLowerCase()===d}},CLASS:function(e){var d=cT[e+" "];return d||(d=new RegExp("(^|"+dI+")"+e+"("+dI+"|$)"))&&cT(e,function(f){return d.test("string"==typeof f.className&&f.className||"undefined"!=typeof f.getAttribute&&f.getAttribute("class")||"")})},ATTR:function(e,d,f){return function(h){var g=dY.attr(h,e);return null==g?"!="===d:!d||(g+="","="===d?g===f:"!="===d?g!==f:"^="===d?f&&0===g.indexOf(f):"*="===d?f&&g.indexOf(f)>-1:"$="===d?f&&g.slice(-f.length)===f:"~="===d?(" "+g.replace(dE," ")+" ").indexOf(f)>-1:"|="===d&&(g===f||g.slice(0,f.length+1)===f+"-"))}},CHILD:function(l,k,r,q,p){var o="nth"!==l.slice(0,3),n="last"!==l.slice(-4),m="of-type"===k;return 1===q&&0===p?function(d){return !!d.parentNode}:function(D,C,A){var y,w,v,u,h,g,f=o!==n?"nextSibling":"previousSibling",e=D.parentNode,d=m&&D.nodeName.toLowerCase(),F=!A&&!m,E=!1;if(e){if(o){while(f){u=D;while(u=u[f]){if(m?u.nodeName.toLowerCase()===d:1===u.nodeType){return !1}}g=f="only"===l&&!g&&"nextSibling"}return !0}if(g=[n?e.firstChild:e.lastChild],n&&F){u=e,v=u[cX]||(u[cX]={}),w=v[u.uniqueID]||(v[u.uniqueID]={}),y=w[l]||[],h=y[0]===cV&&y[1],E=h&&y[2],u=h&&e.childNodes[h];while(u=++h&&u&&u[f]||(E=h=0)||g.pop()){if(1===u.nodeType&&++E&&u===D){w[l]=[cV,h,E];break}}}else{if(F&&(u=D,v=u[cX]||(u[cX]={}),w=v[u.uniqueID]||(v[u.uniqueID]={}),y=w[l]||[],h=y[0]===cV&&y[1],E=h),E===!1){while(u=++h&&u&&u[f]||(E=h=0)||g.pop()){if((m?u.nodeName.toLowerCase()===d:1===u.nodeType)&&++E&&(F&&(v=u[cX]||(u[cX]={}),w=v[u.uniqueID]||(v[u.uniqueID]={}),w[l]=[cV,E]),u===D)){break}}}}return E-=p,E===q||E%q===0&&E/q>=0}}},PSEUDO:function(f,d){var h,g=dk.pseudos[f]||dk.setFilters[f.toLowerCase()]||dY.error("unsupported pseudo: "+f);return g[cX]?g(d):g.length>1?(h=[f,f,"",d],dk.setFilters.hasOwnProperty(f.toLowerCase())?df(function(e,n){var m,l=g(e,d),k=l.length;while(k--){m=dL(e,l[k]),e[m]=!(n[m]=l[k])}}):function(e){return g(e,0,h)}):g}},pseudos:{not:df(function(f){var e=[],h=[],g=dg(f.replace(dC,"$1"));return g[cX]?df(function(k,d,p,o){var n,m=g(k,null,o,[]),l=k.length;while(l--){(n=m[l])&&(k[l]=!(d[l]=n))}}):function(d,l,k){return e[0]=d,g(e,null,k,h),e[0]=null,!h.pop()}}),has:df(function(d){return function(e){return dY(d,e).length>0}}),contains:df(function(d){return d=d.replace(dr,dX),function(e){return(e.textContent||e.innerText||dj(e)).indexOf(d)>-1}}),lang:df(function(d){return dx.test(d||"")||dY.error("unsupported lang: "+d),d=d.replace(dr,dX).toLowerCase(),function(e){var f;do{if(f=c5?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang")){return f=f.toLowerCase(),f===d||0===f.indexOf(d+"-")}}while((e=e.parentNode)&&1===e.nodeType);return !1}}),target:function(d){var e=dp.location&&dp.location.hash;return e&&e.slice(1)===d.id},root:function(d){return d===c6},focus:function(d){return d===c7.activeElement&&(!c7.hasFocus||c7.hasFocus())&&!!(d.type||d.href||~d.tabIndex)},enabled:dl(!1),disabled:dl(!0),checked:function(e){var d=e.nodeName.toLowerCase();return"input"===d&&!!e.checked||"option"===d&&!!e.selected},selected:function(d){return d.parentNode&&d.parentNode.selectedIndex,d.selected===!0},empty:function(d){for(d=d.firstChild;d;d=d.nextSibling){if(d.nodeType<6){return !1}}return !0},parent:function(d){return !dk.pseudos.empty(d)},header:function(d){return du.test(d.nodeName)},input:function(d){return dv.test(d.nodeName)},button:function(e){var d=e.nodeName.toLowerCase();return"input"===d&&"button"===e.type||"button"===d},text:function(e){var d;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(d=e.getAttribute("type"))||"text"===d.toLowerCase())},first:cQ(function(){return[0]}),last:cQ(function(e,d){return[d-1]}),eq:cQ(function(e,d,f){return[f<0?f+d:f]}),even:cQ(function(e,d){for(var f=0;f<d;f+=2){e.push(f)}return e}),odd:cQ(function(e,d){for(var f=1;f<d;f+=2){e.push(f)}return e}),lt:cQ(function(f,e,h){for(var g=h<0?h+e:h;--g>=0;){f.push(g)}return f}),gt:cQ(function(f,e,h){for(var g=h<0?h+e:h;++g<e;){f.push(g)}return f})}},dk.pseudos.nth=dk.pseudos.eq;for(dn in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){dk.pseudos[dn]=dZ(dn)}for(dn in {submit:!0,reset:!0}){dk.pseudos[dn]=dQ(dn)}function d5(){}d5.prototype=dk.filters=dk.pseudos,dk.setFilters=new d5,dh=dY.tokenize=function(t,s){var r,q,p,o,n,m,l,d=cS[t+" "];if(d){return s?0:d.slice(0)}n=t,m=[],l=dk.preFilter;while(n){r&&!(q=dB.exec(n))||(q&&(n=n.slice(q[0].length)||n),m.push(p=[])),r=!1,(q=dA.exec(n))&&(r=q.shift(),p.push({value:r,type:q[0].replace(dC," ")}),n=n.slice(r.length));for(o in dk.filter){!(q=dw[o].exec(n))||l[o]&&!(q=l[o](q))||(r=q.shift(),p.push({value:r,type:o,matches:q}),n=n.slice(r.length))}if(!r){break}}return s?n.length:n?dY.error(t):cS(t,m).slice(0)};function d1(f){for(var e=0,h=f.length,g="";e<h;e++){g+=f[e].value}return g}function dV(l,k,r){var q=k.dir,p=k.next,o=p||q,n=r&&"parentNode"===o,m=cU++;return k.first?function(d,g,f){while(d=d[q]){if(1===d.nodeType||n){return l(d,g,f)}}return !1}:function(e,t,s){var h,g,f,d=[cV,m];if(s){while(e=e[q]){if((1===e.nodeType||n)&&l(e,t,s)){return !0}}}else{while(e=e[q]){if(1===e.nodeType||n){if(f=e[cX]||(e[cX]={}),g=f[e.uniqueID]||(f[e.uniqueID]={}),p&&p===e.nodeName.toLowerCase()){e=e[q]||e}else{if((h=g[o])&&h[0]===cV&&h[1]===m){return d[2]=h[2]}if(g[o]=d,d[2]=l(e,t,s)){return !0}}}}}return !1}}function dq(d){return d.length>1?function(f,k,h){var g=d.length;while(g--){if(!d[g](f,k,h)){return !1}}return !0}:d[0]}function cR(g,f,l){for(var k=0,h=f.length;k<h;k++){dY(g,f[k],l)}return l}function cN(t,s,r,q,p){for(var o,n=[],m=0,l=t.length,k=null!=s;m<l;m++){(o=t[m])&&(r&&!r(o,q,p)||(n.push(o),k&&s.push(m)))}return n}function ab(h,g,n,m,l,k){return m&&!m[cX]&&(m=ab(m)),l&&!l[cX]&&(l=ab(l,k)),df(function(F,E,D,C){var A,y,w,v=[],u=[],t=E.length,s=F||cR(g||"*",D.nodeType?[D]:D,[]),e=!h||!F&&g?s:cN(s,v,h,D,C),d=n?l||(F?h:t||m)?[]:E:e;if(n&&n(e,d,D,C),m){A=cN(d,u),m(A,[],D,C),y=A.length;while(y--){(w=A[y])&&(d[u[y]]=!(e[u[y]]=w))}}if(F){if(l||h){if(l){A=[],y=d.length;while(y--){(w=d[y])&&A.push(e[y]=w)}l(null,d=[],A,C)}y=d.length;while(y--){(w=d[y])&&(A=l?dL(F,w):v[y])>-1&&(F[A]=!(E[A]=w))}}}else{d=cN(d===E?d.splice(t,d.length):d),l?l(null,E,d,C):dN.apply(E,d)}})}function d2(w){for(var v,u,t,s=w.length,r=dk.relative[w[0].type],q=r||dk.relative[" "],p=r?1:0,o=dV(function(e){return e===v},q,!0),n=dV(function(e){return dL(v,e)>-1},q,!0),d=[function(f,k,h){var g=!r&&(h||k!==dd)||((v=k).nodeType?o(f,k,h):n(f,k,h));return v=null,g}];p<s;p++){if(u=dk.relative[w[p].type]){d=[dV(dq(d),u)]}else{if(u=dk.filter[w[p].type].apply(null,w[p].matches),u[cX]){for(t=++p;t<s;t++){if(dk.relative[w[t].type]){break}}return ab(p>1&&dq(d),p>1&&d1(w.slice(0,p-1).concat({value:" "===w[p-2].type?"*":""})).replace(dC,"$1"),u,p<t&&d2(w.slice(p,t)),t<s&&d2(w=w.slice(t)),t<s&&d1(w))}d.push(u)}}return dq(d)}function dW(g,d){var l=d.length>0,k=g.length>0,h=function(E,D,C,A,w){var p,n,m,e=0,M="0",L=E&&[],K=[],J=dd,I=E||k&&dk.find.TAG("*",w),H=cV+=null==J?1:Math.random()||0.1,F=I.length;for(w&&(dd=D===c7||D||w);M!==F&&null!=(p=I[M]);M++){if(k&&p){n=0,D||p.ownerDocument===c7||(c9(p),C=!c5);while(m=g[n++]){if(m(p,D||c7,C)){A.push(p);break}}w&&(cV=H)}l&&((p=!m&&p)&&e--,E&&L.push(p))}if(e+=M,l&&M!==e){n=0;while(m=d[n++]){m(L,K,D,C)}if(E){if(e>0){while(M--){L[M]||K[M]||(K[M]=dP.call(A))}}K=cN(K)}dN.apply(A,K),w&&!E&&K.length>0&&e+d.length>1&&dY.uniqueSort(A)}return w&&(cV=H,dd=J),L};return l?df(h):h}return dg=dY.compile=function(h,g){var n,m=[],l=[],k=dU[h+" "];if(!k){g||(g=dh(h)),n=g.length;while(n--){k=d2(g[n]),k[cX]?m.push(k):l.push(k)}k=dU(h,dW(l,m)),k.selector=h}return k},de=dY.select=function(v,u,t,s){var r,q,p,o,h,g="function"==typeof v&&v,d=!s&&dh(v=g.selector||v);if(t=t||[],1===d.length){if(q=d[0]=d[0].slice(0),q.length>2&&"ID"===(p=q[0]).type&&9===u.nodeType&&c5&&dk.relative[q[1].type]){if(u=(dk.find.ID(p.matches[0].replace(dr,dX),u)||[])[0],!u){return t}g&&(u=u.parentNode),v=v.slice(q.shift().value.length)}r=dw.needsContext.test(v)?0:q.length;while(r--){if(p=q[r],dk.relative[o=p.type]){break}if((h=dk.find[o])&&(s=h(p.matches[0].replace(dr,dX),d0.test(q[0].type)&&cM(u.parentNode)||u))){if(q.splice(r,1),v=s.length&&d1(q),!v){return dN.apply(t,s),t}break}}}return(g||dg(v,d))(s,u,!c5,t,!u||d0.test(v)&&cM(u.parentNode)||u),t},dm.sortStable=cX.split("").sort(dT).join("")===cX,dm.detectDuplicates=!!db,c9(),dm.sortDetached=cP(function(d){return 1&d.compareDocumentPosition(c7.createElement("fieldset"))}),cP(function(d){return d.innerHTML="<a href='#'></a>","#"===d.firstChild.getAttribute("href")})||cb("type|href|height|width",function(e,d,f){if(!f){return e.getAttribute(d,"type"===d.toLowerCase()?1:2)}}),dm.attributes&&cP(function(d){return d.innerHTML="<input/>",d.firstChild.setAttribute("value",""),""===d.firstChild.getAttribute("value")})||cb("value",function(e,d,f){if(!f&&"input"===e.nodeName.toLowerCase()){return e.defaultValue}}),cP(function(d){return null==d.getAttribute("disabled")})||cb(dJ,function(f,e,h){var g;if(!h){return f[e]===!0?e.toLowerCase():(g=f.getAttributeNode(e))&&g.specified?g.value:null}}),dY}(bP);bv.find=bp,bv.expr=bp.selectors,bv.expr[":"]=bv.expr.pseudos,bv.uniqueSort=bv.unique=bp.uniqueSort,bv.text=bp.getText,bv.isXMLDoc=bp.isXML,bv.contains=bp.contains,bv.escapeSelector=bp.escape;var bo=function(g,f,l){var k=[],h=void 0!==l;while((g=g[f])&&9!==g.nodeType){if(1===g.nodeType){if(h&&bv(g).is(l)){break}k.push(g)}}return k},bm=function(e,d){for(var f=[];e;e=e.nextSibling){1===e.nodeType&&e!==d&&f.push(e)}return f},cp=bv.expr.match.needsContext,co=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,cn=/^.[^:#\[\.,]*$/;function cm(e,d,f){return bv.isFunction(d)?bv.grep(e,function(g,h){return !!d.call(g,h,g)!==f}):d.nodeType?bv.grep(e,function(g){return g===d!==f}):"string"!=typeof d?bv.grep(e,function(g){return bF.call(d,g)>-1!==f}):cn.test(d)?bv.filter(d,e,f):(d=bv.filter(d,e),bv.grep(e,function(g){return bF.call(d,g)>-1!==f&&1===g.nodeType}))}bv.filter=function(f,e,h){var g=e[0];return h&&(f=":not("+f+")"),1===e.length&&1===g.nodeType?bv.find.matchesSelector(g,f)?[g]:[]:bv.find.matches(f,bv.grep(e,function(d){return 1===d.nodeType}))},bv.fn.extend({find:function(g){var f,l,k=this.length,h=this;if("string"!=typeof g){return this.pushStack(bv(g).filter(function(){for(f=0;f<k;f++){if(bv.contains(h[f],this)){return !0}}}))}for(l=this.pushStack([]),f=0;f<k;f++){bv.find(g,h[f],l)}return k>1?bv.uniqueSort(l):l},filter:function(d){return this.pushStack(cm(this,d||[],!1))},not:function(d){return this.pushStack(cm(this,d||[],!0))},is:function(d){return !!cm(this,"string"==typeof d&&cp.test(d)?bv(d):d||[],!1).length}});var cl,ck=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ci=bv.fn.init=function(g,d,l){var k,h;if(!g){return this}if(l=l||cl,"string"==typeof g){if(k="<"===g[0]&&">"===g[g.length-1]&&g.length>=3?[null,g,null]:ck.exec(g),!k||!k[1]&&d){return !d||d.jquery?(d||l).find(g):this.constructor(d).find(g)}if(k[1]){if(d=d instanceof bv?d[0]:d,bv.merge(this,bv.parseHTML(k[1],d&&d.nodeType?d.ownerDocument||d:bM,!0)),co.test(k[1])&&bv.isPlainObject(d)){for(k in d){bv.isFunction(this[k])?this[k](d[k]):this.attr(k,d[k])}}return this}return h=bM.getElementById(k[2]),h&&(this[0]=h,this.length=1),this}return g.nodeType?(this[0]=g,this.length=1,this):bv.isFunction(g)?void 0!==l.ready?l.ready(g):g(bv):bv.makeArray(g,this)};ci.prototype=bv.fn,cl=bv(bM);var cg=/^(?:parents|prev(?:Until|All))/,cf={children:!0,contents:!0,next:!0,prev:!0};bv.fn.extend({has:function(e){var d=bv(e,this),f=d.length;return this.filter(function(){for(var g=0;g<f;g++){if(bv.contains(this,d[g])){return !0}}})},closest:function(k,h){var p,o=0,n=this.length,m=[],l="string"!=typeof k&&bv(k);if(!cp.test(k)){for(;o<n;o++){for(p=this[o];p&&p!==h;p=p.parentNode){if(p.nodeType<11&&(l?l.index(p)>-1:1===p.nodeType&&bv.find.matchesSelector(p,k))){m.push(p);break}}}}return this.pushStack(m.length>1?bv.uniqueSort(m):m)},index:function(d){return d?"string"==typeof d?bF.call(bv(d),this[0]):bF.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,d){return this.pushStack(bv.uniqueSort(bv.merge(this.get(),bv(e,d))))},addBack:function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}});function ce(e,d){while((e=e[d])&&1!==e.nodeType){}return e}bv.each({parent:function(e){var d=e.parentNode;return d&&11!==d.nodeType?d:null},parents:function(d){return bo(d,"parentNode")},parentsUntil:function(e,d,f){return bo(e,"parentNode",f)},next:function(d){return ce(d,"nextSibling")},prev:function(d){return ce(d,"previousSibling")},nextAll:function(d){return bo(d,"nextSibling")},prevAll:function(d){return bo(d,"previousSibling")},nextUntil:function(e,d,f){return bo(e,"nextSibling",f)},prevUntil:function(e,d,f){return bo(e,"previousSibling",f)},siblings:function(d){return bm((d.parentNode||{}).firstChild,d)},children:function(d){return bm(d.firstChild)},contents:function(d){return d.contentDocument||bv.merge([],d.childNodes)}},function(e,d){bv.fn[e]=function(h,g){var f=bv.map(this,d,h);return"Until"!==e.slice(-5)&&(g=h),g&&"string"==typeof g&&(f=bv.filter(g,f)),this.length>1&&(cf[e]||bv.uniqueSort(f),cg.test(e)&&f.reverse()),this.pushStack(f)}});var cd=/[^\x20\t\r\n\f]+/g;function cc(e){var d={};return bv.each(e.match(cd)||[],function(f,g){d[g]=!0}),d}bv.Callbacks=function(t){t="string"==typeof t?cc(t):bv.extend({},t);var s,r,q,p,o=[],n=[],m=-1,l=function(){for(p=t.once,q=s=!0;n.length;m=-1){r=n.shift();while(++m<o.length){o[m].apply(r[0],r[1])===!1&&t.stopOnFalse&&(m=o.length,r=!1)}}t.memory||(r=!1),s=!1,p&&(o=r?[]:"")},k={add:function(){return o&&(r&&!s&&(m=o.length-1,n.push(r)),function e(d){bv.each(d,function(f,g){bv.isFunction(g)?t.unique&&k.has(g)||o.push(g):g&&g.length&&"string"!==bv.type(g)&&e(g)})}(arguments),r&&!s&&l()),this},remove:function(){return bv.each(arguments,function(e,d){var f;while((f=bv.inArray(d,o,f))>-1){o.splice(f,1),f<=m&&m--}}),this},has:function(d){return d?bv.inArray(d,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return p=n=[],o=r="",this},disabled:function(){return !o},lock:function(){return p=n=[],r||s||(o=r=""),this},locked:function(){return !!p},fireWith:function(d,e){return p||(e=e||[],e=[d,e.slice?e.slice():e],n.push(e),s||l()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!q}};return k};function b9(d){return d}function b8(d){throw d}function b7(f,e,h){var g;try{f&&bv.isFunction(g=f.promise)?g.call(f).done(e).fail(h):f&&bv.isFunction(g=f.then)?g.call(f,e,h):e.call(void 0,f)}catch(f){h.call(void 0,f)}}bv.extend({Deferred:function(g){var m=[["notify","progress",bv.Callbacks("memory"),bv.Callbacks("memory"),2],["resolve","done",bv.Callbacks("once memory"),bv.Callbacks("once memory"),0,"resolved"],["reject","fail",bv.Callbacks("once memory"),bv.Callbacks("once memory"),1,"rejected"]],l="pending",k={state:function(){return l},always:function(){return h.done(arguments).fail(arguments),this},"catch":function(d){return k.then(null,d)},pipe:function(){var d=arguments;return bv.Deferred(function(e){bv.each(m,function(o,n){var f=bv.isFunction(d[n[4]])&&d[n[4]];h[n[1]](function(){var p=f&&f.apply(this,arguments);p&&bv.isFunction(p.promise)?p.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,f?[p]:arguments)})}),d=null}).promise()},then:function(n,r,q){var p=0;function o(f,u,t,s){return function(){var w=this,v=arguments,e=function(){var y,A;if(!(f<p)){if(y=t.apply(w,v),y===u.promise()){throw new TypeError("Thenable self-resolution")}A=y&&("object"==typeof y||"function"==typeof y)&&y.then,bv.isFunction(A)?s?A.call(y,o(p,u,b9,s),o(p,u,b8,s)):(p++,A.call(y,o(p,u,b9,s),o(p,u,b8,s),o(p,u,b9,u.notifyWith))):(t!==b9&&(w=void 0,v=[y]),(s||u.resolveWith)(w,v))}},d=s?e:function(){try{e()}catch(y){bv.Deferred.exceptionHook&&bv.Deferred.exceptionHook(y,d.stackTrace),f+1>=p&&(t!==b8&&(w=void 0,v=[y]),u.rejectWith(w,v))}};f?d():(bv.Deferred.getStackHook&&(d.stackTrace=bv.Deferred.getStackHook()),bP.setTimeout(d))}}return bv.Deferred(function(d){m[0][3].add(o(0,d,bv.isFunction(q)?q:b9,d.notifyWith)),m[1][3].add(o(0,d,bv.isFunction(n)?n:b9)),m[2][3].add(o(0,d,bv.isFunction(r)?r:b8))}).promise()},promise:function(d){return null!=d?bv.extend(d,k):k}},h={};return bv.each(m,function(e,d){var n=d[2],f=d[5];k[d[1]]=n.add,f&&n.add(function(){l=f},m[3-e][2].disable,m[0][2].lock),n.add(d[3].fire),h[d[0]]=function(){return h[d[0]+"With"](this===h?void 0:this,arguments),this},h[d[0]+"With"]=n.fireWith}),k.promise(h),g&&g.call(h,h),h},when:function(k){var f=arguments.length,p=f,o=Array(p),n=bJ.call(arguments),m=bv.Deferred(),l=function(d){return function(e){o[d]=this,n[d]=arguments.length>1?bJ.call(arguments):e,--f||m.resolveWith(o,n)}};if(f<=1&&(b7(k,m.done(l(p)).resolve,m.reject),"pending"===m.state()||bv.isFunction(n[p]&&n[p].then))){return m.then()}while(p--){b7(n[p],l(p),m.reject)}return m.promise()}});var b6=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;bv.Deferred.exceptionHook=function(d,e){bP.console&&bP.console.warn&&d&&b6.test(d.name)&&bP.console.warn("jQuery.Deferred exception: "+d.message,d.stack,e)},bv.readyException=function(d){bP.setTimeout(function(){throw d})};var b5=bv.Deferred();bv.fn.ready=function(d){return b5.then(d)["catch"](function(e){bv.readyException(e)}),this},bv.extend({isReady:!1,readyWait:1,holdReady:function(d){d?bv.readyWait++:bv.ready(!0)},ready:function(d){(d===!0?--bv.readyWait:bv.isReady)||(bv.isReady=!0,d!==!0&&--bv.readyWait>0||b5.resolveWith(bM,[bv]))}}),bv.ready.then=b5.then;function b3(){bM.removeEventListener("DOMContentLoaded",b3),bP.removeEventListener("load",b3),bv.ready()}"complete"===bM.readyState||"loading"!==bM.readyState&&!bM.documentElement.doScroll?bP.setTimeout(bv.ready):(bM.addEventListener("DOMContentLoaded",b3),bP.addEventListener("load",b3));var b2=function(t,s,r,q,p,o,n){var m=0,l=t.length,k=null==r;if("object"===bv.type(r)){p=!0;for(m in r){b2(t,s,m,r[m],!0,o,n)}}else{if(void 0!==q&&(p=!0,bv.isFunction(q)||(n=!0),k&&(n?(s.call(t,q),s=null):(k=s,s=function(e,d,f){return k.call(bv(e),f)})),s)){for(;m<l;m++){s(t[m],r,n?q:q.call(t[m],m,s(t[m],r)))}}}return p?t:k?s.call(t):l?s(t[0],r):o},b1=function(d){return 1===d.nodeType||9===d.nodeType||!+d.nodeType};function b0(){this.expando=bv.expando+b0.uid++}b0.uid=1,b0.prototype={cache:function(e){var d=e[this.expando];return d||(d={},b1(e)&&(e.nodeType?e[this.expando]=d:Object.defineProperty(e,this.expando,{value:d,configurable:!0}))),d},set:function(g,f,l){var k,h=this.cache(g);if("string"==typeof f){h[bv.camelCase(f)]=l}else{for(k in f){h[bv.camelCase(k)]=f[k]}}return h},get:function(e,d){return void 0===d?this.cache(e):e[this.expando]&&e[this.expando][bv.camelCase(d)]},access:function(e,d,f){return void 0===d||d&&"string"==typeof d&&void 0===f?this.get(e,d):(this.set(e,d,f),void 0!==f?f:d)},remove:function(f,e){var h,g=f[this.expando];if(void 0!==g){if(void 0!==e){bv.isArray(e)?e=e.map(bv.camelCase):(e=bv.camelCase(e),e=e in g?[e]:e.match(cd)||[]),h=e.length;while(h--){delete g[e[h]]}}(void 0===e||bv.isEmptyObject(g))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(e){var d=e[this.expando];return void 0!==d&&!bv.isEmptyObject(d)}};var bZ=new b0,bY=new b0,bX=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bW=/[A-Z]/g;function bV(d){return"true"===d||"false"!==d&&("null"===d?null:d===+d+""?+d:bX.test(d)?JSON.parse(d):d)}function cB(g,f,l){var k;if(void 0===l&&1===g.nodeType){if(k="data-"+f.replace(bW,"-$&").toLowerCase(),l=g.getAttribute(k),"string"==typeof l){try{l=bV(l)}catch(h){}bY.set(g,f,l)}else{l=void 0}}return l}bv.extend({hasData:function(d){return bY.hasData(d)||bZ.hasData(d)},data:function(e,d,f){return bY.access(e,d,f)},removeData:function(e,d){bY.remove(e,d)},_data:function(e,d,f){return bZ.access(e,d,f)},_removeData:function(e,d){bZ.remove(e,d)}}),bv.fn.extend({data:function(k,h){var p,o,n,m=this[0],l=m&&m.attributes;if(void 0===k){if(this.length&&(n=bY.get(m),1===m.nodeType&&!bZ.get(m,"hasDataAttrs"))){p=l.length;while(p--){l[p]&&(o=l[p].name,0===o.indexOf("data-")&&(o=bv.camelCase(o.slice(5)),cB(m,o,n[o])))}bZ.set(m,"hasDataAttrs",!0)}return n}return"object"==typeof k?this.each(function(){bY.set(this,k)}):b2(this,function(d){var e;if(m&&void 0===d){if(e=bY.get(m,k),void 0!==e){return e}if(e=cB(m,k),void 0!==e){return e}}else{this.each(function(){bY.set(this,k,d)})}},null,h,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){bY.remove(this,d)})}}),bv.extend({queue:function(f,e,h){var g;if(f){return e=(e||"fx")+"queue",g=bZ.get(f,e),h&&(!g||bv.isArray(h)?g=bZ.access(f,e,bv.makeArray(h)):g.push(h)),g||[]}},dequeue:function(k,h){h=h||"fx";var p=bv.queue(k,h),o=p.length,n=p.shift(),m=bv._queueHooks(k,h),l=function(){bv.dequeue(k,h)};"inprogress"===n&&(n=p.shift(),o--),n&&("fx"===h&&p.unshift("inprogress"),delete m.stop,n.call(k,l,m)),!o&&m&&m.empty.fire()},_queueHooks:function(e,d){var f=d+"queueHooks";return bZ.get(e,f)||bZ.access(e,f,{empty:bv.Callbacks("once memory").add(function(){bZ.remove(e,[d+"queue",f])})})}}),bv.fn.extend({queue:function(e,d){var f=2;return"string"!=typeof e&&(d=e,e="fx",f--),arguments.length<f?bv.queue(this[0],e):void 0===d?this:this.each(function(){var g=bv.queue(this,e,d);bv._queueHooks(this,e),"fx"===e&&"inprogress"!==g[0]&&bv.dequeue(this,e)})},dequeue:function(d){return this.each(function(){bv.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(l,k){var r,q=1,p=bv.Deferred(),o=this,n=this.length,m=function(){--q||p.resolveWith(o,[o])};"string"!=typeof l&&(k=l,l=void 0),l=l||"fx";while(n--){r=bZ.get(o[n],l+"queueHooks"),r&&r.empty&&(q++,r.empty.add(m))}return m(),p.promise(k)}});var bQ=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cA=new RegExp("^(?:([+-])=|)("+bQ+")([a-z%]*)$","i"),cj=["Top","Right","Bottom","Left"],bK=function(e,d){return e=d||e,"none"===e.style.display||""===e.style.display&&bv.contains(e.ownerDocument,e)&&"none"===bv.css(e,"display")},bi=function(k,h,p,o){var n,m,l={};for(m in h){l[m]=k.style[m],k.style[m]=h[m]}n=p.apply(k,o||[]);for(m in h){k.style[m]=l[m]}return n};function a9(v,u,t,s){var r,q=1,p=20,o=s?function(){return s.cur()}:function(){return bv.css(v,u,"")},n=o(),m=t&&t[3]||(bv.cssNumber[u]?"":"px"),l=(bv.cssNumber[u]||"px"!==m&&+n)&&cA.exec(bv.css(v,u));if(l&&l[3]!==m){m=m||l[3],t=t||[],l=+n||1;do{q=q||".5",l/=q,bv.style(v,u,l+m)}while(q!==(q=o()/n)&&1!==q&&--p)}return t&&(l=+l||+n||0,r=t[1]?l+(t[1]+1)*t[2]:+t[2],s&&(s.unit=m,s.start=l,s.end=r)),r}var a2={};function aT(g){var f,l=g.ownerDocument,k=g.nodeName,h=a2[k];return h?h:(f=l.body.appendChild(l.createElement(k)),h=bv.css(f,"display"),f.parentNode.removeChild(f),"none"===h&&(h="block"),a2[k]=h,h)}function aL(k,h){for(var p,o,n=[],m=0,l=k.length;m<l;m++){o=k[m],o.style&&(p=o.style.display,h?("none"===p&&(n[m]=bZ.get(o,"display")||null,n[m]||(o.style.display="")),""===o.style.display&&bK(o)&&(n[m]=aT(o))):"none"!==p&&(n[m]="none",bZ.set(o,"display",p)))}for(m=0;m<l;m++){null!=n[m]&&(k[m].style.display=n[m])}return k}bv.fn.extend({show:function(){return aL(this,!0)},hide:function(){return aL(this)},toggle:function(d){return"boolean"==typeof d?d?this.show():this.hide():this.each(function(){bK(this)?bv(this).show():bv(this).hide()})}});var aD=/^(?:checkbox|radio)$/i,av=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,am=/^$|\/(?:java|ecma)script/i,ad={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ad.optgroup=ad.option,ad.tbody=ad.tfoot=ad.colgroup=ad.caption=ad.thead,ad.th=ad.td;function cF(e,d){var f;return f="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(d||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(d||"*"):[],void 0===d||d&&bv.nodeName(e,d)?bv.merge([e],f):f}function cu(f,e){for(var h=0,g=f.length;h<g;h++){bZ.set(f[h],"globalEval",!e||bZ.get(e[h],"globalEval"))}}var bU=/<|&#?\w+;/;function bn(H,F,E,D,C){for(var A,y,w,v,u,t,s=F.createDocumentFragment(),r=[],q=0,p=H.length;q<p;q++){if(A=H[q],A||0===A){if("object"===bv.type(A)){bv.merge(r,A.nodeType?[A]:A)}else{if(bU.test(A)){y=y||s.appendChild(F.createElement("div")),w=(av.exec(A)||["",""])[1].toLowerCase(),v=ad[w]||ad._default,y.innerHTML=v[1]+bv.htmlPrefilter(A)+v[2],t=v[0];while(t--){y=y.lastChild}bv.merge(r,y.childNodes),y=s.firstChild,y.textContent=""}else{r.push(F.createTextNode(A))}}}}s.textContent="",q=0;while(A=r[q++]){if(D&&bv.inArray(A,D)>-1){C&&C.push(A)}else{if(u=bv.contains(A.ownerDocument,A),y=cF(s.appendChild(A),"script"),u&&cu(y),E){t=0;while(A=y[t++]){am.test(A.type||"")&&E.push(A)}}}}return s}!function(){var e=bM.createDocumentFragment(),d=e.appendChild(bM.createElement("div")),f=bM.createElement("input");f.setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),d.appendChild(f),bz.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",bz.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue}();var bf=bM.documentElement,a6=/^key/,aX=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,aP=/^([^.]*)(?:\.(.+)|)/;function aH(){return !0}function az(){return !1}function aq(){try{return bM.activeElement}catch(d){}}function ah(l,k,r,q,p,o){var n,m;if("object"==typeof k){"string"!=typeof r&&(q=q||r,r=void 0);for(m in k){ah(l,m,r,q,k[m],o)}return l}if(null==q&&null==p?(p=r,q=r=void 0):null==p&&("string"==typeof r?(p=q,q=void 0):(p=q,q=r,r=void 0)),p===!1){p=az}else{if(!p){return l}}return 1===o&&(n=p,p=function(d){return bv().off(d),n.apply(this,arguments)},p.guid=n.guid||(n.guid=bv.guid++)),l.each(function(){bv.event.add(this,k,p,q,r)})}bv.event={global:{},add:function(L,K,J,I,H){var F,E,D,C,A,y,w,v,u,t,s,r=bZ.get(L);if(r){J.handler&&(F=J,J=F.handler,H=F.selector),H&&bv.find.matchesSelector(bf,H),J.guid||(J.guid=bv.guid++),(C=r.events)||(C=r.events={}),(E=r.handle)||(E=r.handle=function(d){return"undefined"!=typeof bv&&bv.event.triggered!==d.type?bv.event.dispatch.apply(L,arguments):void 0}),K=(K||"").match(cd)||[""],A=K.length;while(A--){D=aP.exec(K[A])||[],u=s=D[1],t=(D[2]||"").split(".").sort(),u&&(w=bv.event.special[u]||{},u=(H?w.delegateType:w.bindType)||u,w=bv.event.special[u]||{},y=bv.extend({type:u,origType:s,data:I,handler:J,guid:J.guid,selector:H,needsContext:H&&bv.expr.match.needsContext.test(H),namespace:t.join(".")},F),(v=C[u])||(v=C[u]=[],v.delegateCount=0,w.setup&&w.setup.call(L,I,t,E)!==!1||L.addEventListener&&L.addEventListener(u,E)),w.add&&(w.add.call(L,y),y.handler.guid||(y.handler.guid=J.guid)),H?v.splice(v.delegateCount++,0,y):v.push(y),bv.event.global[u]=!0)}}},remove:function(L,K,J,I,H){var F,E,D,C,A,y,w,v,u,t,s,r=bZ.hasData(L)&&bZ.get(L);if(r&&(C=r.events)){K=(K||"").match(cd)||[""],A=K.length;while(A--){if(D=aP.exec(K[A])||[],u=s=D[1],t=(D[2]||"").split(".").sort(),u){w=bv.event.special[u]||{},u=(I?w.delegateType:w.bindType)||u,v=C[u]||[],D=D[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"),E=F=v.length;while(F--){y=v[F],!H&&s!==y.origType||J&&J.guid!==y.guid||D&&!D.test(y.namespace)||I&&I!==y.selector&&("**"!==I||!y.selector)||(v.splice(F,1),y.selector&&v.delegateCount--,w.remove&&w.remove.call(L,y))}E&&!v.length&&(w.teardown&&w.teardown.call(L,t,r.handle)!==!1||bv.removeEvent(L,u,r.handle),delete C[u])}else{for(u in C){bv.event.remove(L,u+K[A],J,I,!0)}}}bv.isEmptyObject(C)&&bZ.remove(L,"handle events")}},dispatch:function(v){var u=bv.event.fix(v),t,s,r,q,p,o,n=new Array(arguments.length),m=(bZ.get(this,"events")||{})[u.type]||[],l=bv.event.special[u.type]||{};for(n[0]=u,t=1;t<arguments.length;t++){n[t]=arguments[t]}if(u.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,u)!==!1){o=bv.event.handlers.call(this,u,m),t=0;while((q=o[t++])&&!u.isPropagationStopped()){u.currentTarget=q.elem,s=0;while((p=q.handlers[s++])&&!u.isImmediatePropagationStopped()){u.rnamespace&&!u.rnamespace.test(p.namespace)||(u.handleObj=p,u.data=p.data,r=((bv.event.special[p.origType]||{}).handle||p.handler).apply(q.elem,n),void 0!==r&&(u.result=r)===!1&&(u.preventDefault(),u.stopPropagation()))}}return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(t,s){var r,q,p,o,n,m=[],l=s.delegateCount,k=t.target;if(l&&k.nodeType&&!("click"===t.type&&t.button>=1)){for(;k!==this;k=k.parentNode||this){if(1===k.nodeType&&("click"!==t.type||k.disabled!==!0)){for(o=[],n={},r=0;r<l;r++){q=s[r],p=q.selector+" ",void 0===n[p]&&(n[p]=q.needsContext?bv(p,this).index(k)>-1:bv.find(p,this,null,[k]).length),n[p]&&o.push(q)}o.length&&m.push({elem:k,handlers:o})}}}return k=this,l<s.length&&m.push({elem:k,handlers:s.slice(l)}),m},addProp:function(e,d){Object.defineProperty(bv.Event.prototype,e,{enumerable:!0,configurable:!0,get:bv.isFunction(d)?function(){if(this.originalEvent){return d(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[e]}},set:function(f){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:f})}})},fix:function(d){return d[bv.expando]?d:new bv.Event(d)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==aq()&&this.focus){return this.focus(),!1}},delegateType:"focusin"},blur:{trigger:function(){if(this===aq()&&this.blur){return this.blur(),!1}},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&bv.nodeName(this,"input")){return this.click(),!1}},_default:function(d){return bv.nodeName(d.target,"a")}},beforeunload:{postDispatch:function(d){void 0!==d.result&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}},bv.removeEvent=function(e,d,f){e.removeEventListener&&e.removeEventListener(d,f)},bv.Event=function(e,d){return this instanceof bv.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?aH:az,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,d&&bv.extend(this,d),this.timeStamp=e&&e.timeStamp||bv.now(),void (this[bv.expando]=!0)):new bv.Event(e,d)},bv.Event.prototype={constructor:bv.Event,isDefaultPrevented:az,isPropagationStopped:az,isImmediatePropagationStopped:az,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=aH,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=aH,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=aH,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},bv.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var d=e.button;return null==e.which&&a6.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==d&&aX.test(e.type)?1&d?1:2&d?3:4&d?2:0:e.which}},bv.event.addProp),bv.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,d){bv.event.special[e]={delegateType:d,bindType:d,handle:function(g){var m,l=this,k=g.relatedTarget,h=g.handleObj;return k&&(k===l||bv.contains(l,k))||(g.type=h.origType,m=h.handler.apply(this,arguments),g.type=d),m}}}),bv.fn.extend({on:function(f,e,h,g){return ah(this,f,e,h,g)},one:function(f,e,h,g){return ah(this,f,e,h,g,1)},off:function(g,f,l){var k,h;if(g&&g.preventDefault&&g.handleObj){return k=g.handleObj,bv(g.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this}if("object"==typeof g){for(h in g){this.off(h,f,g[h])}return this}return f!==!1&&"function"!=typeof f||(l=f,f=void 0),l===!1&&(l=az),this.each(function(){bv.event.remove(this,g,l,f)})}});var cJ=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,cy=/<script|<style|<link/i,a0=/checked\s*(?:[^=]|=\s*.checked.)/i,aR=/^true\/(.*)/,aJ=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function aB(e,d){return bv.nodeName(e,"table")&&bv.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function at(d){return d.type=(null!==d.getAttribute("type"))+"/"+d.type,d}function ak(e){var d=aR.exec(e.type);return d?e.type=d[1]:e.removeAttribute("type"),e}function cL(t,s){var r,q,p,o,n,m,l,k;if(1===s.nodeType){if(bZ.hasData(t)&&(o=bZ.access(t),n=bZ.set(s,o),k=o.events)){delete n.handle,n.events={};for(p in k){for(r=0,q=k[p].length;r<q;r++){bv.event.add(s,p,k[p][r])}}}bY.hasData(t)&&(m=bY.access(t),l=bv.extend({},m),bY.set(s,l))}}function cD(e,d){var f=d.nodeName.toLowerCase();"input"===f&&aD.test(e.type)?d.checked=e.checked:"input"!==f&&"textarea"!==f||(d.defaultValue=e.defaultValue)}function cs(F,E,D,C){E=bH.apply([],E);var A,y,w,v,u,t,r=0,p=F.length,o=p-1,g=E[0],H=bv.isFunction(g);if(H||p>1&&"string"==typeof g&&!bz.checkClone&&a0.test(g)){return F.each(function(h){var d=F.eq(h);H&&(E[0]=g.call(this,h,d.html())),cs(d,E,D,C)})}if(p&&(A=bn(E,F[0].ownerDocument,!1,F,C),y=A.firstChild,1===A.childNodes.length&&(A=y),y||C)){for(w=bv.map(cF(A,"script"),at),v=w.length;r<p;r++){u=A,r!==o&&(u=bv.clone(u,!0,!0),v&&bv.merge(w,cF(u,"script"))),D.call(F[r],u,r)}if(v){for(t=w[w.length-1].ownerDocument,bv.map(w,ak),r=0;r<v;r++){u=w[r],am.test(u.type||"")&&!bZ.access(u,"globalEval")&&bv.contains(t,u)&&(u.src?bv._evalUrl&&bv._evalUrl(u.src):by(u.textContent.replace(aJ,""),t))}}}return F}function bS(h,g,n){for(var m,l=g?bv.filter(g,h):h,k=0;null!=(m=l[k]);k++){n||1!==m.nodeType||bv.cleanData(cF(m)),m.parentNode&&(n&&bv.contains(m.ownerDocument,m)&&cu(cF(m,"script")),m.parentNode.removeChild(m))}return h}bv.extend({htmlPrefilter:function(d){return d.replace(cJ,"<$1></$2>")},clone:function(s,r,q){var p,o,n,m,l=s.cloneNode(!0),k=bv.contains(s.ownerDocument,s);if(!(bz.noCloneChecked||1!==s.nodeType&&11!==s.nodeType||bv.isXMLDoc(s))){for(m=cF(l),n=cF(s),p=0,o=n.length;p<o;p++){cD(n[p],m[p])}}if(r){if(q){for(n=n||cF(s),m=m||cF(l),p=0,o=n.length;p<o;p++){cL(n[p],m[p])}}else{cL(s,l)}}return m=cF(l,"script"),m.length>0&&cu(m,!k&&cF(s,"script")),l},cleanData:function(h){for(var g,n,m,l=bv.event.special,k=0;void 0!==(n=h[k]);k++){if(b1(n)){if(g=n[bZ.expando]){if(g.events){for(m in g.events){l[m]?bv.event.remove(n,m):bv.removeEvent(n,m,g.handle)}}n[bZ.expando]=void 0}n[bY.expando]&&(n[bY.expando]=void 0)}}}}),bv.fn.extend({detach:function(d){return bS(this,d,!0)},remove:function(d){return bS(this,d)},text:function(d){return b2(this,function(e){return void 0===e?bv.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,d,arguments.length)},append:function(){return cs(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=aB(this,e);d.appendChild(e)}})},prepend:function(){return cs(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=aB(this,e);d.insertBefore(e,d.firstChild)}})},before:function(){return cs(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return cs(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var e,d=0;null!=(e=this[d]);d++){1===e.nodeType&&(bv.cleanData(cF(e,!1)),e.textContent="")}return this},clone:function(e,d){return e=null!=e&&e,d=null==d?e:d,this.map(function(){return bv.clone(this,e,d)})},html:function(d){return b2(this,function(g){var f=this[0]||{},l=0,k=this.length;if(void 0===g&&1===f.nodeType){return f.innerHTML}if("string"==typeof g&&!cy.test(g)&&!ad[(av.exec(g)||["",""])[1].toLowerCase()]){g=bv.htmlPrefilter(g);try{for(;l<k;l++){f=this[l]||{},1===f.nodeType&&(bv.cleanData(cF(f,!1)),f.innerHTML=g)}f=0}catch(h){}}f&&this.empty().append(g)},null,d,arguments.length)},replaceWith:function(){var d=[];return cs(this,arguments,function(e){var f=this.parentNode;bv.inArray(this,d)<0&&(bv.cleanData(cF(this)),f&&f.replaceChild(e,this))},d)}}),bv.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,d){bv.fn[e]=function(h){for(var o,n=[],m=bv(h),l=m.length-1,k=0;k<=l;k++){o=k===l?this:this.clone(!0),bv(m[k])[d](o),bG.apply(n,o.get())}return this.pushStack(n)}});var bk=/^margin/,bd=new RegExp("^("+bQ+")(?!px)[a-z%]+$","i"),a4=function(d){var e=d.ownerDocument.defaultView;return e&&e.opener||(e=bP),e.getComputedStyle(d)};!function(){function d(){if(k){k.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",k.innerHTML="",bf.appendChild(l);var e=bP.getComputedStyle(k);p="1%"!==e.top,m="2px"===e.marginLeft,o="4px"===e.width,k.style.marginRight="50%",n="4px"===e.marginRight,bf.removeChild(l),k=null}}var p,o,n,m,l=bM.createElement("div"),k=bM.createElement("div");k.style&&(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",bz.clearCloneStyle="content-box"===k.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(k),bv.extend(bz,{pixelPosition:function(){return d(),p},boxSizingReliable:function(){return d(),o},pixelMarginRight:function(){return d(),n},reliableMarginLeft:function(){return d(),m}}))}();function aV(l,k,r){var q,p,o,n,m=l.style;return r=r||a4(l),r&&(n=r.getPropertyValue(k)||r[k],""!==n||bv.contains(l.ownerDocument,l)||(n=bv.style(l,k)),!bz.pixelMarginRight()&&bd.test(n)&&bk.test(k)&&(q=m.width,p=m.minWidth,o=m.maxWidth,m.minWidth=m.maxWidth=m.width=n,n=r.width,m.width=q,m.minWidth=p,m.maxWidth=o)),void 0!==n?n+"":n}function aN(e,d){return{get:function(){return e()?void delete this.get:(this.get=d).apply(this,arguments)}}}var aF=/^(none|table(?!-c[ea]).+)/,ax={position:"absolute",visibility:"hidden",display:"block"},ao={letterSpacing:"0",fontWeight:"400"},af=["Webkit","Moz","ms"],cH=bM.createElement("div").style;function cw(e){if(e in cH){return e}var d=e[0].toUpperCase()+e.slice(1),f=af.length;while(f--){if(e=af[f]+d,e in cH){return e}}}function b4(f,e,h){var g=cA.exec(e);return g?Math.max(0,g[2]-(h||0))+(g[3]||"px"):e}function bx(k,h,p,o,n){var m,l=0;for(m=p===(o?"border":"content")?4:"width"===h?1:0;m<4;m+=2){"margin"===p&&(l+=bv.css(k,p+cj[m],!0,n)),o?("content"===p&&(l-=bv.css(k,"padding"+cj[m],!0,n)),"margin"!==p&&(l-=bv.css(k,"border"+cj[m]+"Width",!0,n))):(l+=bv.css(k,"padding"+cj[m],!0,n),"padding"!==p&&(l+=bv.css(k,"border"+cj[m]+"Width",!0,n)))}return l}function bg(k,h,p){var o,n=!0,m=a4(k),l="border-box"===bv.css(k,"boxSizing",!1,m);if(k.getClientRects().length&&(o=k.getBoundingClientRect()[h]),o<=0||null==o){if(o=aV(k,h,m),(o<0||null==o)&&(o=k.style[h]),bd.test(o)){return o}n=l&&(bz.boxSizingReliable()||o===k.style[h]),o=parseFloat(o)||0}return o+bx(k,h,p||(l?"border":"content"),n,m)+"px"}bv.extend({cssHooks:{opacity:{get:function(e,d){if(d){var f=aV(e,"opacity");return""===f?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(s,r,q,p){if(s&&3!==s.nodeType&&8!==s.nodeType&&s.style){var o,n,m,l=bv.camelCase(r),k=s.style;return r=bv.cssProps[l]||(bv.cssProps[l]=cw(l)||l),m=bv.cssHooks[r]||bv.cssHooks[l],void 0===q?m&&"get" in m&&void 0!==(o=m.get(s,!1,p))?o:k[r]:(n=typeof q,"string"===n&&(o=cA.exec(q))&&o[1]&&(q=a9(s,r,o),n="number"),null!=q&&q===q&&("number"===n&&(q+=o&&o[3]||(bv.cssNumber[l]?"":"px")),bz.clearCloneStyle||""!==q||0!==r.indexOf("background")||(k[r]="inherit"),m&&"set" in m&&void 0===(q=m.set(s,q,p))||(k[r]=q)),void 0)}},css:function(l,k,r,q){var p,o,n,m=bv.camelCase(k);return k=bv.cssProps[m]||(bv.cssProps[m]=cw(m)||m),n=bv.cssHooks[k]||bv.cssHooks[m],n&&"get" in n&&(p=n.get(l,!0,r)),void 0===p&&(p=aV(l,k,q)),"normal"===p&&k in ao&&(p=ao[k]),""===r||r?(o=parseFloat(p),r===!0||isFinite(o)?o||0:p):p}}),bv.each(["height","width"],function(e,d){bv.cssHooks[d]={get:function(f,h,g){if(h){return !aF.test(bv.css(f,"display"))||f.getClientRects().length&&f.getBoundingClientRect().width?bg(f,d,g):bi(f,ax,function(){return bg(f,d,g)})}},set:function(h,o,n){var m,l=n&&a4(h),k=n&&bx(h,d,n,"border-box"===bv.css(h,"boxSizing",!1,l),l);return k&&(m=cA.exec(o))&&"px"!==(m[3]||"px")&&(h.style[d]=o,o=bv.css(h,d)),b4(h,o,k)}}}),bv.cssHooks.marginLeft=aN(bz.reliableMarginLeft,function(e,d){if(d){return(parseFloat(aV(e,"marginLeft"))||e.getBoundingClientRect().left-bi(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}}),bv.each({margin:"",padding:"",border:"Width"},function(e,d){bv.cssHooks[e+d]={expand:function(l){for(var k=0,h={},g="string"==typeof l?l.split(" "):[l];k<4;k++){h[e+cj[k]+d]=g[k]||g[k-2]||g[0]}return h}},bk.test(e)||(bv.cssHooks[e+d].set=b4)}),bv.fn.extend({css:function(e,d){return b2(this,function(k,h,p){var o,n,m={},l=0;if(bv.isArray(h)){for(o=a4(k),n=h.length;l<n;l++){m[h[l]]=bv.css(k,h[l],!1,o)}return m}return void 0!==p?bv.style(k,h,p):bv.css(k,h)},e,d,arguments.length>1)}});function a7(g,f,l,k,h){return new a7.prototype.init(g,f,l,k,h)}bv.Tween=a7,a7.prototype={constructor:a7,init:function(h,g,n,m,l,k){this.elem=h,this.prop=n,this.easing=l||bv.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=m,this.unit=k||(bv.cssNumber[n]?"":"px")},cur:function(){var d=a7.propHooks[this.prop];return d&&d.get?d.get(this):a7.propHooks._default.get(this)},run:function(e){var d,f=a7.propHooks[this.prop];return this.options.duration?this.pos=d=bv.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=d=e,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),f&&f.set?f.set(this):a7.propHooks._default.set(this),this}},a7.prototype.init.prototype=a7.prototype,a7.propHooks={_default:{get:function(e){var d;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(d=bv.css(e.elem,e.prop,""),d&&"auto"!==d?d:0)},set:function(d){bv.fx.step[d.prop]?bv.fx.step[d.prop](d):1!==d.elem.nodeType||null==d.elem.style[bv.cssProps[d.prop]]&&!bv.cssHooks[d.prop]?d.elem[d.prop]=d.now:bv.style(d.elem,d.prop,d.now+d.unit)}}},a7.propHooks.scrollTop=a7.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},bv.easing={linear:function(d){return d},swing:function(d){return 0.5-Math.cos(d*Math.PI)/2},_default:"swing"},bv.fx=a7.prototype.init,bv.fx.step={};var aY,cq,ai=/^(?:toggle|show|hide)$/,cz=/queueHooks$/;function ch(){cq&&(bP.requestAnimationFrame(ch),bv.fx.tick())}function bI(){return bP.setTimeout(function(){aY=void 0}),aY=bv.now()}function bh(g,f){var l,k=0,h={height:g};for(f=f?1:0;k<4;k+=2-f){l=cj[k],h["margin"+l]=h["padding"+l]=g}return f&&(h.opacity=h.width=g),h}function a8(k,h,p){for(var o,n=(aK.tweeners[h]||[]).concat(aK.tweeners["*"]),m=0,l=n.length;m<l;m++){if(o=n[m].call(p,h,k)){return o}}}function a1(L,K,J){var I,H,F,E,D,C,A,y,w="width" in K||"height" in K,v=this,u={},t=L.style,s=L.nodeType&&bK(L),r=bZ.get(L,"fxshow");J.queue||(E=bv._queueHooks(L,"fx"),null==E.unqueued&&(E.unqueued=0,D=E.empty.fire,E.empty.fire=function(){E.unqueued||D()}),E.unqueued++,v.always(function(){v.always(function(){E.unqueued--,bv.queue(L,"fx").length||E.empty.fire()})}));for(I in K){if(H=K[I],ai.test(H)){if(delete K[I],F=F||"toggle"===H,H===(s?"hide":"show")){if("show"!==H||!r||void 0===r[I]){continue}s=!0}u[I]=r&&r[I]||bv.style(L,I)}}if(C=!bv.isEmptyObject(K),C||!bv.isEmptyObject(u)){w&&1===L.nodeType&&(J.overflow=[t.overflow,t.overflowX,t.overflowY],A=r&&r.display,null==A&&(A=bZ.get(L,"display")),y=bv.css(L,"display"),"none"===y&&(A?y=A:(aL([L],!0),A=L.style.display||A,y=bv.css(L,"display"),aL([L]))),("inline"===y||"inline-block"===y&&null!=A)&&"none"===bv.css(L,"float")&&(C||(v.done(function(){t.display=A}),null==A&&(y=t.display,A="none"===y?"":y)),t.display="inline-block")),J.overflow&&(t.overflow="hidden",v.always(function(){t.overflow=J.overflow[0],t.overflowX=J.overflow[1],t.overflowY=J.overflow[2]})),C=!1;for(I in u){C||(r?"hidden" in r&&(s=r.hidden):r=bZ.access(L,"fxshow",{display:A}),F&&(r.hidden=!s),s&&aL([L],!0),v.done(function(){s||aL([L]),bZ.remove(L,"fxshow");for(I in u){bv.style(L,I,u[I])}})),C=a8(s?r[I]:0,I,v),I in r||(r[I]=C.start,s&&(C.end=C.start,C.start=0))}}}function aS(k,h){var p,o,n,m,l;for(p in k){if(o=bv.camelCase(p),n=h[o],m=k[p],bv.isArray(m)&&(n=m[1],m=k[p]=m[0]),p!==o&&(k[o]=m,delete k[p]),l=bv.cssHooks[o],l&&"expand" in l){m=l.expand(m),delete k[o];for(p in m){p in k||(k[p]=m[p],h[p]=n)}}else{h[o]=n}}}function aK(v,u,t){var s,r,q=0,p=aK.prefilters.length,o=bv.Deferred().always(function(){delete n.elem}),n=function(){if(r){return !1}for(var e=aY||bI(),A=Math.max(0,m.startTime+m.duration-e),y=A/m.duration||0,w=1-y,k=0,h=m.tweens.length;k<h;k++){m.tweens[k].run(w)}return o.notifyWith(v,[m,w,A]),w<1&&h?A:(o.resolveWith(v,[m]),!1)},m=o.promise({elem:v,props:bv.extend({},u),opts:bv.extend(!0,{specialEasing:{},easing:bv.easing._default},t),originalProperties:u,originalOptions:t,startTime:aY||bI(),duration:t.duration,tweens:[],createTween:function(e,g){var f=bv.Tween(v,m.opts,e,g,m.opts.specialEasing[e]||m.opts.easing);return m.tweens.push(f),f},stop:function(e){var g=0,f=e?m.tweens.length:0;if(r){return this}for(r=!0;g<f;g++){m.tweens[g].run(1)}return e?(o.notifyWith(v,[m,1,0]),o.resolveWith(v,[m,e])):o.rejectWith(v,[m,e]),this}}),l=m.props;for(aS(l,m.opts.specialEasing);q<p;q++){if(s=aK.prefilters[q].call(m,v,l,m.opts)){return bv.isFunction(s.stop)&&(bv._queueHooks(m.elem,m.opts.queue).stop=bv.proxy(s.stop,s)),s}}return bv.map(l,a8,m),bv.isFunction(m.opts.start)&&m.opts.start.call(v,m),bv.fx.timer(bv.extend(n,{elem:v,anim:m,queue:m.opts.queue})),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}bv.Animation=bv.extend(aK,{tweeners:{"*":[function(e,d){var f=this.createTween(e,d);return a9(f.elem,e,cA.exec(d),f),f}]},tweener:function(g,f){bv.isFunction(g)?(f=g,g=["*"]):g=g.match(cd);for(var l,k=0,h=g.length;k<h;k++){l=g[k],aK.tweeners[l]=aK.tweeners[l]||[],aK.tweeners[l].unshift(f)}},prefilters:[a1],prefilter:function(e,d){d?aK.prefilters.unshift(e):aK.prefilters.push(e)}}),bv.speed=function(f,d,h){var g=f&&"object"==typeof f?bv.extend({},f):{complete:h||!h&&d||bv.isFunction(f)&&f,duration:f,easing:h&&d||d&&!bv.isFunction(d)&&d};return bv.fx.off||bM.hidden?g.duration=0:"number"!=typeof g.duration&&(g.duration in bv.fx.speeds?g.duration=bv.fx.speeds[g.duration]:g.duration=bv.fx.speeds._default),null!=g.queue&&g.queue!==!0||(g.queue="fx"),g.old=g.complete,g.complete=function(){bv.isFunction(g.old)&&g.old.call(this),g.queue&&bv.dequeue(this,g.queue)},g},bv.fn.extend({fadeTo:function(f,e,h,g){return this.filter(bK).css("opacity",0).show().end().animate({opacity:e},f,h,g)},animate:function(k,h,p,o){var n=bv.isEmptyObject(k),m=bv.speed(h,p,o),l=function(){var d=aK(this,bv.extend({},k),m);(n||bZ.get(this,"finish"))&&d.stop(!0)};return l.finish=l,n||m.queue===!1?this.each(l):this.queue(m.queue,l)},stop:function(f,e,h){var g=function(k){var d=k.stop;delete k.stop,d(h)};return"string"!=typeof f&&(h=e,e=f,f=void 0),e&&f!==!1&&this.queue(f||"fx",[]),this.each(function(){var d=!0,m=null!=f&&f+"queueHooks",l=bv.timers,k=bZ.get(this);if(m){k[m]&&k[m].stop&&g(k[m])}else{for(m in k){k[m]&&k[m].stop&&cz.test(m)&&g(k[m])}}for(m=l.length;m--;){l[m].elem!==this||null!=f&&l[m].queue!==f||(l[m].anim.stop(h),d=!1,l.splice(m,1))}!d&&h||bv.dequeue(this,f)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var h,o=bZ.get(this),n=o[d+"queue"],m=o[d+"queueHooks"],l=bv.timers,k=n?n.length:0;for(o.finish=!0,bv.queue(this,d,[]),m&&m.stop&&m.stop.call(this,!0),h=l.length;h--;){l[h].elem===this&&l[h].queue===d&&(l[h].anim.stop(!0),l.splice(h,1))}for(h=0;h<k;h++){n[h]&&n[h].finish&&n[h].finish.call(this)}delete o.finish})}}),bv.each(["toggle","show","hide"],function(e,d){var f=bv.fn[d];bv.fn[d]=function(g,k,h){return null==g||"boolean"==typeof g?f.apply(this,arguments):this.animate(bh(d,!0),g,k,h)}}),bv.each({slideDown:bh("show"),slideUp:bh("hide"),slideToggle:bh("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,d){bv.fn[e]=function(f,h,g){return this.animate(d,f,h,g)}}),bv.timers=[],bv.fx.tick=function(){var e,d=0,f=bv.timers;for(aY=bv.now();d<f.length;d++){e=f[d],e()||f[d]!==e||f.splice(d--,1)}f.length||bv.fx.stop(),aY=void 0},bv.fx.timer=function(d){bv.timers.push(d),d()?bv.fx.start():bv.timers.pop()},bv.fx.interval=13,bv.fx.start=function(){cq||(cq=bP.requestAnimationFrame?bP.requestAnimationFrame(ch):bP.setInterval(bv.fx.tick,bv.fx.interval))},bv.fx.stop=function(){bP.cancelAnimationFrame?bP.cancelAnimationFrame(cq):bP.clearInterval(cq),cq=null},bv.fx.speeds={slow:600,fast:200,_default:400},bv.fn.delay=function(d,e){return d=bv.fx?bv.fx.speeds[d]||d:d,e=e||"fx",this.queue(e,function(h,g){var f=bP.setTimeout(h,d);g.stop=function(){bP.clearTimeout(f)}})},function(){var e=bM.createElement("input"),d=bM.createElement("select"),f=d.appendChild(bM.createElement("option"));e.type="checkbox",bz.checkOn=""!==e.value,bz.optSelected=f.selected,e=bM.createElement("input"),e.value="t",e.type="radio",bz.radioValue="t"===e.value}();var aC,au=bv.expr.attrHandle;bv.fn.extend({attr:function(e,d){return b2(this,bv.attr,e,d,arguments.length>1)},removeAttr:function(d){return this.each(function(){bv.removeAttr(this,d)})}}),bv.extend({attr:function(h,g,n){var m,l,k=h.nodeType;if(3!==k&&8!==k&&2!==k){return"undefined"==typeof h.getAttribute?bv.prop(h,g,n):(1===k&&bv.isXMLDoc(h)||(l=bv.attrHooks[g.toLowerCase()]||(bv.expr.match.bool.test(g)?aC:void 0)),void 0!==n?null===n?void bv.removeAttr(h,g):l&&"set" in l&&void 0!==(m=l.set(h,n,g))?m:(h.setAttribute(g,n+""),n):l&&"get" in l&&null!==(m=l.get(h,g))?m:(m=bv.find.attr(h,g),null==m?void 0:m))}},attrHooks:{type:{set:function(e,d){if(!bz.radioValue&&"radio"===d&&bv.nodeName(e,"input")){var f=e.value;return e.setAttribute("type",d),f&&(e.value=f),d}}}},removeAttr:function(g,f){var l,k=0,h=f&&f.match(cd);if(h&&1===g.nodeType){while(l=h[k++]){g.removeAttribute(l)}}}}),aC={set:function(e,d,f){return d===!1?bv.removeAttr(e,f):e.setAttribute(f,f),f}},bv.each(bv.expr.match.bool.source.match(/\w+/g),function(e,d){var f=au[d]||bv.find.attr;au[d]=function(k,h,o){var n,m,l=h.toLowerCase();return o||(m=au[l],au[l]=n,n=null!=f(k,h,o)?l:null,au[l]=m),n}});var al=/^(?:input|select|textarea|button)$/i,ac=/^(?:a|area)$/i;bv.fn.extend({prop:function(e,d){return b2(this,bv.prop,e,d,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[bv.propFix[d]||d]})}}),bv.extend({prop:function(h,g,n){var m,l,k=h.nodeType;if(3!==k&&8!==k&&2!==k){return 1===k&&bv.isXMLDoc(h)||(g=bv.propFix[g]||g,l=bv.propHooks[g]),void 0!==n?l&&"set" in l&&void 0!==(m=l.set(h,n,g))?m:h[g]=n:l&&"get" in l&&null!==(m=l.get(h,g))?m:h[g]}},propHooks:{tabIndex:{get:function(e){var d=bv.find.attr(e,"tabindex");return d?parseInt(d,10):al.test(e.nodeName)||ac.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),bz.optSelected||(bv.propHooks.selected={get:function(e){var d=e.parentNode;return d&&d.parentNode&&d.parentNode.selectedIndex,null},set:function(e){var d=e.parentNode;d&&(d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex)}}),bv.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bv.propFix[this.toLowerCase()]=this});function cE(e){var d=e.match(cd)||[];return d.join(" ")}function ct(d){return d.getAttribute&&d.getAttribute("class")||""}bv.fn.extend({addClass:function(s){var r,q,p,o,n,m,l,k=0;if(bv.isFunction(s)){return this.each(function(d){bv(this).addClass(s.call(this,d,ct(this)))})}if("string"==typeof s&&s){r=s.match(cd)||[];while(q=this[k++]){if(o=ct(q),p=1===q.nodeType&&" "+cE(o)+" "){m=0;while(n=r[m++]){p.indexOf(" "+n+" ")<0&&(p+=n+" ")}l=cE(p),o!==l&&q.setAttribute("class",l)}}}return this},removeClass:function(s){var r,q,p,o,n,m,l,k=0;if(bv.isFunction(s)){return this.each(function(d){bv(this).removeClass(s.call(this,d,ct(this)))})}if(!arguments.length){return this.attr("class","")}if("string"==typeof s&&s){r=s.match(cd)||[];while(q=this[k++]){if(o=ct(q),p=1===q.nodeType&&" "+cE(o)+" "){m=0;while(n=r[m++]){while(p.indexOf(" "+n+" ")>-1){p=p.replace(" "+n+" "," ")}}l=cE(p),o!==l&&q.setAttribute("class",l)}}}return this},toggleClass:function(e,d){var f=typeof e;return"boolean"==typeof d&&"string"===f?d?this.addClass(e):this.removeClass(e):bv.isFunction(e)?this.each(function(g){bv(this).toggleClass(e.call(this,g,ct(this),d),d)}):this.each(function(){var g,l,k,h;if("string"===f){l=0,k=bv(this),h=e.match(cd)||[];while(g=h[l++]){k.hasClass(g)?k.removeClass(g):k.addClass(g)}}else{void 0!==e&&"boolean"!==f||(g=ct(this),g&&bZ.set(this,"__className__",g),this.setAttribute&&this.setAttribute("class",g||e===!1?"":bZ.get(this,"__className__")||""))}})},hasClass:function(f){var e,h,g=0;e=" "+f+" ";while(h=this[g++]){if(1===h.nodeType&&(" "+cE(ct(h))+" ").indexOf(e)>-1){return !0}}return !1}});var bT=/\r/g;bv.fn.extend({val:function(g){var f,l,k,h=this[0];if(arguments.length){return k=bv.isFunction(g),this.each(function(m){var d;1===this.nodeType&&(d=k?g.call(this,m,bv(this).val()):g,null==d?d="":"number"==typeof d?d+="":bv.isArray(d)&&(d=bv.map(d,function(e){return null==e?"":e+""})),f=bv.valHooks[this.type]||bv.valHooks[this.nodeName.toLowerCase()],f&&"set" in f&&void 0!==f.set(this,d,"value")||(this.value=d))})}if(h){return f=bv.valHooks[h.type]||bv.valHooks[h.nodeName.toLowerCase()],f&&"get" in f&&void 0!==(l=f.get(h,"value"))?l:(l=h.value,"string"==typeof l?l.replace(bT,""):null==l?"":l)}}}),bv.extend({valHooks:{option:{get:function(e){var d=bv.find.attr(e,"value");return null!=d?d:cE(bv.text(e))}},select:{get:function(s){var r,q,p,o=s.options,n=s.selectedIndex,m="select-one"===s.type,l=m?null:[],k=m?n+1:o.length;for(p=n<0?k:m?n:0;p<k;p++){if(q=o[p],(q.selected||p===n)&&!q.disabled&&(!q.parentNode.disabled||!bv.nodeName(q.parentNode,"optgroup"))){if(r=bv(q).val(),m){return r}l.push(r)}}return l},set:function(k,h){var p,o,n=k.options,m=bv.makeArray(h),l=n.length;while(l--){o=n[l],(o.selected=bv.inArray(bv.valHooks.option.get(o),m)>-1)&&(p=!0)}return p||(k.selectedIndex=-1),m}}}}),bv.each(["radio","checkbox"],function(){bv.valHooks[this]={set:function(e,d){if(bv.isArray(d)){return e.checked=bv.inArray(bv(e).val(),d)>-1}}},bz.checkOn||(bv.valHooks[this].get=function(d){return null===d.getAttribute("value")?"on":d.value})});var bl=/^(?:focusinfocus|focusoutblur)$/;bv.extend(bv.event,{trigger:function(F,E,D,C){var A,y,w,v,u,t,s,r=[D||bM],l=bC.call(F,"type")?F.type:F,d=bC.call(F,"namespace")?F.namespace.split("."):[];if(y=w=D=D||bM,3!==D.nodeType&&8!==D.nodeType&&!bl.test(l+bv.event.triggered)&&(l.indexOf(".")>-1&&(d=l.split("."),l=d.shift(),d.sort()),u=l.indexOf(":")<0&&"on"+l,F=F[bv.expando]?F:new bv.Event(l,"object"==typeof F&&F),F.isTrigger=C?2:3,F.namespace=d.join("."),F.rnamespace=F.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,F.result=void 0,F.target||(F.target=D),E=null==E?[F]:bv.makeArray(E,[F]),s=bv.event.special[l]||{},C||!s.trigger||s.trigger.apply(D,E)!==!1)){if(!C&&!s.noBubble&&!bv.isWindow(D)){for(v=s.delegateType||l,bl.test(v+l)||(y=y.parentNode);y;y=y.parentNode){r.push(y),w=y}w===(D.ownerDocument||bM)&&r.push(w.defaultView||w.parentWindow||bP)}A=0;while((y=r[A++])&&!F.isPropagationStopped()){F.type=A>1?v:s.bindType||l,t=(bZ.get(y,"events")||{})[F.type]&&bZ.get(y,"handle"),t&&t.apply(y,E),t=u&&y[u],t&&t.apply&&b1(y)&&(F.result=t.apply(y,E),F.result===!1&&F.preventDefault())}return F.type=l,C||F.isDefaultPrevented()||s._default&&s._default.apply(r.pop(),E)!==!1||!b1(D)||u&&bv.isFunction(D[l])&&!bv.isWindow(D)&&(w=D[u],w&&(D[u]=null),bv.event.triggered=l,D[l](),bv.event.triggered=void 0,w&&(D[u]=w)),F.result}},simulate:function(f,e,h){var g=bv.extend(new bv.Event,h,{type:f,isSimulated:!0});bv.event.trigger(g,null,e)}}),bv.fn.extend({trigger:function(e,d){return this.each(function(){bv.event.trigger(e,d,this)})},triggerHandler:function(e,d){var f=this[0];if(f){return bv.event.trigger(e,d,f,!0)}}}),bv.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,d){bv.fn[d]=function(f,g){return arguments.length>0?this.on(d,null,f,g):this.trigger(d)}}),bv.fn.extend({hover:function(e,d){return this.mouseenter(e).mouseleave(d||e)}}),bz.focusin="onfocusin" in bP,bz.focusin||bv.each({focus:"focusin",blur:"focusout"},function(e,d){var f=function(g){bv.event.simulate(d,g.target,bv.event.fix(g))};bv.event.special[d]={setup:function(){var h=this.ownerDocument||this,g=bZ.access(h,d);g||h.addEventListener(e,f,!0),bZ.access(h,d,(g||0)+1)},teardown:function(){var h=this.ownerDocument||this,g=bZ.access(h,d)-1;g?bZ.access(h,d,g):(h.removeEventListener(e,f,!0),bZ.remove(h,d))}}});var be=bP.location,a5=bv.now(),aW=/\?/;bv.parseXML=function(e){var g;if(!e||"string"!=typeof e){return null}try{g=(new bP.DOMParser).parseFromString(e,"text/xml")}catch(f){g=void 0}return g&&!g.getElementsByTagName("parsererror").length||bv.error("Invalid XML: "+e),g};var aO=/\[\]$/,aG=/\r?\n/g,ay=/^(?:submit|button|image|reset|file)$/i,ap=/^(?:input|select|textarea|keygen)/i;function ag(g,f,l,k){var h;if(bv.isArray(f)){bv.each(f,function(d,m){l||aO.test(g)?k(g,m):ag(g+"["+("object"==typeof m&&null!=m?d:"")+"]",m,l,k)})}else{if(l||"object"!==bv.type(f)){k(g,f)}else{for(h in f){ag(g+"["+h+"]",f[h],l,k)}}}}bv.param=function(g,f){var l,k=[],h=function(e,d){var m=bv.isFunction(d)?d():d;k[k.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==m?"":m)};if(bv.isArray(g)||g.jquery&&!bv.isPlainObject(g)){bv.each(g,function(){h(this.name,this.value)})}else{for(l in g){ag(l,g[l],f,h)}}return k.join("&")},bv.fn.extend({serialize:function(){return bv.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=bv.prop(this,"elements");return d?bv.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!bv(this).is(":disabled")&&ap.test(this.nodeName)&&!ay.test(d)&&(this.checked||!aD.test(d))}).map(function(e,d){var f=bv(this).val();return null==f?null:bv.isArray(f)?bv.map(f,function(g){return{name:d.name,value:g.replace(aG,"\r\n")}}):{name:d.name,value:f.replace(aG,"\r\n")}}).get()}});var cI=/%20/g,cx=/#.*$/,aZ=/([?&])_=[^&]*/,aQ=/^(.*?):[ \t]*([^\r\n]*)$/gm,aI=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,aA=/^(?:GET|HEAD)$/,ar=/^\/\//,aj={},cK={},cC="*/".concat("*"),cr=bM.createElement("a");cr.href=be.href;function bR(d){return function(g,m){"string"!=typeof g&&(m=g,g="*");var l,k=0,h=g.toLowerCase().match(cd)||[];if(bv.isFunction(m)){while(l=h[k++]){"+"===l[0]?(l=l.slice(1)||"*",(d[l]=d[l]||[]).unshift(m)):(d[l]=d[l]||[]).push(m)}}}}function bj(k,h,p,o){var n={},m=k===cK;function l(e){var d;return n[e]=!0,bv.each(k[e]||[],function(f,q){var g=q(h,p,o);return"string"!=typeof g||m||n[g]?m?!(d=g):void 0:(h.dataTypes.unshift(g),l(g),!1)}),d}return l(h.dataTypes[0])||!n["*"]&&l("*")}function bc(g,f){var l,k,h=bv.ajaxSettings.flatOptions||{};for(l in f){void 0!==f[l]&&((h[l]?g:k||(k={}))[l]=f[l])}return k&&bv.extend(!0,g,k),g}function a3(s,r,q){var p,o,n,m,l=s.contents,k=s.dataTypes;while("*"===k[0]){k.shift(),void 0===p&&(p=s.mimeType||r.getResponseHeader("Content-Type"))}if(p){for(o in l){if(l[o]&&l[o].test(p)){k.unshift(o);break}}}if(k[0] in q){n=k[0]}else{for(o in q){if(!k[0]||s.converters[o+" "+k[0]]){n=o;break}m||(m=o)}n=n||m}if(n){return n!==k[0]&&k.unshift(n),q[n]}}function aU(y,w,v,u){var t,s,r,q,p,o={},n=y.dataTypes.slice();if(n[1]){for(r in y.converters){o[r.toLowerCase()]=y.converters[r]}}s=n.shift();while(s){if(y.responseFields[s]&&(v[y.responseFields[s]]=w),!p&&u&&y.dataFilter&&(w=y.dataFilter(w,y.dataType)),p=s,s=n.shift()){if("*"===s){s=p}else{if("*"!==p&&p!==s){if(r=o[p+" "+s]||o["* "+s],!r){for(t in o){if(q=t.split(" "),q[1]===s&&(r=o[p+" "+q[0]]||o["* "+q[0]])){r===!0?r=o[t]:o[t]!==!0&&(s=q[0],n.unshift(q[1]));break}}}if(r!==!0){if(r&&y["throws"]){w=r(w)}else{try{w=r(w)}catch(m){return{state:"parsererror",error:r?m:"No conversion from "+p+" to "+s}}}}}}}}return{state:"success",data:w}}bv.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:aI.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cC,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":bv.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,d){return d?bc(bc(e,bv.ajaxSettings),d):bc(bv.ajaxSettings,e)},ajaxPrefilter:bR(aj),ajaxTransport:bR(cK),ajax:function(Z,Y){"object"==typeof Z&&(Y=Z,Z=void 0),Y=Y||{};var X,W,V,U,T,S,Q,P,O,N,M=bv.ajaxSetup({},Y),L=M.context||M,J=M.context&&(L.nodeType||L.jquery)?bv(L):bv.event,I=bv.Deferred(),H=bv.Callbacks("once memory"),F=M.statusCode||{},E={},D={},C="canceled",r={readyState:0,getResponseHeader:function(f){var e;if(Q){if(!U){U={};while(e=aQ.exec(V)){U[e[1].toLowerCase()]=e[2]}}e=U[f.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return Q?V:null},setRequestHeader:function(f,e){return null==Q&&(f=D[f.toLowerCase()]=D[f.toLowerCase()]||f,E[f]=e),this},overrideMimeType:function(e){return null==Q&&(M.mimeType=e),this},statusCode:function(f){var e;if(f){if(Q){r.always(f[r.status])}else{for(e in f){F[e]=[F[e],f[e]]}}}return this},abort:function(f){var e=f||C;return X&&X.abort(e),K(0,e),this}};if(I.promise(r),M.url=((Z||M.url||be.href)+"").replace(ar,be.protocol+"//"),M.type=Y.method||Y.type||M.method||M.type,M.dataTypes=(M.dataType||"*").toLowerCase().match(cd)||[""],null==M.crossDomain){S=bM.createElement("a");try{S.href=M.url,S.href=S.href,M.crossDomain=cr.protocol+"//"+cr.host!=S.protocol+"//"+S.host}catch(d){M.crossDomain=!0}}if(M.data&&M.processData&&"string"!=typeof M.data&&(M.data=bv.param(M.data,M.traditional)),bj(aj,M,Y,r),Q){return r}P=bv.event&&M.global,P&&0===bv.active++&&bv.event.trigger("ajaxStart"),M.type=M.type.toUpperCase(),M.hasContent=!aA.test(M.type),W=M.url.replace(cx,""),M.hasContent?M.data&&M.processData&&0===(M.contentType||"").indexOf("application/x-www-form-urlencoded")&&(M.data=M.data.replace(cI,"+")):(N=M.url.slice(W.length),M.data&&(W+=(aW.test(W)?"&":"?")+M.data,delete M.data),M.cache===!1&&(W=W.replace(aZ,"$1"),N=(aW.test(W)?"&":"?")+"_="+a5+++N),M.url=W+N),M.ifModified&&(bv.lastModified[W]&&r.setRequestHeader("If-Modified-Since",bv.lastModified[W]),bv.etag[W]&&r.setRequestHeader("If-None-Match",bv.etag[W])),(M.data&&M.hasContent&&M.contentType!==!1||Y.contentType)&&r.setRequestHeader("Content-Type",M.contentType),r.setRequestHeader("Accept",M.dataTypes[0]&&M.accepts[M.dataTypes[0]]?M.accepts[M.dataTypes[0]]+("*"!==M.dataTypes[0]?", "+cC+"; q=0.01":""):M.accepts["*"]);for(O in M.headers){r.setRequestHeader(O,M.headers[O])}if(M.beforeSend&&(M.beforeSend.call(L,r,M)===!1||Q)){return r.abort()}if(C="abort",H.add(M.complete),r.done(M.success),r.fail(M.error),X=bj(cK,M,Y,r)){if(r.readyState=1,P&&J.trigger("ajaxSend",[r,M]),Q){return r}M.async&&M.timeout>0&&(T=bP.setTimeout(function(){r.abort("timeout")},M.timeout));try{Q=!1,X.send(E,K)}catch(d){if(Q){throw d}K(-1,d)}}else{K(-1,"No Transport")}function K(p,o,l,k){var g,f,e,t,s,q=o;Q||(Q=!0,T&&bP.clearTimeout(T),X=void 0,V=k||"",r.readyState=p>0?4:0,g=p>=200&&p<300||304===p,l&&(t=a3(M,r,l)),t=aU(M,t,r,g),g?(M.ifModified&&(s=r.getResponseHeader("Last-Modified"),s&&(bv.lastModified[W]=s),s=r.getResponseHeader("etag"),s&&(bv.etag[W]=s)),204===p||"HEAD"===M.type?q="nocontent":304===p?q="notmodified":(q=t.state,f=t.data,e=t.error,g=!e)):(e=q,!p&&q||(q="error",p<0&&(p=0))),r.status=p,r.statusText=(o||q)+"",g?I.resolveWith(L,[f,q,r]):I.rejectWith(L,[r,q,e]),r.statusCode(F),F=void 0,P&&J.trigger(g?"ajaxSuccess":"ajaxError",[r,M,g?f:e]),H.fireWith(L,[r,q]),P&&(J.trigger("ajaxComplete",[r,M]),--bv.active||bv.event.trigger("ajaxStop")))}return r},getJSON:function(e,d,f){return bv.get(e,d,f,"json")},getScript:function(e,d){return bv.get(e,void 0,d,"script")}}),bv.each(["get","post"],function(e,d){bv[d]=function(f,k,h,g){return bv.isFunction(k)&&(g=g||h,h=k,k=void 0),bv.ajax(bv.extend({url:f,type:d,dataType:g,data:k,success:h},bv.isPlainObject(f)&&f))}}),bv._evalUrl=function(d){return bv.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},bv.fn.extend({wrapAll:function(e){var d;return this[0]&&(bv.isFunction(e)&&(e=e.call(this[0])),d=bv(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){var f=this;while(f.firstElementChild){f=f.firstElementChild}return f}).append(this)),this},wrapInner:function(d){return bv.isFunction(d)?this.each(function(e){bv(this).wrapInner(d.call(this,e))}):this.each(function(){var e=bv(this),f=e.contents();f.length?f.wrapAll(d):e.append(d)})},wrap:function(e){var d=bv.isFunction(e);return this.each(function(f){bv(this).wrapAll(d?e.call(this,f):e)})},unwrap:function(d){return this.parent(d).not("body").each(function(){bv(this).replaceWith(this.childNodes)}),this}}),bv.expr.pseudos.hidden=function(d){return !bv.expr.pseudos.visible(d)},bv.expr.pseudos.visible=function(d){return !!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},bv.ajaxSettings.xhr=function(){try{return new bP.XMLHttpRequest}catch(d){}};var aM={0:200,1223:204},aE=bv.ajaxSettings.xhr();bz.cors=!!aE&&"withCredentials" in aE,bz.ajax=aE=!!aE,bv.ajaxTransport(function(e){var g,f;if(bz.cors||aE&&!e.crossDomain){return{send:function(n,m){var l,k=e.xhr();if(k.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields){for(l in e.xhrFields){k[l]=e.xhrFields[l]}}e.mimeType&&k.overrideMimeType&&k.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(l in n){k.setRequestHeader(l,n[l])}g=function(h){return function(){g&&(g=f=k.onload=k.onerror=k.onabort=k.onreadystatechange=null,"abort"===h?k.abort():"error"===h?"number"!=typeof k.status?m(0,"error"):m(k.status,k.statusText):m(aM[k.status]||k.status,k.statusText,"text"!==(k.responseType||"text")||"string"!=typeof k.responseText?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=g(),f=k.onerror=g("error"),void 0!==k.onabort?k.onabort=f:k.onreadystatechange=function(){4===k.readyState&&bP.setTimeout(function(){g&&f()})},g=g("abort");try{k.send(e.hasContent&&e.data||null)}catch(d){if(g){throw d}}},abort:function(){g&&g()}}}}),bv.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),bv.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return bv.globalEval(d),d}}}),bv.ajaxPrefilter("script",function(d){void 0===d.cache&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),bv.ajaxTransport("script",function(e){if(e.crossDomain){var d,f;return{send:function(h,g){d=bv("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",f=function(k){d.remove(),f=null,k&&g("error"===k.type?404:200,k.type)}),bM.head.appendChild(d[0])},abort:function(){f&&f()}}}});var aw=[],an=/(=)\?(?=&|$)|\?\?/;bv.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=aw.pop()||bv.expando+"_"+a5++;return this[d]=!0,d}}),bv.ajaxPrefilter("json jsonp",function(k,q,p){var o,n,m,l=k.jsonp!==!1&&(an.test(k.url)?"url":"string"==typeof k.data&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&an.test(k.data)&&"data");if(l||"jsonp"===k.dataTypes[0]){return o=k.jsonpCallback=bv.isFunction(k.jsonpCallback)?k.jsonpCallback():k.jsonpCallback,l?k[l]=k[l].replace(an,"$1"+o):k.jsonp!==!1&&(k.url+=(aW.test(k.url)?"&":"?")+k.jsonp+"="+o),k.converters["script json"]=function(){return m||bv.error(o+" was not called"),m[0]},k.dataTypes[0]="json",n=bP[o],bP[o]=function(){m=arguments},p.always(function(){void 0===n?bv(bP).removeProp(o):bP[o]=n,k[o]&&(k.jsonpCallback=q.jsonpCallback,aw.push(o)),m&&bv.isFunction(n)&&n(m[0]),m=n=void 0}),"script"}}),bz.createHTMLDocument=function(){var d=bM.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",2===d.childNodes.length}(),bv.parseHTML=function(h,d,n){if("string"!=typeof h){return[]}"boolean"==typeof d&&(n=d,d=!1);var m,l,k;return d||(bz.createHTMLDocument?(d=bM.implementation.createHTMLDocument(""),m=d.createElement("base"),m.href=bM.location.href,d.head.appendChild(m)):d=bM),l=co.exec(h),k=!n&&[],l?[d.createElement(l[1])]:(l=bn([h],d,k),k&&k.length&&bv(k).remove(),bv.merge([],l.childNodes))},bv.fn.load=function(l,k,r){var q,p,o,n=this,m=l.indexOf(" ");return m>-1&&(q=cE(l.slice(m)),l=l.slice(0,m)),bv.isFunction(k)?(r=k,k=void 0):k&&"object"==typeof k&&(p="POST"),n.length>0&&bv.ajax({url:l,type:p||"GET",dataType:"html",data:k}).done(function(d){o=arguments,n.html(q?bv("<div>").append(bv.parseHTML(d)).find(q):d)}).always(r&&function(e,d){n.each(function(){r.apply(this,o||[e.responseText,d,e])})}),this},bv.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,d){bv.fn[d]=function(f){return this.on(d,f)}}),bv.expr.pseudos.animated=function(d){return bv.grep(bv.timers,function(e){return d===e.elem}).length};function ae(d){return bv.isWindow(d)?d:9===d.nodeType&&d.defaultView}bv.offset={setOffset:function(C,A,y){var w,v,u,t,s,r,q,p=bv.css(C,"position"),o=bv(C),n={};"static"===p&&(C.style.position="relative"),s=o.offset(),u=bv.css(C,"top"),r=bv.css(C,"left"),q=("absolute"===p||"fixed"===p)&&(u+r).indexOf("auto")>-1,q?(w=o.position(),t=w.top,v=w.left):(t=parseFloat(u)||0,v=parseFloat(r)||0),bv.isFunction(A)&&(A=A.call(C,y,bv.extend({},s))),null!=A.top&&(n.top=A.top-s.top+t),null!=A.left&&(n.left=A.left-s.left+v),"using" in A?A.using.call(C,n):o.css(n)}},bv.fn.extend({offset:function(h){if(arguments.length){return void 0===h?this:this.each(function(d){bv.offset.setOffset(this,h,d)})}var g,n,m,l,k=this[0];if(k){return k.getClientRects().length?(m=k.getBoundingClientRect(),m.width||m.height?(l=k.ownerDocument,n=ae(l),g=l.documentElement,{top:m.top+n.pageYOffset-g.clientTop,left:m.left+n.pageXOffset-g.clientLeft}):m):{top:0,left:0}}},position:function(){if(this[0]){var f,e,h=this[0],g={top:0,left:0};return"fixed"===bv.css(h,"position")?e=h.getBoundingClientRect():(f=this.offsetParent(),e=this.offset(),bv.nodeName(f[0],"html")||(g=f.offset()),g={top:g.top+bv.css(f[0],"borderTopWidth",!0),left:g.left+bv.css(f[0],"borderLeftWidth",!0)}),{top:e.top-g.top-bv.css(h,"marginTop",!0),left:e.left-g.left-bv.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var d=this.offsetParent;while(d&&"static"===bv.css(d,"position")){d=d.offsetParent}return d||bf})}}),bv.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,d){var f="pageYOffset"===d;bv.fn[e]=function(g){return b2(this,function(h,m,l){var k=ae(h);return void 0===l?k?k[d]:h[m]:void (k?k.scrollTo(f?k.pageXOffset:l,f?l:k.pageYOffset):h[m]=l)},e,g,arguments.length)}}),bv.each(["top","left"],function(e,d){bv.cssHooks[d]=aN(bz.pixelPosition,function(f,g){if(g){return g=aV(f,d),bd.test(g)?bv(f).position()[d]+"px":g}})}),bv.each({Height:"height",Width:"width"},function(e,d){bv.each({padding:"inner"+e,content:d,"":"outer"+e},function(g,f){bv.fn[f]=function(n,m){var l=arguments.length&&(g||"boolean"!=typeof n),k=g||(n===!0||m===!0?"margin":"border");return b2(this,function(h,q,p){var o;return bv.isWindow(h)?0===f.indexOf("outer")?h["inner"+e]:h.document.documentElement["client"+e]:9===h.nodeType?(o=h.documentElement,Math.max(h.body["scroll"+e],o["scroll"+e],h.body["offset"+e],o["offset"+e],o["client"+e])):void 0===p?bv.css(h,q,k):bv.style(h,q,p,k)},d,l?n:void 0,l)}})}),bv.fn.extend({bind:function(e,d,f){return this.on(e,null,d,f)},unbind:function(e,d){return this.off(e,null,d)},delegate:function(f,e,h,g){return this.on(e,f,h,g)},undelegate:function(e,d,f){return 1===arguments.length?this.off(e,"**"):this.off(d,e||"**",f)}}),bv.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return bv});var cG=bP.jQuery,cv=bP.$;return bv.noConflict=function(d){return bP.$===bv&&(bP.$=cv),d&&bP.jQuery===bv&&(bP.jQuery=cG),bv},bO||(bP.jQuery=bP.$=bv),bv});if(jQuery){(function(){$.extend($.fn,{rightClick:function(d){$(this).each(function(){$(this).mousedown(function(g){var f=g;$(this).mouseup(function(){$(this).unbind("mouseup");if(f.button==2){d.call($(this),f);return false}else{return true}})});$(this)[0].oncontextmenu=function(){return false}});return $(this)},rightMouseDown:function(d){$(this).each(function(){$(this).mousedown(function(f){if(f.button==2){d.call($(this),f);return false}else{return true}});$(this)[0].oncontextmenu=function(){return false}});return $(this)},rightMouseUp:function(d){$(this).each(function(){$(this).mouseup(function(f){if(f.button==2){d.call($(this),f);return false}else{return true}});$(this)[0].oncontextmenu=function(){return false}});return $(this)},noContext:function(){$(this).each(function(){$(this)[0].oncontextmenu=function(){return false}});return $(this)}})})(jQuery)}var MD5=function(u){function P(k,d){return(k<<d)|(k>>>(32-d))}function O(I,k){var af,d,H,ae,F;H=(I&2147483648);ae=(k&2147483648);af=(I&1073741824);d=(k&1073741824);F=(I&1073741823)+(k&1073741823);if(af&d){return(F^2147483648^H^ae)}if(af|d){if(F&1073741824){return(F^3221225472^H^ae)}else{return(F^1073741824^H^ae)}}else{return(F^H^ae)}}function t(d,F,k){return(d&F)|((~d)&k)}function s(d,F,k){return(d&k)|(F&(~k))}function r(d,F,k){return(d^F^k)}function p(d,F,k){return(F^(d|(~k)))}function w(H,F,ag,af,k,I,ae){H=O(H,O(O(t(F,ag,af),k),ae));return O(P(H,I),F)}function f(H,F,ag,af,k,I,ae){H=O(H,O(O(s(F,ag,af),k),ae));return O(P(H,I),F)}function L(H,F,ag,af,k,I,ae){H=O(H,O(O(r(F,ag,af),k),ae));return O(P(H,I),F)}function v(H,F,ag,af,k,I,ae){H=O(H,O(O(p(F,ag,af),k),ae));return O(P(H,I),F)}function e(I){var ag;var H=I.length;var F=H+8;var k=(F-(F%64))/64;var af=(k+1)*16;var ah=Array(af-1);var d=0;var ae=0;while(ae<H){ag=(ae-(ae%4))/4;d=(ae%4)*8;ah[ag]=(ah[ag]|(I.charCodeAt(ae)<<d));ae++}ag=(ae-(ae%4))/4;d=(ae%4)*8;ah[ag]=ah[ag]|(128<<d);ah[af-2]=H<<3;ah[af-1]=H>>>29;return ah}function J(F){var k="",H="",I,d;for(d=0;d<=3;d++){I=(F>>>(d*8))&255;H="0"+I.toString(16);k=k+H.substr(H.length-2,2)}return k}function N(k){k=k.replace(/\r\n/g,"\n");var d="";for(var H=0;H<k.length;H++){var F=k.charCodeAt(H);if(F<128){d+=String.fromCharCode(F)}else{if((F>127)&&(F<2048)){d+=String.fromCharCode((F>>6)|192);d+=String.fromCharCode((F&63)|128)}else{d+=String.fromCharCode((F>>12)|224);d+=String.fromCharCode(((F>>6)&63)|128);d+=String.fromCharCode((F&63)|128)}}}return d}var K=Array();var U,h,M,y,g,ad,ac,ab,aa;var X=7,V=12,S=17,Q=22;var E=5,D=9,C=14,A=20;var q=4,o=11,n=16,m=23;var Z=6,Y=10,W=15,T=21;u=N(u);K=e(u);ad=1732584193;ac=4023233417;ab=2562383102;aa=271733878;for(U=0;U<K.length;U+=16){h=ad;M=ac;y=ab;g=aa;ad=w(ad,ac,ab,aa,K[U+0],X,3614090360);aa=w(aa,ad,ac,ab,K[U+1],V,3905402710);ab=w(ab,aa,ad,ac,K[U+2],S,606105819);ac=w(ac,ab,aa,ad,K[U+3],Q,3250441966);ad=w(ad,ac,ab,aa,K[U+4],X,4118548399);aa=w(aa,ad,ac,ab,K[U+5],V,1200080426);ab=w(ab,aa,ad,ac,K[U+6],S,2821735955);ac=w(ac,ab,aa,ad,K[U+7],Q,4249261313);ad=w(ad,ac,ab,aa,K[U+8],X,1770035416);aa=w(aa,ad,ac,ab,K[U+9],V,2336552879);ab=w(ab,aa,ad,ac,K[U+10],S,4294925233);ac=w(ac,ab,aa,ad,K[U+11],Q,2304563134);ad=w(ad,ac,ab,aa,K[U+12],X,1804603682);aa=w(aa,ad,ac,ab,K[U+13],V,4254626195);ab=w(ab,aa,ad,ac,K[U+14],S,2792965006);ac=w(ac,ab,aa,ad,K[U+15],Q,1236535329);ad=f(ad,ac,ab,aa,K[U+1],E,4129170786);aa=f(aa,ad,ac,ab,K[U+6],D,3225465664);ab=f(ab,aa,ad,ac,K[U+11],C,643717713);ac=f(ac,ab,aa,ad,K[U+0],A,3921069994);ad=f(ad,ac,ab,aa,K[U+5],E,3593408605);aa=f(aa,ad,ac,ab,K[U+10],D,38016083);ab=f(ab,aa,ad,ac,K[U+15],C,3634488961);ac=f(ac,ab,aa,ad,K[U+4],A,3889429448);ad=f(ad,ac,ab,aa,K[U+9],E,568446438);aa=f(aa,ad,ac,ab,K[U+14],D,3275163606);ab=f(ab,aa,ad,ac,K[U+3],C,4107603335);ac=f(ac,ab,aa,ad,K[U+8],A,1163531501);ad=f(ad,ac,ab,aa,K[U+13],E,2850285829);aa=f(aa,ad,ac,ab,K[U+2],D,4243563512);ab=f(ab,aa,ad,ac,K[U+7],C,1735328473);ac=f(ac,ab,aa,ad,K[U+12],A,2368359562);ad=L(ad,ac,ab,aa,K[U+5],q,4294588738);aa=L(aa,ad,ac,ab,K[U+8],o,2272392833);ab=L(ab,aa,ad,ac,K[U+11],n,1839030562);ac=L(ac,ab,aa,ad,K[U+14],m,4259657740);ad=L(ad,ac,ab,aa,K[U+1],q,2763975236);aa=L(aa,ad,ac,ab,K[U+4],o,1272893353);ab=L(ab,aa,ad,ac,K[U+7],n,4139469664);ac=L(ac,ab,aa,ad,K[U+10],m,3200236656);ad=L(ad,ac,ab,aa,K[U+13],q,681279174);aa=L(aa,ad,ac,ab,K[U+0],o,3936430074);ab=L(ab,aa,ad,ac,K[U+3],n,3572445317);ac=L(ac,ab,aa,ad,K[U+6],m,76029189);ad=L(ad,ac,ab,aa,K[U+9],q,3654602809);aa=L(aa,ad,ac,ab,K[U+12],o,3873151461);ab=L(ab,aa,ad,ac,K[U+15],n,530742520);ac=L(ac,ab,aa,ad,K[U+2],m,3299628645);ad=v(ad,ac,ab,aa,K[U+0],Z,4096336452);aa=v(aa,ad,ac,ab,K[U+7],Y,1126891415);ab=v(ab,aa,ad,ac,K[U+14],W,2878612391);ac=v(ac,ab,aa,ad,K[U+5],T,4237533241);ad=v(ad,ac,ab,aa,K[U+12],Z,1700485571);aa=v(aa,ad,ac,ab,K[U+3],Y,2399980690);ab=v(ab,aa,ad,ac,K[U+10],W,4293915773);ac=v(ac,ab,aa,ad,K[U+1],T,2240044497);ad=v(ad,ac,ab,aa,K[U+8],Z,1873313359);aa=v(aa,ad,ac,ab,K[U+15],Y,4264355552);ab=v(ab,aa,ad,ac,K[U+6],W,2734768916);ac=v(ac,ab,aa,ad,K[U+13],T,1309151649);ad=v(ad,ac,ab,aa,K[U+4],Z,4149444226);aa=v(aa,ad,ac,ab,K[U+11],Y,3174756917);ab=v(ab,aa,ad,ac,K[U+2],W,718787259);ac=v(ac,ab,aa,ad,K[U+9],T,3951481745);ad=O(ad,h);ac=O(ac,M);ab=O(ab,y);aa=O(aa,g)}var l=J(ad)+J(ac)+J(ab)+J(aa);return l.toLowerCase()};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){var d="";var o,m,k,n,l,h,g;var e=0;f=Base64._utf8_encode(f);while(e<f.length){o=f.charCodeAt(e++);m=f.charCodeAt(e++);k=f.charCodeAt(e++);n=o>>2;l=((o&3)<<4)|(m>>4);h=((m&15)<<2)|(k>>6);g=k&63;if(isNaN(m)){h=g=64}else{if(isNaN(k)){g=64}}d=d+this._keyStr.charAt(n)+this._keyStr.charAt(l)+this._keyStr.charAt(h)+this._keyStr.charAt(g)}return d},decode:function(f){var d="";var o,m,k;var n,l,h,g;var e=0;f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(e<f.length){n=this._keyStr.indexOf(f.charAt(e++));l=this._keyStr.indexOf(f.charAt(e++));h=this._keyStr.indexOf(f.charAt(e++));g=this._keyStr.indexOf(f.charAt(e++));o=(n<<2)|(l>>4);m=((l&15)<<4)|(h>>2);k=((h&3)<<6)|g;d=d+String.fromCharCode(o);if(h!=64){d=d+String.fromCharCode(m)}if(g!=64){d=d+String.fromCharCode(k)}}d=Base64._utf8_decode(d);return d},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var d="";for(var g=0;g<e.length;g++){var f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f)}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128)}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128)}}}return d},_utf8_decode:function(d){var e="";var f=0;var g=c1=c2=0;while(f<d.length){g=d.charCodeAt(f);if(g<128){e+=String.fromCharCode(g);f++}else{if((g>191)&&(g<224)){c2=d.charCodeAt(f+1);e+=String.fromCharCode(((g&31)<<6)|(c2&63));f+=2}else{c2=d.charCodeAt(f+1);c3=d.charCodeAt(f+2);e+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));f+=3}}}return e}};var cookies={create:function(f,g,h){if(h){var e=new Date();e.setTime(e.getTime()+(h*24*60*60*1000));var d="; expires="+e.toGMTString()}else{var d=""}document.cookie=f+"="+g+d+"; path=/"},read:function(e){var g=e+"=";var d=document.cookie.split(";");for(var f=0;f<d.length;f++){var h=d[f];while(h.charAt(0)===" "){h=h.substring(1,h.length)}if(h.indexOf(g)===0){return h.substring(g.length,h.length)}}return null},erase:function(d){cookies.create(d,"",-1)}};function dhtmlXProtobarObject(){return this}dhtmlXProtobarObject.prototype.setOnShowHandler=function(func){if(typeof(func)=="function"){this.onShow=func}else{this.onShow=eval(func)}};dhtmlXProtobarObject.prototype._getItemIndex=function(e){for(var d=0;d<this.itemsCount;d++){if(this.items[d].id==e){return d}}return -1};dhtmlXProtobarObject.prototype.setGfxPath=function(d){this.sysGfxPath=d;if(this._adjustGFXPath){this._adjustGFXPath(d)}};dhtmlXProtobarObject.prototype.setOnHideHandler=function(func){if(typeof(func)=="function"){this.onHide=func}else{this.onHide=eval(func)}};dhtmlXProtobarObject.prototype.setItemAction=function(f,d){var e=this._getItemIndex(f);if(e>=0){this.items[e].setSecondAction(d)}};dhtmlXProtobarObject.prototype.getItem=function(e){var d=this._getItemIndex(e);if(d>=0){return this.items[d]}};dhtmlXProtobarObject.prototype.hideButtons=function(f){if(!f){for(var e=0;e<this.itemsCount;e++){var g=this.items[e].getTopNode();g.style.display="none";if(this.extraMode){g.parentNode.style.display="none"}this.items[e].hide=1}return 0}var d=f.split(",");for(var e=0;e<d.length;e++){this.hideItem(d[e])}};dhtmlXProtobarObject.prototype.showButtons=function(g){if(!g){for(var f=0;f<this.itemsCount;f++){var d=this.items[f].getTopNode();d.style.display="";if(this.extraMode){d.parentNode.style.display=""}this.items[f].hide=0}return 0}var e=g.split(",");for(var f=0;f<e.length;f++){this.showItem(e[f])}};dhtmlXProtobarObject.prototype.disableItem=function(e){var d=this.getItem(e);if(d){if(d.disable){d.disable()}}};dhtmlXProtobarObject.prototype.enableItem=function(e){var d=this.getItem(e);if(d){if(d.enable){d.enable()}}};dhtmlXProtobarObject.prototype.hideItem=function(f){var e=this.getItem(f);if(e){var d=e.getTopNode();d.style.display="none";if(this.extraMode){d.parentNode.style.display="none"}e.hide=1;if(e.parentPanel){this._scrollClear(e.parentPanel);this._scrollCheck(e.parentPanel)}}};dhtmlXProtobarObject.prototype.showItem=function(f){var e=this.getItem(f);if(e){var d=e.getTopNode();d.style.display="";if(this.extraMode){d.parentNode.style.display=""}e.hide=0;if(e.parentPanel){this._scrollClear(e.parentPanel);this._scrollCheck(e.parentPanel)}}};dhtmlXProtobarObject.prototype.setOnClickHandler=function(func){if(typeof(func)=="function"){this.defaultAction=func}else{this.defaultAction=eval(func)}};dhtmlXProtobarObject.prototype.setTitleText=function(d){this.tname=d;this.nameCell.innerHTML=d;this.preNameCell.innerHTML=d};dhtmlXProtobarObject.prototype.setBarSize=function(e,d){if(e){this.topNod.width=e}if(d){this.topNod.height=d}};dhtmlXProtobarObject.prototype.resetBar=function(f){for(var e=0;e<this.itemsCount;e++){this.hideItem(this.items[e].id)}var d=f.split(",");for(var e=0;e<d.length;e++){this.showItem(d[e])}};dhtmlXProtobarObject.prototype.loadXMLFor=function(d,k,g){var h=this._getItemIndex(k);var f=null;var e=this;if(h>=0){f=this.gitems[h]}this.xmlLoader=new dtmlXMLLoaderObject(function(){e._awaitXML=f;var l=e.xmlLoader;e.xmlLoader=arguments[4];e._parseXMLTree.apply(this,arguments);e.xmlLoader=l},this);this.xmlLoader.waitCall=g||0;this.xmlLoader.loadXML(d)};dhtmlXProtobarObject.prototype.loadXML=function(d,e){this.xmlLoader.waitCall=e||0;this.xmlLoader.loadXML(d)};dhtmlXProtobarObject.prototype.loadXMLString=function(e,d){this.waitCall=d||0;this.xmlLoader.loadXMLString(e)};dhtmlXProtobarObject.prototype.showBar=function(){this.topNod.style.display="";if((this.topNod.ieFix)&&(this.topNod.style.position=="absolute")){this.topNod.ieFix.style.display="";this.topNod.ieFix.style.position="absolute";this.topNod.ieFix.style.top=this.topNod.style.top;this.topNod.ieFix.style.left=this.topNod.style.left;this.topNod.ieFix.style.width=this.topNod.offsetWidth+"px";this.topNod.ieFix.style.height=this.topNod.offsetHeight+"px"}if(this.onShow){this.onShow()}};dhtmlXProtobarObject.prototype.hideBar=function(){this.topNod.style.display="none";if(this.topNod.ieFix){this.topNod.ieFix.style.display="none"}if(this.onHide){this.onHide()}};dhtmlXProtobarObject.prototype.setBarAlign=function(d){if((d=="left")||(d=="top")){this.preNameCell.innerHTML="";this.preNameCell.style.display="none";this.nameCell.style.display="";this.nameCell.width="100%";this.nameCell.innerHTML=this.tname}if((d=="center")||(d=="middle")){this.preNameCell.style.display="";this.preNameCell.width="50%";this.nameCell.style.display="";this.nameCell.width="50%";this.nameCell.innerHTML=this.tname;this.preNameCell.innerHTML=this.tname}if((d=="right")||(d=="bottom")){this.nameCell.innerHTML="";this.nameCell.style.display="none";this.preNameCell.style.display="";this.preNameCell.width="100%";this.preNameCell.innerHTML=this.tname}};dhtmlXProtobarObject.prototype.dummyFunc=function(){return true};dhtmlXProtobarObject.prototype.badDummy=function(){return false};function dhtmlXButtonPrototypeObject(){return this}dhtmlXButtonPrototypeObject.prototype.setAction=function(func){if(typeof(func)=="function"){this.action=func}else{this.action=eval(func)}};dhtmlXButtonPrototypeObject.prototype.setSecondAction=function(func){if(typeof(func)=="function"){this.persAction=func}else{this.persAction=eval(func)}};dhtmlXButtonPrototypeObject.prototype.enable=function(){if(this.disableImage){this.imageTag.src=this.src}else{if(!this.className){this.topNod.className=this.objectNode.className}else{this.topNod.className=this.className}}if(this.textTag){this.textTag.className=this.textClassName}this.topNod.onclick=this._onclickX;this.topNod.onmouseover=this._onmouseoverX;this.topNod.onmouseout=this._onmouseoutX;this.topNod.onmousedown=this._onmousedownX;this.topNod.onmouseup=this._onmouseupX;this._dstate=false};dhtmlXButtonPrototypeObject.prototype.disable=function(){if(this.disableImage){this.imageTag.src=this.disableImage}else{this.topNod.className="iconGray"}if(this.textTag){this.textTag.className="buttonTextDisabled"}this.topNod.onclick=this.dummy;this.topNod.onmouseover=this.dummy;this.topNod.onmouseout=this.dummy;this.topNod.onmousedown=this.dummy;this.topNod.onmouseup=this.dummy;this._dstate=true};dhtmlXButtonPrototypeObject.prototype._onclickX=function(f,d){if(!d){d=this.objectNode}if(d.topNod.dstatus){return}if((!d.persAction)||(d.persAction())){if(d.action){d.action(d.id)}}};dhtmlXButtonPrototypeObject.prototype.setHTML=function(d){this.topNod.innerHTML=d};dhtmlXButtonPrototypeObject.prototype.setAltText=function(d){this.imageTag.alt=d};dhtmlXButtonPrototypeObject.prototype.setImage=function(e,d){this.src=e;if(d){this.disableImage=d}if(this._dstate){if(d){this.imageTag.src=d}}else{this.imageTag.src=e}};dhtmlXButtonPrototypeObject.prototype.dummy=function(){};dhtmlXButtonPrototypeObject.prototype.getTopNode=function(){return this.topNod};dhtmlXButtonPrototypeObject.prototype._onmouseoverY=function(){if(this._mvImage){this.imageTag.src=this._mvImage}else{this.topNod.className=this.className+"Over"}};dhtmlXButtonPrototypeObject.prototype._onmouseoutY=function(){if(this._mnImage){this.imageTag.src=this._mnImage}else{this.topNod.className=this.className}};dhtmlXButtonPrototypeObject.prototype._onmousedownX=function(){this.className=this.objectNode.className+"Down";return true};dhtmlXButtonPrototypeObject.prototype._onmouseupX=function(){this.className=this.objectNode.className;return true};dhtmlXButtonPrototypeObject.prototype._onmouseoutX=function(d){if(!d){d=event}if(this.timeoutop){clearTimeout(this.timeoutop)}this.timeoutop=setTimeout(this.objectNode._delayedTimerCall(this.objectNode,"_onmouseoutY"),100)};dhtmlXButtonPrototypeObject.prototype._onmouseoverX=function(d){if(!d){d=event}if(this.timeoutop){clearTimeout(this.timeoutop)}this.timeoutop=setTimeout(this.objectNode._delayedTimerCall(this.objectNode,"_onmouseoverY"),50)};dhtmlXButtonPrototypeObject.prototype._delayedTimerCall=function(object,functionName,time){this.callFunc=function(){eval("object."+functionName+"();")};return this.callFunc};dhtmlXButtonPrototypeObject.prototype._arg2obj=function(g,f){var d=new Object();for(var e=0;e<g.length;e++){d[f[e]]=g[e]}return d};function dhtmlXMenuBarObject(m,g,p,e,n,q,l){if(typeof(m)!="object"){this.parentObject=document.getElementById(m)}else{this.parentObject=m}if(!this.parentObject){this.parentObject=document.body}this.setGfxPathA=this.setGfxPath;this.setGfxPath=function(){this.setGfxPathA.apply(this,arguments);var r=this;dhtmlXMenuItemObject.prototype.dummyImg=function(){return r.sysGfxPath+"blank.gif"}};if((_isIE)&&(this.parentObject==document.body)){var h=document.createElement("DIV");h.style.position="absolute";h.style.zIndex=30;h.style.top=0;h.style.left=0;document.body.insertBefore(h,document.body.firstChild);this.parentObject=h}if(!n){this.flsmd=true}this.tname=e;this.topMenu=this;this.width=g;this.height=p;this.topNod=0;this._httpsdummy=l;this.ieFix=(document.all?true:false);var f=navigator.userAgent.toLowerCase();var k=f.indexOf("opera")+1;if(k){this.ieFix=false}this.ieWinMode=true;this.ieWinModeState=0;this.zIndex=30;this.maxItems=99;this.echsw=true;this.setGfxPath(q);this.dividerCell=0;this.firstCell=0;this.nameCell=0;this.crossCell=0;this.echsw2=true;this.tableCSS="menuTable";this.titleCSS="menuName";this.secTableCSS="secondMenuTable";this.extraMode=convertStringToBoolean(n);this.defaultAction=0;this.onShow=0;this.onHide=0;var o=0;var d=0;this.items=new Array();this.itemsCount=0;this.gitems=new Array();this.gitemsCount=0;this.subMenus=new Array();this.subMenusCount=0;if(!this.extraMode){this._createPanel()}else{this._createVPanel()}this.hiddenForm=document.createElement("FORM");this.hiddenForm.style.display="none";this.parentObject.appendChild(this.hiddenForm);if(this._extendedInit){this._extendedInit()}this.xmlLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this);this.setMenuMode("classic");this.setBarSize(this.width,this.height);this.showBar();return this}dhtmlXMenuBarObject.prototype=new dhtmlXProtobarObject;dhtmlXMenuBarObject.prototype.setZIndex=function(d){this.zIndex=d;this.topNod.style.zIndex=this.zIndex;if(this.topNod.ieFix){this.topNod.ieFix.style.zIndex=this.zIndex-1}if((_isIE)&&(this.parentObject)&&(this.parentObject.style.position=="absolute")){this.parentObject.style.zIndex=d}};dhtmlXMenuBarObject.prototype.setIconSize=function(d){this._aimsize=d};function dhtmlXMenuBarPanelObject(e,d,h,f,g){this.extraMode=!convertStringToBoolean(h);this.parentPanel=e;this.parentItem=d;this.parentObject=e.parentObject;this.topMenu=e.topMenu;this.topNod=0;this.dividerCell=0;this.firstCell=0;this.nameCell=0;this.crossCell=0;this.maxItems=99;this.items=new Array();this.itemsCount=0;this.withoutImages=(g==1);this.mixedImages=(g==2);if(f){this.width=f}if((!this.topMenu.flsmd)||(this.topMenu!=this.parentPanel)){this.parentItem.setHasChild(true)}if(h){this._createVPanel=this.topMenu._createPanel}else{this._createVPanel=this.topMenu._createVPanel}this._createVPanel();this.topNod.panel=this;this.topNod.onmouseover=this.topMenu._onmouseoverZ;this.topNod.onmouseout=this.topMenu._onmouseoutZ;d.subMenu=this;this.topNod.style.position="absolute";this.topMenu.subMenus[this.topMenu.subMenusCount]=this;this.topMenu.subMenusCount++;return this}dhtmlXMenuBarObject.prototype.enableIESelectBoxFix=function(d){this.ieFix=convertStringToBoolean(d)};dhtmlXMenuBarObject.prototype.enableTooltip=function(d){this._endtt=(!convertStringToBoolean(d))};dhtmlXMenuBarObject.prototype.disableSmartPositioning=function(d){this._skipAPP=convertStringToBoolean(d)};dhtmlXMenuBarObject.prototype.enableMenuHandle=function(d){if(convertStringToBoolean(d)){this.dividerCell.style.display=""}else{this.dividerCell.style.display="none"}};dhtmlXMenuBarObject.prototype.enableChildIcon=function(d){this.echsw=convertStringToBoolean(d)};dhtmlXMenuBarObject.prototype.setHrefMode=function(d){this._hmode=d};dhtmlXMenuBarObject.prototype.enableDirectOnClick=function(d){this._dirClick=convertStringToBoolean(d)};dhtmlXMenuBarObject.prototype.enableChildIconSwitching=function(d){this.echsw2=convertStringToBoolean(d)};dhtmlXMenuBarObject.prototype.enableWindowOpenMode=function(d){this.ieWinMode=convertStringToBoolean(d)};dhtmlXMenuBarObject.prototype._getItemIndex=function(e){for(var d=0;d<this.gitemsCount;d++){if(this.gitems[d].id==e){return d}}return -1};dhtmlXMenuBarObject.prototype.getItem=function(e){var d=this._getItemIndex(e);if(d>=0){return this.gitems[d]}};dhtmlXMenuBarObject.prototype._showScroll=function(f,d,e,g){if(!f.items[d]){return}if(g==""){if(e==1){f.cAr[2]++}else{f.cAr[0]--}}else{if(e==1){f.cAr[0]++}else{f.cAr[2]--}}if((!f.items[d].CSSTag)||(f.items[d].hide)){f.items[d].topNod.parentNode.style.display=g;this._showScroll(f,d*1+e*1,e,g)}else{f.items[d].topNod.parentNode.style.display=g}};dhtmlXMenuBarObject.prototype._fixScrollState=function(f,e){if(parseInt(f.topNod.offsetWidth)>parseInt(f.topNod.width)){f.topNod.width=f.topNod.offsetWidth}var d=0;if(e>0){this._showScroll(f,f.cAr[0],1,"none");this._showScroll(f,f.cAr[2],1,"")}else{this._showScroll(f,f.cAr[0]-1,-1,"");this._showScroll(f,f.cAr[2]-1,-1,"none")}z.scrollState+=e*1;if((f.scrollState*1+f.maxItems*1)==(f.realItemsCount)){f.scrollDown.className="menuScrollerDisabled"}else{f.scrollDown.className="menuScrollerEnabled";d++}if(f.scrollState==0){f.scrollUp.className="menuScrollerDisabled"}else{f.scrollUp.className="menuScrollerEnabled";d++}return d};dhtmlXMenuBarObject.prototype._scrollstart=function(){if(this.timeoutops){clearTimeout(this.timeoutops)}z=this.parentNode.parentNode.parentNode.menu;if(z.scrollDown==this){var d=1}else{var d=-1}if(z.topMenu._fixScrollState(z,d)==2){this.timeoutops=setTimeout(new z.topMenu._delayedTimerCall(this,"onmouseover",0,0),333)}};dhtmlXMenuBarObject.prototype._scrollend=function(d){if(this.timeoutops){window.clearTimeout(this.timeoutops)}};dhtmlXMenuBarObject.prototype._scrollCheck=function(g){var f=0;for(var e=0;e<g.itemsCount;e++){if((g.items[e].CSSTag)&&(!g.items[e].hide)){f++}}g.realItemsCount=f;g.cAr=new Array(0,0,0);if((g.realItemsCount>g.maxItems)&&(g.scrollDown)){g.scrollDown.style.display="";g.scrollUp.style.display="";g.scrollDown.className="menuScrollerEnabled";g.scrollState=0;g.scrollUp.onmouseover=this._scrollstart;g.scrollUp.onmouseout=this._scrollend;g.scrollDown.onmouseover=this._scrollstart;g.scrollDown.onmouseout=this._scrollend;g.cAr[2]=0;var f=0;var d=true;for(var e=0;e<g.itemsCount;e++){if((g.items[e].CSSTag)&&(!g.items[e].hide)){f++}if(f>g.maxItems){g.items[e].topNod.parentNode.style.display="none";if(g.cAr[2]==0){g.cAr[2]=e}}else{g.items[e].topNod.parentNode.style.display=""}}}};dhtmlXMenuBarObject.prototype._scrollClear=function(e){for(var d=0;d<e.itemsCount;d++){if((e.items[d].CSSTag)&&(!e.items[d].hide)){e.items[d].topNod.parentNode.style.display=""}if(e.scrollDown){e.scrollDown.style.display="none"}if(e.scrollUp){e.scrollUp.style.display="none"}}};dhtmlXMenuBarObject.prototype.getPanel=function(d){var e=this._getGItemIndex(d);if(e<0){return this}else{return this.gitems[e].subMenu}};dhtmlXMenuBarObject.prototype.addItem=function(d,e){if(this==d){this.addFirstLevel(d,e)}else{this.addSecondLevel(d,e)}};dhtmlXMenuBarObject.prototype._addItem=function(d,e){d.items[d.itemsCount]=e;d.firstCell.parentNode.insertBefore(e.getTopNode(),d.firstCell);e.getTopNode().style.marginBottom="20px";e.parentNod=this;e.parentPanel=d;if(this.defaultAction){e.setAction(this.defaultAction)}d.itemsCount++;this.gitems[this.gitemsCount]=e;this.gitemsCount++};dhtmlXMenuBarObject.prototype.addItem_vertical=function(d,e){d.items[d.itemsCount]=e;var f=document.createElement("tr");f.style.verticalAlign="top";f.appendChild(e.getTopNode());d.firstCell.parentNode.insertBefore(f,d.firstCell);e.parentNod=this;e.parentPanel=d;if(this.defaultAction){e.setAction(this.defaultAction)}d.itemsCount++;this.gitems[this.gitemsCount]=e;this.gitemsCount++};dhtmlXMenuBarObject.prototype._getGItemIndex=function(d){return(this._getItemIndex(d))};dhtmlXMenuBarObject.prototype.clearAll=function(f){for(var e=0;e<this.gitemsCount;e++){var d=this.gitems[e].getTopNode();if(this.extraMode){d=d.parentNode}d.parentNode.removeChild(d);d=this.gitems[e].parentPanel;if(d!=this.topMenu&&d.topNod){d.topNod.parentNode.removeChild(d.topNod);d.topNod=null}}this.items=new Array();this.itemsCount=0;this.gitems=new Array();this.gitemsCount=0;this.subMenus=new Array();this.subMenusCount=0;this.realWinModeStart=this.ieWinModeState=this._lastOpenedPanel=this._lastSelectedItem=null};dhtmlXMenuBarObject.prototype.removeItem=function(h){var g=this._getGItemIndex(h);if(g>=0){var d=this.gitems[g].parentPanel;if(this.gitems[g].removeItem){this.gitems[g].removeItem()}if(d.firstCell.tagName=="TR"){var e=this.gitems[g].getTopNode().parentNode}else{var e=this.gitems[g].getTopNode().parentNode}e.parentNode.removeChild(e);d.itemsCount--;for(var f=0;f<d.itemsCount;f++){if(d.items[f]==this.gitems[g]){d.items[f]=d.items[f+1];d.items[f+1]=this.gitems[g]}}d.items[d.itemsCount]=0;this.gitemsCount--;for(var f=g;f<this.gitemsCount;f++){this.gitems[f]=this.gitems[f+1]}this.gitems[this.gitemsCount]=0}};dhtmlXMenuBarObject.prototype._parseXMLTree=function(that,node,level,parentNode,aTempNode,mode){if(!node){node=that.xmlLoader.getXMLTopNode("menu");if(that._awaitXML){aTempNode=that._awaitXML;parentNode=aTempNode.parentPanel;level=1;that._awaitXML=null;mode=this.modeValue}else{level=0;parentNode=that;mode=node.getAttribute("mode");if(mode){that.setMenuMode(mode)}var menuAlign=node.getAttribute("menuAlign");if(menuAlign){that.setBarAlign(menuAlign)}that.maxItems=node.getAttribute("maxItems")||99;var absolutePosition=node.getAttribute("absolutePosition");var aleft=node.getAttribute("left");var atop=node.getAttribute("top");if(absolutePosition){that.topNod.style.top=parseInt(atop||0)+"px"}if(absolutePosition){that.topNod.style.left=parseInt(aleft||0)+"px"}if(absolutePosition=="yes"){that.topNod.style.position="absolute"}var name=node.getAttribute("name");if(name){that.setTitleText(name)}var width=node.getAttribute("width");var height=node.getAttribute("height");that.setBarSize(width,height);var imageTextButtonCssClass=node.getAttribute("imageTextButtonCssClass");var globalTextCss=node.getAttribute("globalTextCss");that.globalSecondCss=node.getAttribute("globalSecondCss");that.globalCss=node.getAttribute("globalCss");that.globalTextCss=node.getAttribute("globalTextCss");if(node.getAttribute("withoutImages")){that.withoutImages=true}if(node.getAttribute("mixedImages")){that.mixedImages=true}that.type=node.getAttribute("type")||"a1"}}if(level){var parentNode=new dhtmlXMenuBarPanelObject(parentNode,aTempNode,((mode!="classic")&&(mode!="popup")),node.getAttribute("panelWidth"),(node.getAttribute("withoutImages")?1:(node.getAttribute("mixedImages")?2:0)));parentNode.maxItems=node.getAttribute("maxItems")||that.maxItems}for(var i=0;i<node.childNodes.length;i++){if(node.childNodes[i].nodeType==1){var localItem=node.childNodes[i];if(!level){if((!localItem.getAttribute("className"))&&(that.globalCss)){localItem.setAttribute("className",that.globalCss)}}else{if(!localItem.getAttribute("className")){if(that.globalSecondCss){localItem.setAttribute("className",that.globalSecondCss)}else{localItem.setAttribute("className","menuButtonSecond")}}}if((!localItem.getAttribute("textClassName"))&&(that.globalTextCss)){localItem.setAttribute("textClassName",that.globalTextCss)}var tempsrc=localItem.getAttribute("src");if(parentNode.withoutImages){localItem.setAttribute("src","");localItem.setAttribute("src2",that.sysGfxPath+"blank.gif")}else{if((parentNode.mixedImages)&&(tempsrc==null)){tempsrc=that.sysGfxPath+"blank.gif"}else{tempsrc=that.sysGfxPath+(tempsrc||"blank.gif")}localItem.setAttribute("src",tempsrc)}tempsrc=localItem.getAttribute("width");if(tempsrc==null){localItem.setAttribute("width","100%")}if(that._endtt){localItem.setAttribute("tooltip","")}if(that._aimsize){localItem.setAttribute("imageSize",that._aimsize)}var z=eval("window.dhtmlX"+localItem.tagName+"Object");if(z){var TempNode=new z(localItem,node.getAttribute("type")||that.type)}else{var TempNode=null}if(localItem.tagName=="divider"){if((level)||(that.modeValue=="popup")){that.addItem(parentNode,new dhtmlXMenuDividerYObject(localItem.getAttribute("id")))}else{that.addItem(parentNode,new dhtmlXMenuDividerXObject(localItem.getAttribute("id")))}}else{if(TempNode){if(level){that.addItem(parentNode,TempNode)}else{that.addItem(parentNode,TempNode)}}}if(localItem.getAttribute("disabled")){TempNode.disable()}if((TempNode)&&(localItem.getAttribute("submenu"))){TempNode.submenu=localItem.getAttribute("submenu");TempNode.setHasChild(true)}if(that.checkXMLChild(localItem)){that._parseXMLTree(that,localItem,level+1,parentNode,TempNode,mode)}}}that._scrollCheck(parentNode);if(level==0){if(that.topMenu.correctMenuPosition){that.topMenu.correctMenuPosition(that.topMenu.topNod)}if(that.topMenu.waitCall){that.topMenu.waitCall()}}};dhtmlXMenuBarObject.prototype.checkXMLChild=function(e){for(var d=0;d<e.childNodes.length;d++){if(e.childNodes[d].nodeType==1){return true}}return false};dhtmlXMenuBarObject.prototype._createPanel=function(){if(!this.width){this.width=1}if(!this.height){this.height=1}if(this.width.toString().indexOf("%")==-1){this.width=parseInt(this.width)+"px"}if(this.height.toString().indexOf("%")==-1){this.height=parseInt(this.height)+"px"}var f=document.createElement("div");f.innerHTML='<table cellpadding="0" cellspacing="0" class="'+this.topMenu.tableCSS+'" width="'+this.width+'" height="'+this.height+'"><tbody><tr><td width="3px" style="display:none"><div class="menuHandle">&nbsp;</div></td><td class="'+this.topMenu.titleCSS+'" style="display:none">'+this.topMenu.tname+'</td><td></td><td align="right" '+(_isOpera?"":'width="100%"')+' class="'+this.topMenu.titleCSS+'">&nbsp;'+this.topMenu.tname+"</td><td >&nbsp;</td></tr></tbody></table>";var e=f.childNodes[0];e.style.display="none";e.setAttribute("UNSELECTABLE","on");e.onselectstart=this.topMenu.badDummy;this.topNod=e;this.dividerCell=e.childNodes[0].childNodes[0].childNodes[0];this.dividerCell.menu=this;this.preNameCell=this.dividerCell.nextSibling;this.firstCell=this.preNameCell.nextSibling;this.nameCell=this.firstCell.nextSibling;this.crossCell=this.nameCell.nextSibling;if(this.topMenu!=this){this.dividerCell.style.display="none";this.preNameCell.style.display="none";this.nameCell.style.display="none";this.crossCell.style.display="none";e.className=this.topMenu.secTableCSS}this.topNod.style.zIndex=this.topMenu.zIndex;if(this.topMenu.ieFix){var d=document.createElement("IFRAME");if(this._httpsdummy||this.topMenu.sysGfxPath){d.src=(this._httpsdummy||(this.topMenu.sysGfxPath+"/blank.html"))}d.style.zIndex=this.topMenu.zIndex-1;d.style.position="absolute";d.style.display="none";d.scrolling="no";d.frameBorder=0;this.parentObject.appendChild(d);this._del_iframe=d;this.topNod.ieFix=d}this.parentObject.appendChild(e);this._del_table=e};dhtmlXMenuBarObject.prototype.setMenuCSS=function(e,f,d){this.tableCSS=e;this.titleCSS=f;this.secTableCSS=d;this.topNod.className=this.tableCSS;this.preNameCell.className=this.titleCSS;this.nameCell.className=this.titleCSS};dhtmlXMenuBarObject.prototype._adjustGFXPath=function(d){if(this.extraMode){this.topNod.rows[0].cells[0].childNodes[0].src=d+"btn_up1.gif";this.topNod.rows[this.topNod.rows.length-3].cells[0].childNodes[0].src=d+"btn_up2.gif"}};dhtmlXMenuBarObject.prototype._createVPanel=function(){if(!this.width){this.width=120}if(!this.height){this.height=20}if(this.width.toString().indexOf("%")==-1){this.width=parseInt(this.width)+"px"}if(this.height.toString().indexOf("%")==-1){this.height=parseInt(this.height)+"px"}var f=document.createElement("div");f.innerHTML='<table cellpadding="0" cellspacing="0" class="'+this.topMenu.tableCSS+'" width="'+this.width+'" ><tbody><tr ><td class="menuScrollerDisabled" style="display:none"><img src="'+this.topMenu.sysGfxPath+'btn_up1.gif"/></td></tr><tr><td class="'+this.topMenu.titleCSS+'" style="display:none">'+this.tname+'</td></tr><tr><td></td></tr><tr><td class="menuScrollerDisabled" style="display:none"><img src="'+this.topMenu.sysGfxPath+'btn_up2.gif"/></td></tr><tr><td align="right"  class="'+this.topMenu.titleCSS+'" style="display:none">'+this.tname+"</td></tr><tr><td></td></tr></tbody></table>";var e=f.childNodes[0];e.style.display="none";this.topNod=e;e.onselectstart=this.topMenu.badDummy;e.setAttribute("UNSELECTABLE","on");this.dividerCell=e.childNodes[0].childNodes[0].childNodes[0];e.menu=this;this.scrollUp=this.dividerCell;this.scrollonmouseover="";this.preNameCell=e.childNodes[0].childNodes[1].childNodes[0];this.firstCell=e.childNodes[0].childNodes[2];this.scrollDown=e.childNodes[0].childNodes[3].childNodes[0];this.nameCell=e.childNodes[0].childNodes[4].childNodes[0];this.crossCell=e.childNodes[0].childNodes[5].childNodes[0];if(this.topMenu!=this){this.preNameCell.parentNode.style.display="none";this.nameCell.parentNode.style.display="none";this.crossCell.parentNode.style.display="none";e.className=this.topMenu.secTableCSS}this.topNod.style.zIndex=this.topMenu.zIndex;if(this.topMenu.ieFix){var d=document.createElement("IFRAME");d.style.zIndex=this.topMenu.zIndex-1;d.style.position="absolute";d.src=(this._httpsdummy||(this.topMenu.sysGfxPath+"blank.gif"));d.style.display="none";d.scrolling="no";d.frameBorder=0;this.parentObject.appendChild(d);this._del_iframe=d;this.topNod.ieFix=d}this.parentObject.appendChild(e);this._del_table=e};function dhtmlXMenuItemObject(f,q,g,d,o,l,e,n,p,m){p=p||"a1";var h="";var r="";if(f.tagName=="MenuItem"){p=q||"a1";d=f.getAttribute("src");h=f.getAttribute("src2");q=f.getAttribute("name");o=f.getAttribute("className");l=f.getAttribute("disableImage");g=f.getAttribute("width");e=f.getAttribute("href");if(_isKHTML&&e){e=e.replace(/\&\#38;/g,"&")}n=f.getAttribute("target");r=f.getAttribute("tooltip");if((r!=="")&&(!r)){r=q}m=f.getAttribute("imageSize");f=f.getAttribute("id")}if(f){this.id=f}else{this.id=(new Date()).valueOf()}h=h||d;m=parseInt(m)||18;this.topNod=0;this.action=0;this.persAction=0;this.src=d;this.text=q;this.href=e;this.target=n;this.className=o||"menuButton";this.textClassName="defaultMenuText";this.disableImage=l;var k=document.createElement("td");this.topNod=k;k.align="center";k.noWrap=true;if(g&&g.toString().indexOf("%")==-1){g=parseInt(g)+"px";if(_isOpera){k.style.width=g}}k.innerHTML="<table align='left' cellpadding='0' cellspacing='0' border='0' style='"+(g?("width:"+g+";"):"")+" height:100%;'><tr><td width='"+(2+m)+"px' style=' "+(d?"":"display:none; ")+"'><img src='"+(h?h:this.dummyImg())+"' border='0' width='"+m+"px' height='"+m+"px'/></td><td width='100%' align='left' style=' "+(d?" padding-left:2px;":"")+" overflow:hidden;' ><table width='100%' height='100%' cellpadding='0' cellspacing='0'><tr><td title='"+r+"' class='"+this.textClassName+"' nowrap='nowrap' >"+this.text+"</td><td width='12px'><img style='display:none' src='"+this.dummyImg()+"'/></td></tr></table></td></tr></table>";this.imageTag=k.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0];this.childMenuTag=k.childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0];this.textTag=this.childMenuTag.parentNode.parentNode.childNodes[0];switch(p){case"a1":this.CSSTag=k;this.CSSImageTag=null;break;case"a2":this.CSSTag=k.childNodes[0];this.CSSImageTag=null;break;case"a3":this.CSSTag=k.childNodes[0].childNodes[0].childNodes[0].childNodes[1];this.CSSImageTag=null;break;case"b1":this.CSSTag=k;this.CSSImageTag=this.imageTag.parentNode;break;case"b2":this.CSSTag=k.childNodes[0];this.CSSImageTag=this.imageTag.parentNode;break;case"b3":this.CSSTag=k.childNodes[0].childNodes[0].childNodes[0].childNodes[1];this.CSSImageTag=this.imageTag.parentNode;break}k.id="menuItem_"+this.id;this.CSSTag.className=this.className;k.objectNode=this;this.enable();return this}dhtmlXMenuItemObject.prototype=new dhtmlXButtonPrototypeObject;dhtmlXMenuItemObject.prototype.dummyImg=function(){return""};dhtmlXMenuItemObject.prototype.enable=function(){this._dstate=false;if(this.disableImage){this.imageTag.src=this.src}else{if(!this.className){this.topNod.className=this.objectNode.className}else{this.topNod.className=this.className}}if(this.textTag){this.textTag.className=this.textClassName}this.topNod.onmouseover=this._onmouseoverX;this.topNod.onmouseout=this._onmouseoutX;this.topNod.onmousedown=this._onmousedownX;this.topNod.onmouseup=this._onclickX};dhtmlXMenuItemObject.prototype._onmousedownX=function(d){if((!this.objectNode.parentPanel.parentPanel)&&((this.objectNode.subMenu)||(this.objectNode.submenu))){this.objectNode._onclickX(d,this.objectNode)}};dhtmlXMenuItemObject.prototype.setHasChild=function(d){if((convertStringToBoolean(d))&&(this.parentPanel.topMenu.echsw)){this.childMenuTag.src=this.parentPanel.topMenu.sysGfxPath+"btn_rt1.gif";this.childMenuTag.style.display=""}else{this.childMenuTag.style.display="none"}};dhtmlXMenuItemObject.prototype.setText=function(d){this.textTag.innerHTML=d};dhtmlXMenuItemObject.prototype._onclickX=function(k,d){if(!k){k=event}k.cancelBubble=true;if(!d){d=this.objectNode}var f=d.parentPanel.topMenu;if(d.topNod.dstatus){return}f._flag_click=d;if(d.submenu){var h=d;var g=f;f.loadXMLFor(d.submenu,d.id,function(){h.submenu=null;if(g._flag_click==h){h._onclickX([],h)}});h.submenu=null;return}if((f.ieWinMode)&&(!f.ieWinModeState)&&(d.subMenu)){d.parentPanel.topMenu._onItemOver(d,d.subMenu);if(document.body.currentActiveMenu!=f){if(document.body.onmouseup){document.body.onmouseup()}}if(f.realWinModeStart){d.parentPanel.topMenu.ieWinModeState=1;if(document.body.onmouseup!=f._onclickclose){f.olddoc=document.body.onmouseup;document.body.onmouseup=f._onclickclose}document.body.currentActiveMenu=d.parentPanel.topMenu;f.realWinModeStart=0}else{f.realWinModeStart=1}return}if((f.ieWinMode)&&(f.ieWinModeState)&&(d.subMenu)){if((!f.realWinModeStart)&&(d.parentPanel==f)){f.realWinModeStart=1;return}else{f.realWinModeStart=0}}f.realWinModeStart=0;f.ieWinModeState=0;f.dropTimers(d.parentPanel);f._closePanel(d.parentPanel);f.lastSelectedItem=0;f.probablyCloseMe=0;f.lastOpenedPanel="";if(d.parentPanel.topMenu.ieWinMode){if(d.parentPanel.topMenu.olddoc){document.body.onclick=d.parentPanel.topMenu.olddoc}else{document.body.onclick=null}}if((d.parentPanel.topMenu.ieWinMode)&&(!d.parentPanel.parentPanel)&&(d.subMenu)){return}d.parentPanel.topMenu._unMarkItem(d,"down");if(d.parentPanel.topMenu._dirClick){d._onclickY(0,0)}else{setTimeout(new d.parentPanel.topMenu._delayedTimerCall(d,"_onclickY",0,0),100)}return};dhtmlXMenuBarObject.prototype._onclickclose=function(f){var d=this.currentActiveMenu;if(d.olddoc){document.body.onmouseup=d.olddoc}else{document.body.onmouseup=null}d.realWinModeStart=0;d.lastOpenedPanel="";d.ieWinModeState=0;d.dropTimers(d);d._closePanel(d);d.lastSelectedItem=0};dhtmlXMenuBarObject.prototype.close=function(d){if(this.olddoc){document.body.onmouseup=this.olddoc}else{document.body.onmouseup=null}that.realWinModeStart=0;that.lastOpenedPanel="";that.ieWinModeState=0;that.dropTimers(this);that._closePanel(this);that.lastSelectedItem=0};dhtmlXMenuItemObject.prototype._onclickY=function(){if((!this.persAction)||(this.persAction())){if((!this.action)||(this.action(this.id))){if(this.href){if(this.target){if(!this.parentPanel.topMenu._hmode||this.parentPanel.topMenu._hmode=="GET"){window.open(this.href,this.target)}else{var d=this.parentPanel.topMenu.hiddenForm;d.action=this.href;d.target=this.target;d.method=(this.parentPanel.topMenu._hmode?this.parentPanel.topMenu._hmode:"GET");d.submit()}}else{document.location.href=this.href}return false}}}return false};dhtmlXMenuItemObject.prototype._onmouseoverY=function(f){var d=this.parentPanel.topMenu;if((!d.ieWinMode)||(d.ieWinModeState)){this.parentPanel.topMenu._onItemOver(this,this.subMenu)}else{if((d.lastSelectedItem)&&(d.lastSelectedItem!=this)){this.parentPanel.topMenu._unMarkItem(d.lastSelectedItem)}this.parentPanel.topMenu._markItem(this)}};dhtmlXMenuItemObject.prototype._onmouseoutY=function(d){this.parentPanel.topMenu._onItemOut(this,this.subMenu)};dhtmlXMenuBarObject.prototype.dropTimers=function(d){if(!d){return}e=d.topNod.timeoutop;if(e){clearTimeout(e)}if(!d.parentPanel){return}var e=d.parentPanel.topNod.timeoutop;if(e){clearTimeout(e)}var e=d.parentItem.topNod.timeoutop;if(e){clearTimeout(e)}};dhtmlXMenuBarObject.prototype._onmouseoverZ=function(d){if(!d){d=event}d.cancelBubble=true;that=this.panel.topMenu;if(this.timeoutop){clearTimeout(this.timeoutop)}that.dropTimers(this.panel);that._onItemOver(0,this.panel)};dhtmlXMenuBarObject.prototype._onmouseoutZ=function(d){if(!d){d=event}d.cancelBubble=true;that=this.panel.topMenu;if(this.timeoutop){clearTimeout(this.timeoutop)}if((!that.ieWinMode)){this.timeoutop=setTimeout(new that._delayedTimerCall(this.panel.topMenu,"_onItemOut",0,this.panel),200)}};dhtmlXMenuBarObject.prototype._delayedTimerCall=function(f,g,e,d,h){this.callFunc=function(){var k=e;var l=d;f[g](k,l)};return this.callFunc};dhtmlXMenuBarObject.prototype._onItemOut=function(e,d){if(!d){if((e)&&(!e.subMenu)){this._unMarkItem(e)}return}if(this.ieWinMode){if((d.topMenu==d)||((e)&&(this.ieWinModeState==1))){return}}if(e){this._unMarkItem(e)}this._closePanel(d)};dhtmlXMenuBarObject.prototype._onItemOver=function(e,d){if(e){if((this.lastSelectedItem)&&(this.lastSelectedItem!=e)){if((!this.lastSelectedItem.subMenu)||(this.lastSelectedItem.subMenu!=e.parentPanel)){this._unMarkItem(this.lastSelectedItem)}}this.lastSelectedItem=e;if(this.ieWinMode){this._markItem(e,"down")}else{this._markItem(e)}var h=e.parentPanel;if((h._lastSelectedItem)&&(h._lastSelectedItem!=e)){if(h._lastSelectedItem.subMenu){this._closePanel(h._lastSelectedItem.subMenu)}}e.parentPanel._lastSelectedItem=e}if(d){this._openPanel(d)}this._flag_click=e;if(e.submenu){var g=e;var f=this;this.loadXMLFor(e.submenu,e.id,function(){g.submenu=null;if(f._flag_click==g){f._onItemOver(g,g.subMenu)}});g.submenu=null;return}};dhtmlXMenuBarObject.prototype._openPanel=function(d){if((this.lastOpenedPanel)&&(this.lastOpenedPanel!=d)&&(this.lastOpenedPanel.parentPanel!=d)&&(this.lastOpenedPanel!=d.parentPanel)){this._closePanel(this.lastOpenedPanel)}var e=d.topNod.timeoutop;if(e){clearTimeout(e)}if(d.topNod.style.display==""){return}if(this.lastOpenedPanel!=d){this.lastOpenedPanel=d;switch(this.modeValue){case"classic":if(d.topMenu!=d.parentPanel){d.topNod.style.left=getAbsoluteLeft(d.parentItem.topNod)*1+d.parentItem.topNod.offsetWidth*1+"px";d.topNod.style.top=getAbsoluteTop(d.parentItem.topNod)+"px"}else{d.topNod.style.left=getAbsoluteLeft(d.parentItem.topNod)+"px";d.topNod.style.top=getAbsoluteTop(d.parentItem.topNod)*1+d.parentItem.topNod.offsetHeight*1-1+"px"}break;case"popup":d.topNod.style.left=getAbsoluteLeft(d.parentItem.topNod)*1+d.parentItem.topNod.offsetWidth*1+"px";d.topNod.style.top=getAbsoluteTop(d.parentItem.topNod)+"px";break;case"betta":if(d.topMenu!=d.parentPanel){d.topNod.style.left=getAbsoluteLeft(d.parentItem.topNod)*1+"px";d.topNod.style.top=getAbsoluteTop(d.parentItem.topNod)+d.parentItem.topNod.offsetHeight*1-1+"px"}else{d.topNod.style.left=getAbsoluteLeft(d.parentItem.topNod)*1+d.parentItem.topNod.offsetWidth*1+"px";d.topNod.style.top=getAbsoluteTop(d.parentItem.topNod)+"px"}break;case"alfa":d.topNod.style.top=getAbsoluteTop(d.parentItem.topNod)*1+d.parentItem.topNod.offsetHeight*1-1+"px";d.topNod.style.left=getAbsoluteLeft(d.parentItem.topNod)+"px";break}if(this._fixes){d.topNod.style.top=parseInt(d.topNod.style.top)-this._fixes[0]+"px";d.topNod.style.left=parseInt(d.topNod.style.left)-this._fixes[1]+"px"}if(d.topNod.parentNode.style.position=="absolute"){d.topNod.style.top=parseInt(d.topNod.style.top)-getAbsoluteTop(d.topNod.parentNode)+"px";d.topNod.style.left=parseInt(d.topNod.style.left)-getAbsoluteLeft(d.topNod.parentNode)+"px"}d.topNod.style.display="";if(d.topNod.ieFix){d.topNod.ieFix.style.top=d.topNod.style.top;d.topNod.ieFix.style.left=d.topNod.style.left;d.topNod.ieFix.style.width=d.topNod.offsetWidth+"px";d.topNod.ieFix.style.height=d.topNod.offsetHeight+"px";d.topNod.ieFix.style.display=""}}if(!this._skipAPP){this._fixPanelPosition(d)}};dhtmlXMenuBarObject.prototype._fixPanelPosition=function(d,k){var l=0;if(d.parentPanel){var e=document.body.offsetWidth-15+document.body.scrollLeft;var f=document.body.offsetHeight-15+document.body.scrollTop;if((d.topNod.offsetWidth+parseInt(d.topNod.style.left))>e){if(!d.parentPanel.extraMode){var h=e-d.topNod.offsetWidth;if(h<0){h=0}d.topNod.style.left=h+"px";if(d.topNod.ieFix){d.topNod.ieFix.style.left=h+"px"}}else{var h=parseInt(d.topNod.style.left)-d.topNod.offsetWidth-d.parentItem.topNod.offsetWidth;if(h<0){var g=parseInt(d.topNod.style.top)+d.parentItem.topNod.offsetHeight;d.topNod.style.top=g+"px";if(d.topNod.ieFix){d.topNod.ieFix.style.top=g+"px"}h=e-d.topNod.offsetWidth;if(h<0){h=0}}d.topNod.style.left=h+"px";if(d.topNod.ieFix){d.topNod.ieFix.style.left=h+"px"}}}if((d.topNod.offsetHeight+parseInt(d.topNod.style.top))>f){if(d.parentPanel.extraMode){var h=f-d.topNod.offsetHeight;if(h<0){h=0}d.topNod.style.top=h+"px";if(d.topNod.ieFix){d.topNod.ieFix.style.top=h+"px"}}else{var h=parseInt(d.topNod.style.top)-d.topNod.offsetHeight-d.parentItem.topNod.offsetHeight;if(h<0){var g=parseInt(d.topNod.style.left)+d.parentItem.topNod.offsetWidth;d.topNod.style.left=g+"px";if(d.topNod.ieFix){d.topNod.ieFix.style.left=g+"px"}l=1;h=f-d.topNod.offsetHeight;if(h<0){h=0}}d.topNod.style.top=h+"px";if(d.topNod.ieFix){d.topNod.ieFix.style.top=h+"px"}}}}if((l)&&(!k)){this._fixPanelPosition(d,1)}};dhtmlXMenuBarObject.prototype._closePanel=function(d){if(!d){return}if((this.lastSelectedItem)&&(this.lastSelectedItem.parentPanel==d)){this._unMarkItem(this.lastSelectedItem)}this._closeBottomPanels(d);this._closeTopPanels(d);this.lastOpenedPanel=""};dhtmlXMenuBarObject.prototype._closeTopPanels=function(d){if((this.lastSelectedItem)&&(this.lastSelectedItem.parentPanel==d)){this._unMarkItem(this.lastSelectedItem)}for(var e=0;e<d.itemsCount;e++){var f=d.items[e];if((f.subMenu)&&(f.subMenu.topNod.style.display!="none")){f.subMenu.topNod.style.display="none";this._unMarkItem(f.subMenu.parentItem);if(f.subMenu.topNod.ieFix){f.subMenu.topNod.ieFix.style.display="none"}this._closeTopPanels(f.subMenu);return}}};dhtmlXMenuBarObject.prototype._closeBottomPanels=function(d,e){if(d.parentPanel){if((!this.lastSelectedItem)||(this.lastSelectedItem.parentPanel!=d.parentPanel)){this._closeBottomPanels(d.parentPanel)}else{this.lastOpenedPanel=d}d.topNod.style.display="none";this._unMarkItem(d.parentItem);if(d.topNod.ieFix){d.topNod.ieFix.style.display="none"}}};dhtmlXMenuBarObject.prototype._unMarkItem=function(d){d.CSSTag.className=d.className;if(d.CSSImageTag){d.CSSImageTag.className=""}if((d.childMenuTag.src!="")&&(this.topMenu.echsw)&&(this.topMenu.echsw2)){d.childMenuTag.src=this.topMenu.sysGfxPath+"btn_rt1.gif"}};dhtmlXMenuBarObject.prototype._markItem=function(d,e){e=e||"over";d.CSSTag.className=d.className+e;if(d.CSSImageTag){d.CSSImageTag.className=d.className+e+"img"}if((d.childMenuTag.src!="")&&(this.topMenu.echsw)&&(this.topMenu.echsw2)){d.childMenuTag.src=this.topMenu.sysGfxPath+"btn_rt2.gif"}};dhtmlXMenuBarObject.prototype.setMenuMode=function(d){this.modeValue=d;switch(d){case"classic":this.addFirstLevel=this._addItem;this.addSecondLevel=this.addItem_vertical;break;case"alfa":this.addFirstLevel=this._addItem;this.addSecondLevel=this._addItem;break;case"popup":this.addFirstLevel=this.addItem_vertical;this.addSecondLevel=this.addItem_vertical;break;case"betta":this.addFirstLevel=this.addItem_vertical;this.addSecondLevel=this._addItem;break}};function dhtmlXMenuDividerYObject(e){this.topNod=0;if(e){this.id=e}else{this.id=0}var d=document.createElement("td");this.topNod=d;d.align="center";d.style.padding="2px 2px 1px 2px";d.innerHTML="<div class='menuDividerY'>&nbsp;</div>";if(!document.all){d.childNodes[0].style.height="0px"}return this}dhtmlXMenuDividerYObject.prototype=new dhtmlXButtonPrototypeObject;function dhtmlXMenuDividerXObject(e){this.topNod=0;if(e){this.id=e}else{this.id=0}var d=document.createElement("td");this.topNod=d;d.align="center";d.style.paddingRight="2px";d.style.paddingLeft="2px";d.width="4px";d.innerHTML="<div class='menuDivider'></div	>";if(!document.all){d.childNodes[0].style.width="0px";d.style.padding="0px 0px 0px 0px";d.style.margin="0px 0px 0px 0px"}return this}dhtmlXMenuDividerXObject.prototype=new dhtmlXButtonPrototypeObject;function dhtmlXContextMenuObject(f,d,e,g){this.menu=new dhtmlXMenuBarObject(document.body,f,d,"",1,e,g);this.menu.setMenuMode("popup");this.menu.hideBar();this.menu.contextMenu=this;this.menu.enableWindowOpenMode(false);this.menu.setOnClickHandler(this._innerOnClick);this.aframes=new Array();this.registerFrame(window);return this}dhtmlXContextMenuObject.prototype.registerFrame=function(d){this.aframes[this.aframes.length]=d};dhtmlXContextMenuObject.prototype.setContextMenuHandler=function(func){if(typeof(func)=="function"){this.onClickHandler=func}else{this.onClickHandler=eval(func)}};dhtmlXContextMenuObject.prototype.openAt=function(d,l,k,g){this.espc=convertStringToBoolean(g);var e=new Object;e.button=2;e.clientX=parseInt(d);e.clientY=parseInt(l);var h=new Object;h.contextMenuId=k;h.contextMenu=this;h.a=this._contextStart;h.a(document.body,e);this.espc=null};dhtmlXContextMenuObject.prototype.disableMenu=function(d){this._dsbd=convertStringToBoolean(d)};dhtmlXContextMenuObject.prototype.setOnShowMenuHandler=function(func){if(typeof(func)=="function"){this.onShowHandler=func}else{this.onShowHandler=eval(func)}};dhtmlXContextMenuObject.prototype.setContextMenuPosition=function(e,d){this._msTop=parseInt(d);this._msLeft=parseInt(e)};dhtmlXContextMenuObject.prototype._innerOnClick=function(e){var d=document.body._dhtmlx_contextMenu;if(d.contextZone.ownerDocument){if(d.contextZone.ownerDocument.body.onclick){d.contextZone.ownerDocument.body.onclick()}}else{if(document.body.onclick){document.body.onclick()}}if(d.onClickHandler){return d.onClickHandler(e,d.zoneId,d.contextZone)}return true};dhtmlXContextMenuObject.prototype.setContextZone=function(e,d){if(typeof(e)!="object"){e=document.getElementById(e)}if(!e.contextMenu){e.contextOnclick=e.onmouseup}e.selfobj=this;e[_isMacOS?"oncontextmenu":"onmouseup"]=function(f){this.selfobj._contextStart(this,f)};e.contextMenu=this;e.contextMenuId=d};dhtmlXContextMenuObject.prototype._contextStart=function(l,n){if((_isIE)&&(window.event)){event.srcElement.oncontextmenu=function(){event.cancelBubble=true;return false}}if(n&&n.preventDefault){n.preventDefault()}if(!this.contextMenu){this.contextMenu=this}var m=l.ownerDocument?l.ownerDocument.parentWindow:window;if(!m){m=l.ownerDocument.defaultView}var r=this.contextMenu.menu.topNod;r.style.position="absolute";if(!n){n=m.event}if(document.body.onclick){document.body.onclick()}if((!_isMacOS)&&((!n)||(n.button!=2))){if(l.contextOnclick){l.contextOnclick()}return true}else{if(this.contextMenu._dsbd){return true}if(this.contextMenu.onShowHandler){var p=this.contextMenu.onShowHandler(l.contextMenuId);if((typeof(p)=="boolean")&&(!p)){return}}this.contextMenu.menu.showBar()}var h=window.screenTop;if((!h)&&(h!=0)){h=window.screenY+window.outerHeight-window.innerHeight}var d=window.screenLeft;if((!d)&&(d!=0)){d=window.screenX+window.outerWidth-window.innerWidth-4}var g=window.document.documentElement;var f=window.document.body;if(n.screenY-h+r.offsetHeight-(g.scrollTop||f.scrollTop)>(g.clientHeight||f.clientHeight)){var o=r.offsetHeight}else{var o=((this.contextMenu._msTop*(-1))||0)}var q=new Array((g.scrollLeft||f.scrollLeft)+(this.contextMenu._msLeft||0),o-(g.scrollTop||f.scrollTop));if((!n.screenY)&&(n.clientX)){r.style.top=n.clientY+"px";r.style.left=n.clientX+"px"}else{r.style.top=n.screenY-h-q[1]+"px";r.style.left=n.screenX-d+q[0]+"px"}if(!_isIE){r.style.top=n.clientY-q[1]+"px";r.style.left=n.clientX+q[0]+"px"}this.contextMenu.correctMenuPosition(r);if(r.ieFix){r.ieFix.style.top=r.style.top;r.ieFix.style.left=r.style.left}m.document.body.oncontextmenu=new Function("document.body.oncontextmenu=new Function('if (document.body.onclick) document.body.onclick(); return false;'); return false; ");for(var k=0;k<this.contextMenu.aframes.length;k++){if(this.contextMenu.aframes[k].document){this.contextMenu.aframes[k].document.body.selfobj=this}this.contextMenu.aframes[k].document.body.onclick=function(s){this.selfobj.contextMenu._contextEnd(s)}}document.body._dhtmlx_contextMenu=this.contextMenu;this.contextMenu.contextZone=l;this.contextMenu.zoneId=l.contextMenuId;return false};dhtmlXContextMenuObject.prototype.correctMenuPosition=function(d,k){var e=document.body.offsetWidth+document.body.scrollLeft;var h=document.body.offsetHeight;if(h==0&&document.defaultView&&document.defaultView.innerHeight){h=document.defaultView.innerHeight}var f=h-15+document.body.scrollTop;if(document.body.parentNode.scrollTop){f=document.body.parentNode.offsetHeight+document.body.parentNode.scrollTop}if((d.offsetWidth+parseInt(d.style.left))>e){var g=parseInt(d.style.left)-d.offsetWidth;if((g<0)||(this.espc)){g=e-d.offsetWidth}if(g<0){g=0}d.style.left=g+"px";if(d.ieFix){d.ieFix.style.left=g+"px"}}if((d.offsetHeight+parseInt(d.style.top))>f){var g=parseInt(d.style.top)-d.offsetHeight;if((g<0)||(this.espc)){g=f-d.offsetHeight}if(g<0){g=0}d.style.top=g+"px";if(d.ieFix){d.ieFix.style.top=g+"px"}}if(!k){this.correctMenuPosition(d,1)}};dhtmlXMenuBarObject.prototype.correctMenuPosition=dhtmlXContextMenuObject.prototype.correctMenuPosition;dhtmlXContextMenuObject.prototype._contextEnd=function(f){var g=this.menu;g._closePanel(g);g.lastOpenedPanel="";g.lastSelectedItem=0;g.hideBar();for(var d=0;d<this.aframes.length;d++){if(this.aframes[d].document){this.aframes[d].document.body.onclick=null;this.aframes[d].document.body.oncontextmenu=null}}return false};var inconcert=inconcert||{};inconcert.storage={Setup:function(){sessvars.$.prefs.autoFlush=true},Reset:function(){sessvars.$.clearMem()},Put:function(d,e){sessvars[d]=e},Get:function(d){return sessvars[d]},Erase:function(d){delete sessvars[d]}};(function(k){function g(){}function C(N){f=[N]}function s(S,O,P,Q){try{Q=S&&S.apply(O.context||O,P)}catch(N){Q=!1}return Q}function r(N){return/\?/.test(N)?"&":"?"}var t="async",y="charset",v="",L="error",A="insertBefore",w="_jqjsp",I="on",l=I+"click",o=I+L,u=I+"load",F=I+"readystatechange",d="readyState",K="removeChild",n="<script>",H="success",J="timeout",h=window,m=k("head")[0]||document.documentElement,e=m.firstChild,E={},q=0,f,p={callback:w,url:location.href},D=h.opera;function M(Q){Q=k.extend({},p,Q);var O=Q.complete,ae=Q.dataFilter,ag=Q.callbackParameter,W=Q.callback,af=Q.cache,N=Q.pageCache,P=Q.charset,S=Q.url,ai=Q.data,Y=Q.timeout,V,ac=0,aa=g,X,U,ah,T,ab;Q.abort=function(){!(ac++)&&aa()};if(s(Q.beforeSend,Q,[Q])===!1||ac){return Q}S=S||v;ai=ai?((typeof ai)=="string"?ai:k.param(ai,Q.traditional)):v;S+=ai?(r(S)+ai):v;ag&&(S+=r(S)+encodeURIComponent(ag)+"=?");!af&&!N&&(S+=r(S)+"_"+(new Date()).getTime()+"=");S=S.replace(/=\?(&|$)/,"="+W+"$1");function ad(aj){if(!(ac++)){aa();N&&(E[S]={s:[aj]});ae&&(aj=ae.apply(Q,[aj]));s(Q.success,Q,[aj,H]);s(O,Q,[Q,H])}}function Z(aj){if(!(ac++)){aa();N&&aj!=J&&(E[S]=aj);s(Q.error,Q,[Q,aj]);s(O,Q,[Q,aj])}}if(N&&(V=E[S])){V.s?ad(V.s[0]):Z(V)}else{h[W]=C;ah=k(n)[0];ah.id=w+q++;if(P){ah[y]=P}D&&D.version()<11.6?((T=k(n)[0]).text="document.getElementById('"+ah.id+"')."+o+"()"):(ah[t]=t);if(!(u in ah)&&(F in ah)){ah.htmlFor=ah.id;ah.event=l}ah[u]=ah[o]=ah[F]=function(aj){if(!ah[d]||/loaded|complete/.test(ah[d])){try{ah[l]&&ah[l]()}catch(ak){}aj=f;f=0;aj?ad(aj[0]):Z(L)}};ah.src=S;aa=function(aj){ab&&clearTimeout(ab);ah[F]=ah[u]=ah[o]=null;m[K](ah);T&&m[K](T)};m[A](ah,e);T&&m[A](T,e);ab=Y>0&&setTimeout(function(){Z(J)},Y)}return Q}M.setup=function(N){k.extend(p,N)};k.jsonp=M})(jQuery);(function(at){var aq="string",ah="head",U="body",f="script",am="readyState",ar="preloaddone",ae="loadtrigger",T="srcuri",X="preload",d="complete",ad="done",ab="which",S="preserve",W="onreadystatechange",aE="onload",C="hasOwnProperty",aD="script/cache",v="[object ",al=v+"Function]",ak=v+"Array]",ay=null,av=true,au=false,ao=at.document,ai=at.location,aC=at.ActiveXObject,aa=at.setTimeout,aB=at.clearTimeout,r=function(e){return ao.getElementsByTagName(e)},o=Object.prototype.toString,n=function(){},ap={},m={},aA=/^[^?#]*\//.exec(ai.href)[0],az=/^\w+\:\/\/\/?[^\/]+/.exec(aA)[0],ag=r(f),ax=at.opera&&o.call(at.opera)==v+"Opera]",aw=(function(e){e[e]=e+"";return e[e]!=e+""})(new String("__count__")),aj={cache:!(aw||ax),order:aw||ax,xhr:av,dupe:av,base:"",which:ah};aj[S]=au;aj[X]=av;ap[ah]=r(ah);ap[U]=r(U);function l(e){return o.call(e)===al}function g(h,e){var p=/^\w+\:\/\//,k;if(typeof h!==aq){h=""}if(typeof e!==aq){e=""}k=(p.test(h)?"":e)+h;return((p.test(k)?"":(k.charAt(0)==="/"?az:aA))+k)}function af(e){return(g(e).indexOf(az)===0)}function ac(h){var e,k=-1;while(e=ag[++k]){if(typeof e.src===aq&&h===g(e.src)&&e.type!==aD){return av}}return au}function V(H,L){H=!(!H);if(L==ay){L=aj}var t=au,I=H&&L[X],q=I&&L.cache,F=I&&L.order,p=I&&L.xhr,aG=L[S],Z=L.which,Q=L.base,k=n,D=au,E,J=av,K={},A=[],y=ay;I=q||p||F;function h(aK,aJ){if((aK[am]&&aK[am]!==d&&aK[am]!=="loaded")||aJ[ad]){return au}aK[aE]=aK[W]=ay;return av}function w(aK,aJ,aM){aM=!(!aM);if(!aM&&!(h(aK,aJ))){return}aJ[ad]=av;for(var aL in K){if(K[C](aL)&&!(K[aL][ad])){return}}t=av;k()}function e(aJ){if(l(aJ[ae])){aJ[ae]();aJ[ae]=ay}}function O(aK,aJ){if(!h(aK,aJ)){return}aJ[ar]=av;aa(function(){ap[aJ[ab]].removeChild(aK);e(aJ)},0)}function M(aK,aJ){if(aK[am]===4){aK[W]=n;aJ[ar]=av;aa(function(){e(aJ)},0)}}function u(aJ,aP,aN,aK,aL,aO){var aM=aJ[ab];aa(function(){if("item" in ap[aM]){if(!ap[aM][0]){aa(arguments.callee,25);return}ap[aM]=ap[aM][0]}var aQ=ao.createElement(f);aQ.type=aN;if(typeof aK===aq){aQ.charset=aK}if(l(aL)){aQ[aE]=aQ[W]=function(){aL(aQ,aJ)};aQ.src=aP}ap[aM].insertBefore(aQ,(aM===ah?ap[aM].firstChild:ay));if(typeof aO===aq){aQ.text=aO;w(aQ,aJ,av)}},0)}function aI(aK,aJ,aM,aL){m[aK[T]]=av;u(aK,aJ,aM,aL,w)}function aH(aK,aJ,aN,aM){var aL=arguments;if(J&&aK[ar]==ay){aK[ar]=au;u(aK,aJ,aD,aM,O)}else{if(!J&&aK[ar]!=ay&&!aK[ar]){aK[ae]=function(){aH.apply(ay,aL)}}else{if(!J){aI.apply(ay,aL)}}}}function aF(aK,aJ,aO,aN){var aL=arguments,aM;if(J&&aK[ar]==ay){aK[ar]=au;aM=aK.xhr=(aC?new aC("Microsoft.XMLHTTP"):new at.XMLHttpRequest());aM[W]=function(){M(aM,aK)};aM.open("GET",aJ);aM.send("")}else{if(!J&&aK[ar]!=ay&&!aK[ar]){aK[ae]=function(){aF.apply(ay,aL)}}else{if(!J){m[aK[T]]=av;u(aK,aJ,aO,aN,ay,aK.xhr.responseText);aK.xhr=ay}}}}function Y(aK){if(aK.allowDup==ay){aK.allowDup=L.dupe}var aJ=aK.src,aQ=aK.type,aO=aK.charset,aL=aK.allowDup,aM=g(aJ,Q),aP,aN=af(aM);if(typeof aQ!==aq){aQ="text/javascript"}if(typeof aO!==aq){aO=ay}aL=!(!aL);if(!aL&&((m[aM]!=ay)||(J&&K[aM])||ac(aM))){if(K[aM]!=ay&&K[aM][ar]&&!K[aM][ad]&&aN){w(ay,K[aM],av)}return}if(K[aM]==ay){K[aM]={}}aP=K[aM];if(aP[ab]==ay){aP[ab]=Z}aP[ad]=au;aP[T]=aM;D=av;if(!F&&p&&aN){aF(aP,aM,aQ,aO)}else{if(!F&&q){aH(aP,aM,aQ,aO)}else{aI(aP,aM,aQ,aO)}}}function P(aJ){A.push(aJ)}function s(aJ){if(H&&!F){P(aJ)}if(!H||I){aJ()}}function N(aK){var aJ=[],aL;for(aL=-1;++aL<aK.length;){if(o.call(aK[aL])===ak){aJ=aJ.concat(N(aK[aL]))}else{aJ[aJ.length]=aK[aL]}}return aJ}E={script:function(){aB(y);var aK=N(arguments),aJ=E,aL;if(aG){for(aL=-1;++aL<aK.length;){if(aL===0){s(function(){Y((typeof aK[0]===aq)?{src:aK[0]}:aK[0])})}else{aJ=aJ.script(aK[aL])}aJ=aJ.wait()}}else{s(function(){for(aL=-1;++aL<aK.length;){Y((typeof aK[aL]===aq)?{src:aK[aL]}:aK[aL])}})}y=aa(function(){J=au},5);return aJ},wait:function(aK){aB(y);J=au;if(!l(aK)){aK=n}var aJ=V(av,L),aN=aJ.trigger,aM=function(){try{aK()}catch(aO){}aN()};delete aJ.trigger;var aL=function(){if(D&&!t){k=aM}else{aM()}};if(H&&!D){P(aL)}else{s(aL)}return aJ}};E.block=E.wait;if(H){E.trigger=function(){var aK,aJ=-1;while(aK=A[++aJ]){aK()}A=[]}}return E}function an(h){var e,q={},p={UseCachePreload:"cache",UseLocalXHR:"xhr",UsePreloading:X,AlwaysPreserveOrder:S,AllowDuplicates:"dupe"},k={AppendTo:ab,BasePath:"base"};for(e in p){k[e]=p[e]}q.order=!(!aj.order);for(e in k){if(k[C](e)&&aj[k[e]]!=ay){q[k[e]]=(h[e]!=ay)?h[e]:aj[k[e]]}}for(e in p){if(p[C](e)){q[p[e]]=!(!q[p[e]])}}if(!q[X]){q.cache=q.order=q.xhr=au}q.which=(q.which===ah||q.which===U)?q.which:ah;return q}at.$LAB={setGlobalDefaults:function(e){aj=an(e)},setOptions:function(e){return V(au,an(e))},script:function(){return V().script.apply(ay,arguments)},wait:function(){return V().wait.apply(ay,arguments)}};at.$LAB.block=at.$LAB.wait;(function(h,e,k){if(ao[am]==ay&&ao[h]){ao[am]="loading";ao[h](e,k=function(){ao.removeEventListener(e,k,au);ao[am]=d},au)}})("addEventListener","DOMContentLoaded")})(window);if(!this.JSON){JSON=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value,whitelist){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}if(typeof value.toJSON==="function"){return stringify(value.toJSON())}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i],whitelist)||"null")}return"["+a.join(",")+"]"}if(whitelist){l=whitelist.length;for(i=0;i<l;i+=1){k=whitelist[i];if(typeof k==="string"){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+":"+v)}}}}else{for(k in value){if(typeof k==="string"){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text,filter){var j;function walk(k,v){var i,n;if(v&&typeof v==="object"){for(i in v){if(Object.prototype.hasOwnProperty.apply(v,[i])){n=walk(i,v[i]);if(n!==undefined){v[i]=n}}}}return filter(k,v)}if(/^[\],:{}\s]*$/.test(text.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof filter==="function"?walk("",j):j}throw new SyntaxError("parseJSON")}}}()}var JST_CHARS_NUMBERS="0123456789";var JST_CHARS_LOWER="";var JST_CHARS_UPPER="";for(var i=50;i<500;i++){var c=String.fromCharCode(i);var lower=c.toLowerCase();var upper=c.toUpperCase();if(lower!=upper){JST_CHARS_LOWER+=lower;JST_CHARS_UPPER+=upper}}var JST_CHARS_LETTERS=JST_CHARS_LOWER+JST_CHARS_UPPER;var JST_CHARS_ALPHA=JST_CHARS_LETTERS+JST_CHARS_NUMBERS;var JST_CHARS_BASIC_LOWER="abcdefghijklmnopqrstuvwxyz";var JST_CHARS_BASIC_UPPER="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var JST_CHARS_BASIC_LETTERS=JST_CHARS_BASIC_LOWER+JST_CHARS_BASIC_UPPER;var JST_CHARS_BASIC_ALPHA=JST_CHARS_BASIC_LETTERS+JST_CHARS_NUMBERS;var JST_CHARS_WHITESPACE=" \t\n\r";var MILLIS_IN_SECOND=1000;var MILLIS_IN_MINUTE=60*MILLIS_IN_SECOND;var MILLIS_IN_HOUR=60*MILLIS_IN_MINUTE;var MILLIS_IN_DAY=24*MILLIS_IN_HOUR;var JST_FIELD_MILLISECOND=0;var JST_FIELD_SECOND=1;var JST_FIELD_MINUTE=2;var JST_FIELD_HOUR=3;var JST_FIELD_DAY=4;var JST_FIELD_MONTH=5;var JST_FIELD_YEAR=6;function getObject(k,g){if(isEmpty(k)){return null}if(!isInstance(k,String)){return k}if(isEmpty(g)){g=self}if(isInstance(g,String)){sourceName=g;g=self.frames[sourceName];if(g==null){g=parent.frames[sourceName]}if(g==null){g=top.frames[sourceName]}if(g==null){g=getObject(sourceName)}if(g==null){return null}}var d=(g.document)?g.document:g;if(d.getElementById){var h=d.getElementsByName(k);if(h.length==1){return h[0]}if(h.length>1){if(typeof(h)=="array"){return h}var e=new Array(h.length);for(var f=0;f<h.length;f++){e[f]=h[f]}return e}return d.getElementById(k)}else{if(d[k]){return d[k]}if(d.all[k]){return d.all[k]}if(g[k]){return g[k]}}return null}function isInstance(e,d){if((e==null)||(d==null)){return false}if(e instanceof d){return true}if((d==String)&&(typeof(e)=="string")){return true}if((d==Number)&&(typeof(e)=="number")){return true}if((d==Array)&&(typeof(e)=="array")){return true}if((d==Function)&&(typeof(e)=="function")){return true}var f=e.base;while(f!=null){if(f==d){return true}f=f.base}return false}function booleanValue(e,d){if(e==true||e==false){return e}else{e=String(e);if(e.length==0){return false}else{var f=e.charAt(0).toUpperCase();d=isEmpty(d)?"T1YS":d.toUpperCase();return d.indexOf(f)!=-1}}}function isUndefined(d){return typeof(d)=="undefined"}function invoke(functionName,args){var arguments;if(args==null||isUndefined(args)){arguments="()"}else{if(!isInstance(args,Array)){arguments="(args)"}else{arguments="(";for(var i=0;i<args.length;i++){if(i>0){arguments+=","}arguments+="args["+i+"]"}arguments+=")"}}return eval(functionName+arguments)}function invokeAsMethod(e,f,d){return f.apply(e,d)}function ensureArray(d){if(typeof(d)=="undefined"||d==null){return[]}if(d instanceof Array){return d}return[d]}function indexOf(e,g,d){if((e==null)||!(g instanceof Array)){return -1}if(d==null){d=0}for(var f=d;f<g.length;f++){if(g[f]==e){return f}}return -1}function inArray(d,e){return indexOf(d,e)>=0}function removeFromArray(h){if(!isInstance(h,Array)){return null}var d=[];var f=removeFromArray.arguments.slice(1);for(var e=0;e<h.length;e++){var g=h[e];if(!inArray(g,f)){d[d.length]=g}}return d}function arrayConcat(){var d=[];for(var e=0;e<arrayConcat.arguments.length;e++){var f=arrayConcat.arguments[e];if(!isEmpty(f)){if(!isInstance(f,Array)){f=[f]}for(j=0;j<f.length;j++){d[d.length]=f[j]}}}return d}function arrayEquals(f,e){if(!isInstance(f,Array)||!isInstance(e,Array)){return false}if(f.length!=e.length){return false}for(var d=0;d<f.length;d++){if(f[d]!=e[d]){return false}}return true}function checkAll(e,d){if(typeof(e)=="string"){e=getObject(e)}if(e!=null){if(!isInstance(e,Array)){e=[e]}for(i=0;i<e.length;i++){e[i].checked=d}}}function observeEvent(e,d,f){e=getObject(e);if(e!=null){if(e.addEventListener){e.addEventListener(d,function(g){return invokeAsMethod(e,f,[g])},false)}else{if(e.attachEvent){e.attachEvent("on"+d,function(){return invokeAsMethod(e,f,[window.event])})}else{e["on"+d]=f}}}}function typedCode(e){var d=0;if(e==null&&window.event){e=window.event}if(e!=null){if(e.keyCode){d=e.keyCode}else{if(e.which){d=e.which}}}return d}function stopPropagation(d){if(d==null&&window.event){d=window.event}if(d!=null){if(d.stopPropagation!=null){d.stopPropagation()}else{if(d.cancelBubble!==null){d.cancelBubble=true}}}return false}function preventDefault(d){if(d==null&&window.event){d=window.event}if(d!=null){if(d.preventDefault!=null){d.preventDefault()}else{if(d.returnValue!==null){d.returnValue=false}}}return false}function prepareForCaret(d){d=getObject(d);if(d==null||!d.type){return null}if(d.createTextRange){var e=function(){d.caret=document.selection.createRange().duplicate()};d.attachEvent("onclick",e);d.attachEvent("ondblclick",e);d.attachEvent("onselect",e);d.attachEvent("onkeyup",e)}}function isCaretSupported(d){d=getObject(d);if(d==null||!d.type){return false}if(navigator.userAgent.toLowerCase().indexOf("opera")>=0){return false}return d.setSelectionRange!=null||d.createTextRange!=null}function isInputSelectionSupported(d){d=getObject(d);if(d==null||!d.type){return false}return d.setSelectionRange!=null||d.createTextRange!=null}function getInputSelection(e){e=getObject(e);if(e==null||!e.type){return null}if(e.createTextRange&&e.caret){return e.caret.text}else{if(e.setSelectionRange){var f=e.selectionStart;var d=e.selectionEnd;return e.value.substring(f,d)}}return""}function getInputSelectionRange(e){e=getObject(e);if(e==null||!e.type){return null}if(e.selectionEnd){return[e.selectionStart,e.selectionEnd]}else{if(e.createTextRange&&e.caret){var d=getCaret(e);return[d-e.caret.text.length,d]}}return null}function setInputSelectionRange(f,g,d){f=getObject(f);if(f==null||!f.type){return}if(g<0){g=0}if(d>f.value.length){d=f.value.length}if(f.setSelectionRange){f.focus();f.setSelectionRange(g,d)}else{if(f.createTextRange){f.focus();var e;if(f.caret){e=f.caret;e.moveStart("textedit",-1);e.moveEnd("textedit",-1)}else{e=f.createTextRange()}e.moveEnd("character",d);e.moveStart("character",g);e.select()}}}function getCaret(f){f=getObject(f);if(f==null||!f.type){return null}try{if(f.createTextRange&&f.caret){var d=f.caret.duplicate();d.moveStart("textedit",-1);return d.text.length}else{if(f.selectionStart||f.selectionStart==0){return f.selectionStart}}}catch(g){}return null}function setCaret(d,e){setInputSelectionRange(d,e,e)}function setCaretToEnd(e){e=getObject(e);if(e==null||!e.type){return}if(e.createTextRange){var d=e.createTextRange();d.collapse(false);d.select()}else{if(e.setSelectionRange){var f=e.value.length;e.setSelectionRange(f,f);e.focus()}}}function setCaretToStart(e){e=getObject(e);if(e==null||!e.type){return}if(e.createTextRange){var d=e.createTextRange();d.collapse(true);d.select()}else{if(e.setSelectionRange){e.focus();e.setSelectionRange(0,0)}}}function selectString(f,e){if(isInstance(f,String)){f=getObject(f)}if(f==null||!f.type){return}var d=new RegExp(e,"i").exec(f.value);if(d){setInputSelectionRange(f,d.index,d.index+d[0].length)}}function replaceSelection(e,d){e=getObject(e);if(e==null||!e.type){return}if(e.setSelectionRange){var f=e.selectionStart;var g=e.selectionEnd;e.value=e.value.substring(0,f)+d+e.value.substring(g);if(f!=g){setInputSelectionRange(e,f,f+d.length)}else{setCaret(e,f+d.length)}}else{if(e.createTextRange&&e.caret){e.caret.text=d}}}function clearOptions(d){d=getObject(d);var e=[];if(d!=null){for(var f=0;f<d.options.length;f++){var g=d.options[f];e[e.length]=new Option(g.text,g.value)}d.options.length=0}return e}function addOption(d,k,f,h,e,l){d=getObject(d);if(d==null||k==null){return}h=h||"text";e=e||"value";l=l||"selected";if(isInstance(k,Map)){k=k.toObject()}if(isUndefined(k[e])){e=h}var g=false;if(!isUndefined(k[l])){g=k[l]}k=new Option(k[h],k[e],g,g);d.options[d.options.length]=k;if(booleanValue(f)){sortOptions(d)}}function addOptions(d,e,h,k,g,l){d=getObject(d);if(d==null){return}for(var f=0;f<e.length;f++){addOption(d,e[f],false,k,g,l)}if(!d.multiple&&d.selectedIndex<0&&d.options.length>0){d.selectedIndex=0}if(booleanValue(h)){sortOptions(d)}}function compareOptions(e,d){if(e==null&&d==null){return 0}if(e==null){return -1}if(d==null){return 1}if(e.text==d.text){return 0}else{if(e.text>d.text){return 1}else{return -1}}}function setOptions(l,n,m,h,g,f,e){l=getObject(l);var k=clearOptions(l);var d=isInstance(m,String);if(d||booleanValue(m)){l.options[0]=new Option(d?m:"")}addOptions(l,n,h,g,f,e);return k}function sortOptions(e,d){e=getObject(e);if(e==null){return}var f=clearOptions(e);if(isInstance(d,Function)){f.sort(d)}else{f.sort(compareOptions)}setOptions(e,f)}function transferOptions(d,m,l,e){d=getObject(d);m=getObject(m);if(d==null||m==null){return}if(booleanValue(l)){addOptions(m,clearOptions(d),e)}else{var h=[];var k=[];for(var f=0;f<d.options.length;f++){var g=d.options[f];var n=(g.selected)?k:h;n[n.length]=new Option(g.text,g.value)}setOptions(d,h,false,e);addOptions(m,k,e)}}function getValue(f){f=getObject(f);if(f==null){return null}if(f.length&&!f.type){var e=[];for(var g=0;g<f.length;g++){var d=getValue(f[g]);if(d!=null){e[e.length]=d}}return e.length==0?null:e.length==1?e[0]:e}if(f.type){if(f.type.indexOf("select")>=0){var e=[];if(!f.multiple&&f.selectedIndex<0&&f.options.length>0){e[e.length]=f.options[0].value}else{for(g=0;g<f.options.length;g++){if(booleanValue(f.options[g].selected)){e[e.length]=f[g].value;if(!f.multiple){break}}}}return e.length==0?null:e.length==1?e[0]:e}if(f.type=="radio"||f.type=="checkbox"){return booleanValue(f.checked)?f.value:null}else{return f.value}}else{if(typeof(f.innerHTML)!="undefined"){return f.innerHTML}else{return null}}}function setValue(e,h){if(e==null){return}if(typeof(e)=="string"){e=getObject(e)}var d=ensureArray(h);for(var f=0;f<d.length;f++){d[f]=d[f]==null?"":""+d[f]}if(e.length&&!e.type){while(d.length<e.length){d[d.length]=""}for(var f=0;f<e.length;f++){var k=e[f];setValue(k,inArray(k.type,["checkbox","radio"])?d:d[f])}return}if(e.type){if(e.type.indexOf("select")>=0){for(var f=0;f<e.options.length;f++){var g=e.options[f];g.selected=inArray(g.value,d)}return}else{if(e.type=="radio"||e.type=="checkbox"){e.checked=inArray(e.value,d);return}else{e.value=d.length==0?"":d[0];return}}}else{if(typeof(e.innerHTML)!="undefined"){e.innerHTML=d.length==0?"":d[0]}}}function decode(e){var d=decode.arguments;for(var f=1;f<d.length;f+=2){if(f<d.length-1){if(d[f]==e){return d[f+1]}}else{return d[f]}}return null}function select(){var d=select.arguments;for(var e=0;e<d.length;e+=2){if(e<d.length-1){if(booleanValue(d[e])){return d[e+1]}}else{return d[e]}}return null}function isEmpty(d){return d==null||String(d)==""||typeof(d)=="undefined"||(typeof(d)=="number"&&isNaN(d))}function ifEmpty(e,d){return isEmpty(e)?d:e}function ifNull(d,e){return d==null?e:d}function replaceAll(d,f,e){return String(d).split(f).join(e)}function repeat(e,g){var d="";for(var f=0;f<Number(g);f++){d+=e}return d}function ltrim(d,e){d=d?String(d):"";e=e||JST_CHARS_WHITESPACE;var f=0;while(e.indexOf(d.charAt(f))>=0&&(f<=d.length)){f++}return d.substr(f)}function rtrim(d,e){d=d?String(d):"";e=e||JST_CHARS_WHITESPACE;var f=d.length-1;while(e.indexOf(d.charAt(f))>=0&&(f>=0)){f--}return d.substring(0,f+1)}function trim(d,e){e=e||JST_CHARS_WHITESPACE;return ltrim(rtrim(d,e),e)}function lpad(d,e,f){d=String(d);if(e<0){return""}if(isEmpty(f)){f=" "}else{f=String(f).charAt(0)}while(d.length<e){d=f+d}return left(d,e)}function rpad(d,e,f){d=String(d);if(e<=0){return""}f=String(f);if(isEmpty(f)){f=" "}else{f=f.charAt(0)}while(d.length<e){d+=f}return left(d,e)}function crop(d,f,e){d=String(d);if(e==null){e=1}if(e<=0){return""}return left(d,f)+mid(d,f+e)}function lcrop(d,e){if(e==null){e=1}return crop(d,0,e)}function rcrop(d,e){d=String(d);if(e==null){e=1}return crop(d,d.length-e,e)}function capitalize(k,f){k=String(k);f=f||JST_CHARS_WHITESPACE+".?!";var d="";var g="";for(var e=0;e<k.length;e++){var h=k.charAt(e);if(f.indexOf(g)>=0){d+=h.toUpperCase()}else{d+=h.toLowerCase()}g=h}return d}function onlySpecified(e,d){e=String(e);d=String(d);for(var f=0;f<e.length;f++){if(d.indexOf(e.charAt(f))==-1){return false}}return true}function onlyNumbers(d){return onlySpecified(d,JST_CHARS_NUMBERS)}function onlyLetters(d){return onlySpecified(d,JST_CHARS_LETTERS)}function onlyAlpha(d){return onlySpecified(d,JST_CHARS_ALPHA)}function onlyBasicLetters(d){return onlySpecified(d,JST_CHARS_BASIC_LETTERS)}function onlyBasicAlpha(d){return onlySpecified(d,JST_CHARS_BASIC_ALPHA)}function left(d,e){d=String(d);return d.substring(0,e)}function right(d,e){d=String(d);return d.substr(d.length-e)}function mid(d,f,e){d=String(d);if(e==null){e=d.length}return d.substring(f,f+e)}function insertString(d,h,f){d=String(d);var e=left(d,h);var g=mid(d,h);return e+f+g}function functionName(e,g){if(typeof(e)=="function"){var h=e.toString();var k=h.indexOf("function");var d=h.indexOf("(");if((k>=0)&&(d>=0)){k+=8;var f=trim(h.substring(k,d));return isEmpty(f)?(g||"[unnamed]"):f}}if(typeof(e)=="object"){return functionName(e.constructor)}return null}function debug(g,m,l,k,d){if(g==null){return"null"}l=booleanValue(l==null?true:l);k=booleanValue(k==null?true:l);m=m||"\n";d=d||"--------------------";var o=[];for(var p in g){var f=p+" = ";try{f+=g[p]}catch(n){f+="<Error retrieving value>"}o[o.length]=f}if(l){o.sort()}var h="";if(k){try{h=g.toString()+m}catch(n){h="<Error calling the toString() method>"}if(!isEmpty(d)){h+=d+m}}h+=o.join(m);return h}function escapeCharacters(e,h,k){var d=String(e);h=String(h||"");k=booleanValue(k);if(!k){d=replaceAll(d,"\n","\\n");d=replaceAll(d,"\r","\\r");d=replaceAll(d,"\t","\\t");d=replaceAll(d,'"','\\"');d=replaceAll(d,"'","\\'");d=replaceAll(d,"\\","\\\\")}for(var f=0;f<h.length;f++){var g=h.charAt(f);d=replaceAll(d,g,"\\\\u"+lpad(new Number(g.charCodeAt(0)).toString(16),4,"0"))}return d}function unescapeCharacters(g,k){var f=String(g);var h=-1;var e="\\\\u";k=booleanValue(k);do{h=f.indexOf(e);if(h>=0){var d=parseInt(f.substring(h+e.length,h+e.length+4),16);f=replaceAll(f,e+d,String.fromCharCode(d))}}while(h>=0);if(!k){f=replaceAll(f,"\\n","\n");f=replaceAll(f,"\\r","\r");f=replaceAll(f,"\\t","\t");f=replaceAll(f,'\\"','"');f=replaceAll(f,"\\'","'");f=replaceAll(f,"\\\\","\\")}return f}function writeCookie(f,h,d,e,l,g,k){d=d||self.document;var m=f+"="+(isEmpty(h)?"":encodeURIComponent(h));if(l!=null){m+="; path="+l}if(g!=null){m+="; domain="+g}if(k!=null&&booleanValue(k)){m+="; secure"}if(e===false){e=new Date(2500,12,31)}if(e instanceof Date){m+="; expires="+e.toGMTString()}d.cookie=m}function readCookie(f,d){d=d||self.document;var k=f+"=";var g=d.cookie;var h=g.indexOf("; "+k);if(h==-1){h=g.indexOf(k);if(h!=0){return null}}else{h+=2}var e=g.indexOf(";",h);if(e==-1){e=g.length}return decodeURIComponent(g.substring(h+k.length,e))}function deleteCookie(e,d,g,f){writeCookie(e,null,d,g,f)}function getDateField(d,e){if(!isInstance(d,Date)){return null}switch(e){case JST_FIELD_MILLISECOND:return d.getMilliseconds();case JST_FIELD_SECOND:return d.getSeconds();case JST_FIELD_MINUTE:return d.getMinutes();case JST_FIELD_HOUR:return d.getHours();case JST_FIELD_DAY:return d.getDate();case JST_FIELD_MONTH:return d.getMonth();case JST_FIELD_YEAR:return d.getFullYear()}return null}function setDateField(d,f,e){if(!isInstance(d,Date)){return}switch(f){case JST_FIELD_MILLISECOND:d.setMilliseconds(e);break;case JST_FIELD_SECOND:d.setSeconds(e);break;case JST_FIELD_MINUTE:d.setMinutes(e);break;case JST_FIELD_HOUR:d.setHours(e);break;case JST_FIELD_DAY:d.setDate(e);break;case JST_FIELD_MONTH:d.setMonth(e);break;case JST_FIELD_YEAR:d.setFullYear(e);break}}function dateAdd(e,g,n){if(!isInstance(e,Date)){return null}if(g==0){return new Date(e.getTime())}if(!isInstance(g,Number)){g=1}if(n==null){n=JST_FIELD_DAY}if(n<0||n>JST_FIELD_YEAR){return null}var d=e.getTime();if(n<=JST_FIELD_DAY){var f=1;switch(n){case JST_FIELD_SECOND:f=MILLIS_IN_SECOND;break;case JST_FIELD_MINUTE:f=MILLIS_IN_MINUTE;break;case JST_FIELD_HOUR:f=MILLIS_IN_HOUR;break;case JST_FIELD_DAY:f=MILLIS_IN_DAY;break}var d=e.getTime();d+=f*g;return new Date(d)}var k=new Date(d);var m=k.getDate();var h=k.getMonth();var l=k.getFullYear();if(n==JST_FIELD_YEAR){l+=g}else{if(n==JST_FIELD_MONTH){h+=g}}while(h>11){h-=12;l++}m=Math.min(m,getMaxDay(h,l));k.setDate(m);k.setMonth(h);k.setFullYear(l);return k}function dateDiff(h,f,g){if(!isInstance(h,Date)||!isInstance(f,Date)){return null}if(g==null){g=JST_FIELD_DAY}if(g<0||g>JST_FIELD_YEAR){return null}if(g<=JST_FIELD_DAY){var l=1;switch(g){case JST_FIELD_SECOND:l=MILLIS_IN_SECOND;break;case JST_FIELD_MINUTE:l=MILLIS_IN_MINUTE;break;case JST_FIELD_HOUR:l=MILLIS_IN_HOUR;break;case JST_FIELD_DAY:l=MILLIS_IN_DAY;break}return Math.round((f.getTime()-h.getTime())/l)}var e=f.getFullYear()-h.getFullYear();if(g==JST_FIELD_YEAR){return e}else{if(g==JST_FIELD_MONTH){var d=h.getMonth();var k=f.getMonth();if(e<0){d+=Math.abs(e)*12}else{if(e>0){k+=e*12}}return(k-d)}}return null}function truncDate(e,f){if(!isInstance(e,Date)){return null}if(f==null){f=JST_FIELD_DAY}if(f<0||f>JST_FIELD_YEAR){return null}var d=new Date(e.getTime());if(f>JST_FIELD_MILLISECOND){d.setMilliseconds(0)}if(f>JST_FIELD_SECOND){d.setSeconds(0)}if(f>JST_FIELD_MINUTE){d.setMinutes(0)}if(f>JST_FIELD_HOUR){d.setHours(0)}if(f>JST_FIELD_DAY){d.setDate(1)}if(f>JST_FIELD_MONTH){d.setMonth(0)}return d}function getMaxDay(e,d){e=new Number(e)+1;d=new Number(d);switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:if((d%4)==0){return 29}else{return 28}default:return 0}}function getFullYear(d){d=Number(d);if(d<1000){if(d<50||d>100){d+=2000}else{d+=1900}}return d}function setOpacity(d,f){d=getObject(d);if(d==null){return}f=Math.round(Number(f));if(isNaN(f)||f>100){f=100}if(f<0){f=0}var e=d.style;if(e==null){return}e.MozOpacity=f/100;e.filter="alpha(opacity="+f+")"}function getOpacity(e){e=getObject(e);if(e==null){return}var f=e.style;if(f==null){return}if(f.MozOpacity){return Math.round(f.MozOpacity*100)}else{if(f.filter){var d=new RegExp("alpha\\(opacity=(\d*)\\)");var g=d.exec(f.filter);if(g!=null&&g.length>1){return parseInt(g[1],10)}}}return 100}function Pair(d,e){this.key=d==null?"":d;this.value=e;this.toString=function(){return this.key+"="+this.value}}function Value(d,e){this.base=Pair;this.base(d,e)}function Map2(d){this.pairs=d||[];this.afterSet=null;this.afterRemove=null;this.putValue=function(e){this.putPair(e)};this.putPair=function(f){if(isInstance(f,Pair)){for(var e=0;e<this.pairs.length;e++){if(this.pairs[e].key==f.key){this.pairs[e].value=f.value}}this.pairs[this.pairs.length]=f;if(this.afterSet!=null){this.afterSet(f,this)}}};this.put=function(e,f){this.putValue(new Pair(e,f))};this.putAll=function(g){if(!(g instanceof Map)){return}var e=g.getEntries();for(var f=0;f<e.length;f++){this.putPair(e[f])}};this.size=function(){return this.pairs.length};this.get=function(f){for(var e=0;e<this.pairs.length;e++){var g=this.pairs[e];if(g.key==f){return g.value}}return null};this.getKeys=function(){var e=[];for(var f=0;f<this.pairs.length;f++){e[e.length]=this.pairs[f].key}return e};this.getValues=function(){var e=[];for(var f=0;f<this.pairs.length;f++){e[e.length]=this.pairs[f].value}return e};this.getEntries=function(){return this.getPairs()};this.getPairs=function(){var e=[];for(var f=0;f<this.pairs.length;f++){e[e.length]=this.pairs[f]}return e};this.remove=function(f){for(var e=0;e<this.pairs.length;e++){var g=this.pairs[e];if(g.key==f){this.pairs.splice(e,1);if(this.afterRemove!=null){this.afterRemove(g,this)}return g}}return null};this.clear=function(g){var e=this.pairs;for(var f=0;f<e.length;f++){this.remove(e[f].key)}return e};this.toString=function(){return functionName(this.constructor)+": {"+this.pairs+"}"};this.toObject=function(){ret={};for(var e=0;e<this.pairs.length;e++){var f=this.pairs[e];ret[f.key]=f.value}return ret}}function StringMap(k,f,g,h){this.nameSeparator=f||"&";this.valueSeparator=g||"=";this.isEncoded=h==null?true:booleanValue(h);var e=[];k=trim(k);if(!isEmpty(k)){var m=k.split(f);for(i=0;i<m.length;i++){var p=m[i].split(g);var d=trim(p[0]);var o="";if(p.length>0){o=trim(p[1]);if(this.isEncoded){o=decodeURIComponent(o)}}var n=-1;for(j=0;j<e.length;j++){if(e[j].key==d){n=j;break}}if(n>=0){var l=e[n].value;if(!isInstance(l,Array)){l=[l]}l[l.length]=o;e[n].value=l}else{e[e.length]=new Pair(d,o)}}}this.base=Map;this.base(e);this.getString=function(){var q=[];for(var r=0;r<this.pairs.length;r++){var s=this.pairs[r];q[q.length]=s.key+this.valueSeparator+this.value}return q.join(this.nameSeparator)}}function QueryStringMap(d){this.location=d||self.location;var e=String(this.location.search);if(!isEmpty(e)){e=e.substr(1)}this.base=StringMap;this.base(e,"&","=",true);this.putPair=function(){alert("Cannot put a value on a query string")};this.remove=function(){alert("Cannot remove a value from a query string")}}function CookieMap(d){this.document=d||self.document;this.base=StringMap;this.base(d.cookie,";","=",true);this.afterSet=function(e){writeCookie(e.key,e.value,this.document)};this.afterRemove=function(e){deleteCookie(e.key,this.document)}}function ObjectMap(d){this.object=d;var f=[];for(var e in this.object){f[f.length]=new Pair(e,this.object[e])}this.base=Map;this.base(f);this.afterSet=function(g){this.object[g.key]=g.value};this.afterRemove=function(h){try{delete d[h.key]}catch(g){d[h.key]=null}}}function StringBuffer(d){this.initialCapacity=d||10;this.buffer=new Array(this.initialCapacity);this.append=function(e){this.buffer[this.buffer.length]=e;return this};this.clear=function(){delete this.buffer;this.buffer=new Array(this.initialCapacity)};this.toString=function(){return this.buffer.join("")};this.length=function(){return this.toString().length}}var JST_DEFAULT_DECIMAL_DIGITS=-1;var JST_DEFAULT_DECIMAL_SEPARATOR=",";var JST_DEFAULT_GROUP_SEPARATOR=".";var JST_DEFAULT_USE_GROUPING=false;var JST_DEFAULT_CURRENCY_SYMBOL="R$";var JST_DEFAULT_USE_CURRENCY=false;var JST_DEFAULT_NEGATIVE_PARENTHESIS=false;var JST_DEFAULT_GROUP_SIZE=3;var JST_DEFAULT_SPACE_AFTER_CURRENCY=true;var JST_DEFAULT_CURRENCY_INSIDE=false;var JST_DEFAULT_DATE_MASK="dd/MM/yyyy";var JST_DEFAULT_ENFORCE_LENGTH=true;var JST_DEFAULT_TRUE_VALUE="true";var JST_DEFAULT_FALSE_VALUE="false";var JST_DEFAULT_USE_BOOLEAN_VALUE=true;function Parser(){this.parse=function(d){return d};this.format=function(d){return d};this.isValid=function(d){return isEmpty(d)||(this.parse(d)!=null)}}function NumberParser(h,o,f,e,m,l,d,n,g,k){this.base=Parser;this.base();this.decimalDigits=(h==null)?JST_DEFAULT_DECIMAL_DIGITS:h;this.decimalSeparator=(o==null)?JST_DEFAULT_DECIMAL_SEPARATOR:o;this.groupSeparator=(f==null)?JST_DEFAULT_GROUP_SEPARATOR:f;this.useGrouping=(e==null)?JST_DEFAULT_USE_GROUPING:booleanValue(e);this.currencySymbol=(m==null)?JST_DEFAULT_CURRENCY_SYMBOL:m;this.useCurrency=(l==null)?JST_DEFAULT_USE_CURRENCY:booleanValue(l);this.negativeParenthesis=(d==null)?JST_DEFAULT_NEGATIVE_PARENTHESIS:booleanValue(d);this.groupSize=(n==null)?JST_DEFAULT_GROUP_SIZE:n;this.spaceAfterCurrency=(g==null)?JST_DEFAULT_SPACE_AFTER_CURRENCY:booleanValue(g);this.currencyInside=(k==null)?JST_DEFAULT_CURRENCY_INSIDE:booleanValue(k);this.parse=function(r){r=trim(r);if(isEmpty(r)){return null}r=replaceAll(r,this.groupSeparator,"");r=replaceAll(r,this.decimalSeparator,".");r=replaceAll(r,this.currencySymbol,"");var p=(r.indexOf("(")>=0)||(r.indexOf("-")>=0);r=replaceAll(r,"(","");r=replaceAll(r,")","");r=replaceAll(r,"-","");r=trim(r);if(!onlySpecified(r,JST_CHARS_NUMBERS+".")){return null}var q=parseFloat(r);q=p?(q*-1):q;return this.round(q)};this.format=function(s){if(isNaN(s)){s=this.parse(s)}if(isNaN(s)){return null}var r=s<0;s=Math.abs(s);var v="";var t=String(this.round(s)).split(".");var p=t[0];var q=t.length>1?t[1]:"";if((this.useGrouping)&&(!isEmpty(this.groupSeparator))){var w,y="";for(var u=p.length;u>0;u-=this.groupSize){w=p.substring(p.length-this.groupSize);p=p.substring(0,p.length-this.groupSize);y=w+this.groupSeparator+y}p=y.substring(0,y.length-1)}v=p;if(this.decimalDigits!=0){if(this.decimalDigits>0){while(q.length<this.decimalDigits){q+="0"}}if(!isEmpty(q)){v+=this.decimalSeparator+q}}if(r&&!this.currencyInside){if(this.negativeParenthesis){v="("+v+")"}else{v="-"+v}}if(this.useCurrency){v=this.currencySymbol+(this.spaceAfterCurrency?" ":"")+v}if(r&&this.currencyInside){if(this.negativeParenthesis){v="("+v+")"}else{v="-"+v}}return v};this.round=function(p){if(this.decimalDigits<0){return p}else{if(this.decimalDigits==0){return Math.round(p)}}var q=Math.pow(10,this.decimalDigits);return Math.round(p*q)/q}}function DateParser(t,q,m){this.base=Parser;this.base();this.mask=(t==null)?JST_DEFAULT_DATE_MASK:String(t);this.enforceLength=(q==null)?JST_DEFAULT_ENFORCE_LENGTH:booleanValue(q);this.completeFieldsWith=m||null;this.numberParser=new NumberParser(0);this.compiledMask=[];var e=0;var p=1;var d=2;var f=3;var s=4;var l=5;var h=6;var g=7;var o=8;var r=9;var k=10;this.parse=function(E){if(isEmpty(E)){return null}E=trim(String(E)).toUpperCase();var w=E.indexOf("PM")!=-1;E=replaceAll(replaceAll(E,"AM",""),"PM","");var y=[0,0,0,0,0,0,0];var C=["","","","","","",""];var D=[null,null,null,null,null,null,null];for(var A=0;A<this.compiledMask.length;A++){var J=this.compiledMask[A];var I=this.getTypeIndex(J.type);if(I==-1){if(J.type==e){E=E.substr(J.length)}else{}}else{var v=0;if(A==(this.compiledMask.length-1)){v=E;E=""}else{var H=this.compiledMask[A+1];if(H.type==e){var F=E.indexOf(H.literal);if(F==-1){v=E;E=""}else{v=left(E,F);E=E.substr(F)}}else{v=E.substring(0,J.length);E=E.substr(J.length)}}if(!onlyNumbers(v)){return null}C[I]=v;D[I]=J;y[I]=isEmpty(v)?this.minValue(y,J.type):this.numberParser.parse(v)}}if(!isEmpty(E)){return null}if(w&&(y[JST_FIELD_HOUR]<12)){y[JST_FIELD_HOUR]+=12}if(y[JST_FIELD_MONTH]>0){y[JST_FIELD_MONTH]--}if(y[JST_FIELD_YEAR]<100){if(y[JST_FIELD_YEAR]<50){y[JST_FIELD_YEAR]+=2000}else{y[JST_FIELD_YEAR]+=1900}}for(var A=0;A<y.length;A++){var J=D[A];var u=y[A];var v=C[A];if(u<0){return null}else{if(J!=null){if(this.enforceLength&&((J.length>=0)&&(v.length<J.length))){return null}u=parseInt(v,10);if(isNaN(u)&&this.completeFieldsWith!=null){u=y[A]=getDateField(this.completeFieldsWith,A)}if((u<this.minValue(y,J.type))||(u>this.maxValue(y,J.type))){return null}}else{if(A==JST_FIELD_DAY&&u==0){u=y[A]=1}}}}return new Date(y[JST_FIELD_YEAR],y[JST_FIELD_MONTH],y[JST_FIELD_DAY],y[JST_FIELD_HOUR],y[JST_FIELD_MINUTE],y[JST_FIELD_SECOND],y[JST_FIELD_MILLISECOND])};this.format=function(v){if(!(v instanceof Date)){v=this.parse(v)}if(v==null){return""}var u="";var A=[v.getMilliseconds(),v.getSeconds(),v.getMinutes(),v.getHours(),v.getDate(),v.getMonth(),v.getFullYear()];for(var w=0;w<this.compiledMask.length;w++){var y=this.compiledMask[w];switch(y.type){case e:u+=y.literal;break;case k:u+=(A[JST_FIELD_HOUR]<12)?"am":"pm";break;case r:u+=(A[JST_FIELD_HOUR]<12)?"AM":"PM";break;case p:case d:case f:case l:case h:u+=lpad(A[this.getTypeIndex(y.type)],y.length,"0");break;case s:u+=lpad(A[JST_FIELD_HOUR]%12,y.length,"0");break;case g:u+=lpad(A[JST_FIELD_MONTH]+1,y.length,"0");break;case o:u+=lpad(right(A[JST_FIELD_YEAR],y.length),y.length,"0");break}}return u};this.maxValue=function(v,u){switch(u){case p:return 999;case d:return 59;case f:return 59;case s:case l:return 23;case h:return getMaxDay(v[JST_FIELD_MONTH],v[JST_FIELD_YEAR]);case g:return 12;case o:return 9999;default:return 0}};this.minValue=function(v,u){switch(u){case h:case g:case o:return 1;default:return 0}};this.getFieldType=function(u){switch(u.charAt(0)){case"S":return p;case"s":return d;case"m":return f;case"h":return s;case"H":return l;case"d":return h;case"M":return g;case"y":return o;case"a":return k;case"A":return r;default:return e}};this.getTypeIndex=function(u){switch(u){case p:return JST_FIELD_MILLISECOND;case d:return JST_FIELD_SECOND;case f:return JST_FIELD_MINUTE;case s:case l:return JST_FIELD_HOUR;case h:return JST_FIELD_DAY;case g:return JST_FIELD_MONTH;case o:return JST_FIELD_YEAR;default:return -1}};var n=function(v,w,u){this.type=v;this.length=w||-1;this.literal=u};this.compile=function(){var A="";var u="";var v="";this.compiledMask=[];for(var w=0;w<this.mask.length;w++){A=this.mask.charAt(w);if((v=="")||(A==v.charAt(0))){v+=A}else{var y=this.getFieldType(v);this.compiledMask[this.compiledMask.length]=new n(y,v.length,v);v="";w--}}if(v!=""){var y=this.getFieldType(v);this.compiledMask[this.compiledMask.length]=new n(y,v.length,v)}};this.setMask=function(u){this.mask=u;this.compile()};this.setMask(this.mask)}function BooleanParser(d,f,e){this.base=Parser;this.base();this.trueValue=d||JST_DEFAULT_TRUE_VALUE;this.falseValue=f||JST_DEFAULT_FALSE_VALUE;this.useBooleanValue=e||JST_DEFAULT_USE_BOOLEAN_VALUE;this.parse=function(g){if(this.useBooleanValue&&booleanValue(g)){return true}return g==JST_DEFAULT_TRUE_VALUE};this.format=function(g){return booleanValue(g)?this.trueValue:this.falseValue}}function StringParser(){this.base=Parser;this.base();this.parse=function(d){return String(d)};this.format=function(d){return String(d)}}function MapParser(e,d){this.base=Parser;this.base();this.map=isInstance(e,Map)?e:new Map2();this.directParse=booleanValue(d);this.parse=function(h){if(d){return h}var g=this.map.getPairs();for(var f=0;f<g.length;f++){if(h==g[f].value){return g[f].key}}return null};this.format=function(f){return this.map.get(f)}}function EscapeParser(d,e){this.base=Parser;this.base();this.extraChars=d||"";this.onlyExtra=booleanValue(e);this.parse=function(f){if(f==null){return null}return unescapeCharacters(String(f),d,e)};this.format=function(f){if(f==null){return null}return escapeCharacters(String(f),e)}}function CustomParser(d,e){this.base=Parser;this.base();this.formatFunction=d||function(f){return f};this.parseFunction=e||function(f){return f};this.parse=function(f){return e.apply(this,arguments)};this.format=function(f){return d.apply(this,arguments)}}function WrapperParser(d,e,f){this.base=Parser;this.base();this.wrappedParser=d||new CustomParser();this.formatFunction=e||function(g){return g};this.parseFunction=f||function(g){return g};this.format=function(m){var l=this.wrappedParser.format.apply(this.wrappedParser,arguments);var h=[];h[0]=l;h[1]=arguments[0];for(var k=1,g=arguments.length;k<g;k++){h[k+1]=arguments[k]}return e.apply(this,h)};this.parse=function(h){var g=f.apply(this,arguments);arguments[0]=g;return this.wrappedParser.parse.apply(this.wrappedParser,arguments)}}dhtmlx=function(e){for(var d in e){dhtmlx[d]=e[d]}return dhtmlx};dhtmlx.extend_api=function(d,g,f){var e=window[d];if(!e){return}window[d]=function(l){if(l&&typeof l=="object"&&!l.tagName){var k=e.apply(this,(g._init?g._init(l):arguments));for(var h in dhtmlx){if(g[h]){this[g[h]](dhtmlx[h])}}for(var h in l){if(g[h]){this[g[h]](l[h])}else{if(h.indexOf("on")==0){this.attachEvent(h,l[h])}}}}else{var k=e.apply(this,arguments)}if(g._patch){g._patch(this)}return k||this};window[d].prototype=e.prototype;if(f){dhtmlXHeir(window[d].prototype,f)}};dhtmlxAjax={get:function(d,f){var e=new dtmlXMLLoaderObject(true);e.async=(arguments.length<3);e.waitCall=f;e.loadXML(d);return e},post:function(d,f,g){var e=new dtmlXMLLoaderObject(true);e.async=(arguments.length<4);e.waitCall=g;e.loadXML(d,true,f);return e},getSync:function(d){return this.get(d,null,true)},postSync:function(d,e){return this.post(d,e,null,true)}};function dtmlXMLLoaderObject(e,g,f,d){this.xmlDoc="";if(typeof(f)!="undefined"){this.async=f}else{this.async=true}this.onloadAction=e||null;this.mainObject=g||null;this.waitCall=null;this.rSeed=d||false;return this}dtmlXMLLoaderObject.prototype.waitLoadFunction=function(e){var d=true;this.check=function(){if((e)&&(e.onloadAction!=null)){if((!e.xmlDoc.readyState)||(e.xmlDoc.readyState==4)){if(!d){return}d=false;if(typeof e.onloadAction=="function"){e.onloadAction(e.mainObject,null,null,null,e)}if(e.waitCall){e.waitCall.call(this,e);e.waitCall=null}}}};return this.check};dtmlXMLLoaderObject.prototype.getXMLTopNode=function(f,d){if(this.xmlDoc.responseXML){var e=this.xmlDoc.responseXML.getElementsByTagName(f);if(e.length==0&&f.indexOf(":")!=-1){var e=this.xmlDoc.responseXML.getElementsByTagName((f.split(":"))[1])}var h=e[0]}else{var h=this.xmlDoc.documentElement}if(h){this._retry=false;return h}if((_isIE)&&(!this._retry)){var g=this.xmlDoc.responseText;var d=this.xmlDoc;this._retry=true;this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=false;this.xmlDoc.loadXML(g);return this.getXMLTopNode(f,d)}dhtmlxError.throwError("LoadXML","Incorrect XML",[(d||this.xmlDoc),this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(f){try{var g=new DOMParser();this.xmlDoc=g.parseFromString(f,"text/xml")}catch(d){this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=this.async;this.xmlDoc.loadXML(f)}this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall){this.waitCall();this.waitCall=null}};dtmlXMLLoaderObject.prototype.loadXML=function(f,e,d,g){if(this.rSeed){f+=((f.indexOf("?")!=-1)?"&":"?")+"a_dhx_rSeed="+(new Date()).valueOf()}this.filePath=f;if((!_isIE)&&(window.XMLHttpRequest)){this.xmlDoc=new XMLHttpRequest()}else{this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP")}if(this.async){this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)}this.xmlDoc.open(e?"POST":"GET",f,this.async);if(g){this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")");this.xmlDoc.setRequestHeader("Content-type","text/xml")}else{if(e){this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded")}}this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(null||d);if(!this.async){(new this.waitLoadFunction(this))()}};dtmlXMLLoaderObject.prototype.destructor=function(){this._filterXPath=null;this._getAllNamedChilds=null;this._retry=null;this.async=null;this.rSeed=null;this.filePath=null;this.onloadAction=null;this.mainObject=null;this.xmlDoc=null;this.doXPath=null;this.doXPathOpera=null;this.doXSLTransToObject=null;this.doXSLTransToString=null;this.loadXML=null;this.loadXMLString=null;this.doSerialization=null;this.xmlNodeToJSON=null;this.getXMLTopNode=null;this.setXSLParamValue=null;return null};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(g){var f={};for(var e=0;e<g.attributes.length;e++){f[g.attributes[e].name]=g.attributes[e].value}f._tagvalue=g.firstChild?g.firstChild.nodeValue:"";for(var e=0;e<g.childNodes.length;e++){var d=g.childNodes[e].tagName;if(d){if(!f[d]){f[d]=[]}f[d].push(this.xmlNodeToJSON(g.childNodes[e]))}}return f};function callerFunction(d,e){this.handler=function(f){if(!f){f=window.event}d(f,e);return true};return this.handler}function getAbsoluteLeft(d){return getOffset(d).left}function getAbsoluteTop(d){return getOffset(d).top}function getOffsetSum(d){var f=0,e=0;while(d){f=f+parseInt(d.offsetTop);e=e+parseInt(d.offsetLeft);d=d.offsetParent}return{top:f,left:e}}function getOffsetRect(g){var l=g.getBoundingClientRect();var m=document.body;var e=document.documentElement;var d=window.pageYOffset||e.scrollTop||m.scrollTop;var h=window.pageXOffset||e.scrollLeft||m.scrollLeft;var k=e.clientTop||m.clientTop||0;var n=e.clientLeft||m.clientLeft||0;var o=l.top+d-k;var f=l.left+h-n;return{top:Math.round(o),left:Math.round(f)}}function getOffset(d){if(d.getBoundingClientRect){return getOffsetRect(d)}else{return getOffsetSum(d)}}function convertStringToBoolean(d){if(typeof(d)=="string"){d=d.toLowerCase()}switch(d){case"1":case"true":case"yes":case"y":case 1:case true:return true;break;default:return false}}function getUrlSymbol(d){if(d.indexOf("?")!=-1){return"&"}else{return"?"}}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop){return window.dhtmlDragAndDrop}this.lastLanding=0;this.dragNode=0;this.dragStartNode=0;this.dragStartObject=0;this.tempDOMU=null;this.tempDOMM=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}dhtmlDragAndDropObject.prototype.removeDraggableItem=function(d){d.onmousedown=null;d.dragStarter=null;d.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(d,e){d.onmousedown=this.preCreateDragCopy;d.dragStarter=e;this.addDragLanding(d,e)};dhtmlDragAndDropObject.prototype.addDragLanding=function(d,e){d.dragLanding=e};dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(d){if((d||window.event)&&(d||event).button==2){return}if(window.dhtmlDragAndDrop.waitDrag){window.dhtmlDragAndDrop.waitDrag=0;document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU;document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM;return false}window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=new Date().valueOf();if((d)&&(d.preventDefault)){d.preventDefault();return false}return false};dhtmlDragAndDropObject.prototype.callDrag=function(g){if(!g){g=window.event}dragger=window.dhtmlDragAndDrop;if((new Date()).valueOf()-dragger.downtime<100){return}if((g.button==0)&&(_isIE)){return dragger.stopDrag()}if(!dragger.dragNode&&dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,g);if(!dragger.dragNode){return dragger.stopDrag()}dragger.dragNode.onselectstart=function(){return false};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body){var d=dragger.gldragNode;if(dragger.gldragNode.old){d=dragger.gldragNode.old}d.parentNode.removeChild(d);var f=dragger.dragNode.pWindow;if(d.pWindow&&d.pWindow.dhtmlDragAndDrop.lastLanding){d.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(d.pWindow.dhtmlDragAndDrop.lastLanding)}if(_isIE){var k=document.createElement("Div");k.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=k.childNodes[0]}else{dragger.dragNode=dragger.dragNode.cloneNode(true)}dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);f.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=g.clientX+15+(dragger.fx?dragger.fx*(-1):0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=g.clientY+3+(dragger.fy?dragger.fy*(-1):0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";if(!g.srcElement){var h=g.target}else{h=g.srcElement}dragger.checkLanding(h,g)};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(h){if(window.name){var f=parent.frames[window.name].frameElement.offsetParent;var g=0;var e=0;while(f){g+=f.offsetLeft;e+=f.offsetTop;f=f.offsetParent}if((parent.dhtmlDragAndDrop)){var d=parent.dhtmlDragAndDrop.calculateFramePosition(1);g+=d.split("_")[0]*1;e+=d.split("_")[1]*1}if(h){return g+"_"+e}else{this.fx=g}this.fy=e}return"0_0"};dhtmlDragAndDropObject.prototype.checkLanding=function(f,d){if((f)&&(f.dragLanding)){if(this.lastLanding){this.lastLanding.dragLanding._dragOut(this.lastLanding)}this.lastLanding=f;this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,d.clientX,d.clientY,d);this.lastLanding_scr=(_isIE?d.srcElement:d.target)}else{if((f)&&(f.tagName!="BODY")){this.checkLanding(f.parentNode,d)}else{if(this.lastLanding){this.lastLanding.dragLanding._dragOut(this.lastLanding,d.clientX,d.clientY,d)}this.lastLanding=0;if(this._onNotFound){this._onNotFound()}}}};dhtmlDragAndDropObject.prototype.stopDrag=function(f,g){dragger=window.dhtmlDragAndDrop;if(!g){dragger.stopFrameRoute();var d=dragger.lastLanding;dragger.lastLanding=null;if(d){d.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,d,(_isIE?event.srcElement:f.target))}}dragger.lastLanding=null;if((dragger.dragNode)&&(dragger.dragNode.parentNode==document.body)){dragger.dragNode.parentNode.removeChild(dragger.dragNode)}dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(g){if(g){window.dhtmlDragAndDrop.stopDrag(1,1)}for(var d=0;d<window.frames.length;d++){try{if((window.frames[d]!=g)&&(window.frames[d].dhtmlDragAndDrop)){window.frames[d].dhtmlDragAndDrop.stopFrameRoute(window)}}catch(f){}}try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=g)){parent.dhtmlDragAndDrop.stopFrameRoute(window)}}catch(f){}};dhtmlDragAndDropObject.prototype.initFrameRoute=function(g,h){if(g){window.dhtmlDragAndDrop.preCreateDragCopy();window.dhtmlDragAndDrop.dragStartNode=g.dhtmlDragAndDrop.dragStartNode;window.dhtmlDragAndDrop.dragStartObject=g.dhtmlDragAndDrop.dragStartObject;window.dhtmlDragAndDrop.dragNode=g.dhtmlDragAndDrop.dragNode;window.dhtmlDragAndDrop.gldragNode=g.dhtmlDragAndDrop.dragNode;window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag;window.waitDrag=0;if(((!_isIE)&&(h))&&((!_isFF)||(_FFrv<1.8))){window.dhtmlDragAndDrop.calculateFramePosition()}}try{if((parent.dhtmlDragAndDrop)&&(parent!=window)&&(parent!=g)){parent.dhtmlDragAndDrop.initFrameRoute(window)}}catch(f){}for(var d=0;d<window.frames.length;d++){try{if((window.frames[d]!=g)&&(window.frames[d].dhtmlDragAndDrop)){window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,((!g||h)?1:0))}}catch(f){}}};var _isFF=false;var _isIE=false;var _isOpera=false;var _isKHTML=false;var _isMacOS=false;var _isChrome=false;if(navigator.userAgent.indexOf("Macintosh")!=-1){_isMacOS=true}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){_isChrome=true}if((navigator.userAgent.indexOf("Safari")!=-1)||(navigator.userAgent.indexOf("Konqueror")!=-1)){var _KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5));if(_KHTMLrv>525){_isFF=true;var _FFrv=1.9}else{_isKHTML=true}}else{if(navigator.userAgent.indexOf("Opera")!=-1){_isOpera=true;_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))}else{if(navigator.appName.indexOf("Microsoft")!=-1){_isIE=true;if(navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat"){_isIE=8}}else{_isFF=true;var _FFrv=parseFloat(navigator.userAgent.split("rv:")[1])}}}dtmlXMLLoaderObject.prototype.doXPath=function(f,h,g,n){if(_isKHTML||(!_isIE&&!window.XPathResult)){return this.doXPathOpera(f,h)}if(_isIE){if(!h){if(!this.xmlDoc.nodeName){h=this.xmlDoc.responseXML}else{h=this.xmlDoc}}if(!h){dhtmlxError.throwError("LoadXML","Incorrect XML",[(h||this.xmlDoc),this.mainObject])}if(g!=null){h.setProperty("SelectionNamespaces","xmlns:xsl='"+g+"'")}if(n=="single"){return h.selectSingleNode(f)}else{return h.selectNodes(f)||new Array(0)}}else{var d=h;if(!h){if(!this.xmlDoc.nodeName){h=this.xmlDoc.responseXML}else{h=this.xmlDoc}}if(!h){dhtmlxError.throwError("LoadXML","Incorrect XML",[(h||this.xmlDoc),this.mainObject])}if(h.nodeName.indexOf("document")!=-1){d=h}else{d=h;h=h.ownerDocument}var l=XPathResult.ANY_TYPE;if(n=="single"){l=XPathResult.FIRST_ORDERED_NODE_TYPE}var k=new Array();var e=h.evaluate(f,d,function(o){return g},l,null);if(l==XPathResult.FIRST_ORDERED_NODE_TYPE){return e.singleNodeValue}var m=e.iterateNext();while(m){k[k.length]=m;m=e.iterateNext()}return k}};function _dhtmlxError(e,d,f){if(!this.catches){this.catches=new Array()}return this}_dhtmlxError.prototype.catchError=function(e,d){this.catches[e]=d};_dhtmlxError.prototype.throwError=function(e,d,f){if(this.catches[e]){return this.catches[e](e,d,f)}if(this.catches.ALL){return this.catches.ALL(e,d,f)}alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]);return null};window.dhtmlxError=new _dhtmlxError();dtmlXMLLoaderObject.prototype.doXPathOpera=function(f,d){var h=f.replace(/[\/]+/gi,"/").split("/");var g=null;var e=1;if(!h.length){return[]}if(h[0]=="."){g=[d]}else{if(h[0]==""){g=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(h[e].replace(/\[[^\]]*\]/g,""));e++}else{return[]}}for(e;e<h.length;e++){g=this._getAllNamedChilds(g,h[e])}if(h[e-1].indexOf("[")!=-1){g=this._filterXPath(g,h[e-1])}return g};dtmlXMLLoaderObject.prototype._filterXPath=function(e,d){var g=new Array();var d=d.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,"");for(var f=0;f<e.length;f++){if(e[f].getAttribute(d)){g[g.length]=e[f]}}return g};dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(e,d){var h=new Array();if(_isKHTML){d=d.toUpperCase()}for(var g=0;g<e.length;g++){for(var f=0;f<e[g].childNodes.length;f++){if(_isKHTML){if(e[g].childNodes[f].tagName&&e[g].childNodes[f].tagName.toUpperCase()==d){h[h.length]=e[g].childNodes[f]}}else{if(e[g].childNodes[f].tagName==d){h[h.length]=e[g].childNodes[f]}}}}return h};function dhtmlXHeir(e,d){for(var f in d){if(typeof(d[f])=="function"){e[f]=d[f]}}return e}function dhtmlxEvent(e,f,d){if(e.addEventListener){e.addEventListener(f,d,false)}else{if(e.attachEvent){e.attachEvent("on"+f,d)}}}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(e,f,g){if(!g){g=this.xslDoc}if(g.responseXML){g=g.responseXML}var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+e+"']",g,"http://www.w3.org/1999/XSL/Transform","single");if(d!=null){d.firstChild.nodeValue=f}};dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(h,f){if(!h){h=this.xslDoc}if(h.responseXML){h=h.responseXML}if(!f){f=this.xmlDoc}if(f.responseXML){f=f.responseXML}if(!_isIE){if(!this.XSLProcessor){this.XSLProcessor=new XSLTProcessor();this.XSLProcessor.importStylesheet(h)}var d=this.XSLProcessor.transformToDocument(f)}else{var d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{f.transformNodeToObject(h,d)}catch(g){d=f.transformNode(h)}}return d};dtmlXMLLoaderObject.prototype.doXSLTransToString=function(f,e){var d=this.doXSLTransToObject(f,e);if(typeof(d)=="string"){return d}return this.doSerialization(d)};dtmlXMLLoaderObject.prototype.doSerialization=function(e){if(!e){e=this.xmlDoc}if(e.responseXML){e=e.responseXML}if(!_isIE){var d=new XMLSerializer();return d.serializeToString(e)}else{return e.xml}};dhtmlxEventable=function(obj){obj.attachEvent=function(name,catcher,callObj){name="ev_"+name.toLowerCase();if(!this[name]){this[name]=new this.eventCatcher(callObj||this)}return(name+":"+this[name].addEvent(catcher))};obj.callEvent=function(name,arg0){name="ev_"+name.toLowerCase();if(this[name]){return this[name].apply(this,arg0)}return true};obj.checkEvent=function(name){return(!!this["ev_"+name.toLowerCase()])};obj.eventCatcher=function(obj){var dhx_catch=[];var z=function(){var res=true;for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]!=null){var zr=dhx_catch[i].apply(obj,arguments);res=res&&zr}}return res};z.addEvent=function(ev){if(typeof(ev)!="function"){ev=eval(ev)}if(ev){return dhx_catch.push(ev)-1}return false};z.removeEvent=function(id){dhx_catch[id]=null};return z};obj.detachEvent=function(id){if(id!=false){var list=id.split(":");this[list[0]].removeEvent(list[1])}};obj.detachAllEvents=function(){for(var name in this){if(name.indexOf("ev_")==0){delete this[name]}}}};function dhtmlXTabBar(e,f,d){this._isIE7s=((_isIE)&&window.XMLHttpRequest&&(document.compatMode!="BackCompat"));f=f||"top";this._mode=f+"/";this._eczF=true;if(_isIE){this.preventIECashing(true)}if(typeof(e)!="object"){this.entBox=document.getElementById(e)}else{this.entBox=e}this.width=this.entBox.getAttribute("width")||this.entBox.style.width||(window.getComputedStyle?window.getComputedStyle(this.entBox,null)["width"]:(this.entBox.currentStyle?this.entBox.currentStyle.width:0));this.height=this.entBox.getAttribute("height")||this.entBox.style.height||(window.getComputedStyle?window.getComputedStyle(this.entBox,null)["height"]:(this.entBox.currentStyle?this.entBox.currentStyle.height:0));if(((this.width||"").indexOf("%")!=-1)||((this.width||"").indexOf("%")!=-1)){this.enableAutoReSize(true,true)}if((!this.width)||(this.width=="auto")||(this.width.indexOf("%")!=-1)||(parseInt(this.width)==0)){this.width=this.entBox.offsetWidth+"px"}if((!this.height)||(this.height.indexOf("%")!=-1)||(this.height=="auto")){this.height=this.entBox.offsetHeight+"px"}this.activeTab=null;this.tabsId=new Object();this._align="left";this._offset=5;this._margin=1;this._height=parseInt(d||20);this._bMode=(f=="right"||f=="bottom");this._tabSize="150";this._content=new Array();this._tbst="win_text";this._styles={winDflt:["p_left.gif","p_middle.gif","p_right.gif","a_left.gif","a_middle.gif","a_right.gif","a_middle.gif",3,3,6,"#F4F3EE","#FFFFFF",false],winScarf:["with_bg/p_left.gif","with_bg/p_middle.gif","with_bg/p_right_skos.gif","with_bg/a_left.gif","with_bg/a_middle.gif","with_bg/a_right_skos.gif","with_bg/p_middle_over.gif",3,18,6,false,false,false],winBiScarf:["with_bg/p_left_skos.gif","with_bg/p_middle.gif","with_bg/p_right_skos.gif","with_bg/a_left_skos.gif","with_bg/a_middle.gif","with_bg/a_right_skos.gif","with_bg/p_middle_over.gif",18,18,6,false,false,false],winRound:["circuses/p_left.gif","circuses/p_middle.gif","circuses/p_right.gif","circuses/a_left.gif","circuses/a_middle.gif","circuses/a_right.gif","circuses/p_middle_over.gif",10,10,6,false,false,false],silver:["silver/p_left.gif","silver/p_middle.gif","silver/p_right.gif","silver/a_left.gif","silver/a_middle.gif","silver/a_right.gif","silver/p_middle.gif",7,8,6,"#F4F3EE","#FFFFFF","white"],modern:["modern/p_left.gif","modern/p_middle.gif","modern/p_right.gif","modern/a_left.gif","modern/a_middle.gif","modern/a_right.gif","modern/p_middle_over.gif",5,5,6,false,false,"white"]};this._createSelf(f=="right"||f=="left");this.setStyle("winDflt");this._TabCloseButton=false;this._TabCloseButtonSrc="close.png";this._enableAutoRowAdd=false;return this}dhtmlXTabBar.prototype.setOffset=function(d){this._offset=d};dhtmlXTabBar.prototype.setAlign=function(d){if(d=="top"){d="left"}if(d=="bottom"){d="right"}this._align=d};dhtmlXTabBar.prototype.setMargin=function(d){this._margin=d};dhtmlXTabBar.prototype._createSelf=function(d){this._tabAll=document.createElement("DIV");this._tabZone=document.createElement("DIV");this._conZone=document.createElement("DIV");this.entBox.appendChild(this._tabAll);if(this._bMode){this._tabAll.appendChild(this._conZone);this._tabAll.appendChild(this._tabZone)}else{this._tabAll.appendChild(this._tabZone);this._tabAll.appendChild(this._conZone)}this._vMode=d;if(d){this._tabAll.className="dhx_tabbar_zoneV";this._setSizes=this._setSizesV;this._redrawRow=this._redrawRowV}else{this._tabAll.className="dhx_tabbar_zone"}if(this._bMode){this._tabAll.className+="B"}this._tabZone.className="dhx_tablist_zone";this._conZone.className="dhx_tabcontent_zone";this._tabZone.onselectstart=function(){return false};this._tabAll.onclick=this._onClickHandler;this._tabAll.onmouseover=this._onMouseOverHandler;if(_isFF){this._tabZone.onmouseout=this._onMouseOutHandler}else{this._tabZone.onmouseleave=this._onMouseOutHandler}this._tabAll.tabbar=this;this._lineA=document.createElement("div");this._lineA.className="dhx_tablist_line";this._lineA.style[d?"left":"top"]=(this._bMode?0:(this._height+2))+"px";this._lineA.style[d?"height":"width"]=parseInt(this[d?"height":"width"])+((_isIE&&document.compatMode!="BackCompat")?2:0)+"px";if(d){this._conZone.style.height=parseInt(this.height)+"px"}else{this._conZone.style.width=parseInt(this.width)-(_isFF?2:0)+"px"}this.rows=new Array();this.rowscount=1;this._createRow();this._setSizes()};dhtmlXTabBar.prototype._createRow=function(){var d=document.createElement("DIV");d.className="dhx_tabbar_row";this._tabZone.appendChild(d);d._rowScroller=document.createElement("DIV");d._rowScroller.style.display="none";d.appendChild(d._rowScroller);this.rows[this.rows.length]=d;if(this._vMode){d.style.width=this._height+3+"px";d.style.height=parseInt(this.height)+"px";if(!this._bMode){this.setRowSizesA()}else{this.setRowSizesB()}}else{d.style.height=parseInt(this._height)+3+"px";d.style.width=parseInt(this.width)+((_isIE&&document.compatMode!="BackCompat")?2:0)+"px"}d.appendChild(this._lineA)};dhtmlXTabBar.prototype._removeRow=function(f){f.parentNode.removeChild(f);var e=new Array();for(var d=0;d<this.rows.length;d++){if(this.rows[d]!=f){e[e.length]=this.rows[d]}}this.rows=e};dhtmlXTabBar.prototype._checkSizes=function(f){var e=parseInt(this._offset);for(var d=0;d<f.tabCount;d++){if(f.childNodes[d].style.display=="none"){continue}e+=f.childNodes[d]._offsetSize+this._margin*1}return(f.offsetWidth<(e-this._margin*1))};dhtmlXTabBar.prototype._setSizes=function(){this._tabAll.height=this.height;this._tabAll.width=this.width;if(this._tabZone.childNodes.length){var e=this._tabZone.lastChild.offsetTop-this._tabZone.firstChild.offsetTop+this._height}else{var e=this._height+(_isIE?5:0)}var d=e-2;this._tabZone.style.height=(d>0?d:0)+"px";d=parseInt(this.height)-e-4;this._conZone.style.height=(d>0?d:0)+"px"};dhtmlXTabBar.prototype._setSizesV=function(){this._tabAll.height=this.height;this._tabAll.width=this.width;var d=this._height*this.rows.length;if(!this._bMode){this._tabZone.style.width=d+3+"px";this._conZone.style.width=parseInt(this.width)-(d+(_isFF?5:3))+"px";this._conZone.style.left=d+3+"px"}else{this._tabZone.style.width=d+3+"px";this._conZone.style.width=parseInt(this.width)-(d+3)+"px";this._tabZone.style.left=parseInt(this.width)-(d+3)+"px"}this._conZone.style.height=parseInt(this.height)-(_isFF?2:0)+"px";this._tabZone.style.height=parseInt(this.height)+"px"};dhtmlXTabBar.prototype._redrawRowV=function(g){var f=this._align=="left"?"top":"bottom";var e=parseInt(this._offset);for(var d=0;d<g.tabCount;d++){if(g.childNodes[d].style.display=="none"){continue}g.childNodes[d]._cInd=d;g.childNodes[d].style[f]=e+"px";e+=g.childNodes[d]._offsetSize+parseInt(this._margin)}if((g.offsetHeight<e-parseInt(this._margin))||(parseInt(g.childNodes[0].style[this._align=="left"?"top":"bottom"])<0)){this._showRowScroller(g)}else{this._hideRowScroller(g)}};dhtmlXTabBar.prototype._setTabTop=function(f){if(!this._vMode){if(f.parentNode!=this.rows[0]){this._tabZone.insertBefore(f.parentNode,this.rows[0])}}var d=new Array();d[d.length]=f.parentNode;for(var e=0;e<this.rows.length;e++){if(this.rows[e]!=f.parentNode){d[d.length]=this.rows[e]}}this.rows=d;if(this._vMode){this.setRowSizesB()}else{this.setRowSizesC()}this._lineA.parentNode.removeChild(this._lineA);this.rows[0].appendChild(this._lineA)};dhtmlXTabBar.prototype.setRowSizesA=function(){for(var d=0;d<this.rows.length;d++){this.rows[d].style.left=d*this._height+"px";this.rows[d].style.zIndex=5+d}};dhtmlXTabBar.prototype.setRowSizesB=function(){for(var d=this.rows.length-1;d>=0;d--){this.rows[d].style.left=d*this._height+"px";this.rows[d].style.zIndex=15-d}};dhtmlXTabBar.prototype.setRowSizesC=function(){for(var d=this.rows.length-1;d>=0;d--){this.rows[d].style.zIndex=15-d}};dhtmlXTabBar.prototype._initScroller=function(e){var d=e._rowScroller;if(this._vMode){d.innerHTML="<img src='"+this._imgPath+"scrl_t.gif' style='display:block;'><img src='"+this._imgPath+"scrl_b.gif'>"}else{d.innerHTML="<img src='"+this._imgPath+"scrl_l.gif'><img src='"+this._imgPath+"scrl_r.gif'>"}if(this._align=="left"){d.childNodes[1].onclick=this._scrollRight;d.childNodes[0].onclick=this._scrollLeft}else{d.childNodes[1].onclick=this._scrollLeft;d.childNodes[0].onclick=this._scrollRight}d.className="dhx_tablist_scroll";d._init=1};dhtmlXTabBar.prototype._scrollLeft=function(){var e=this.parentNode.parentNode.parentNode.parentNode.tabbar;var f=this.parentNode.parentNode;if(!f.scrollIndex){f.scrollIndex=0}f.scrollIndex--;if(f.scrollIndex<0){f.scrollIndex=0;return}var d=f.childNodes[f.scrollIndex]._offsetSize+e._margin*1;e._offset+=d;e._redrawRow(f);return d};dhtmlXTabBar.prototype._scrollTo=function(d){var e=this;var g=d.parentNode;if(!g._rowScroller._init){this._initScroller(g)}if(this._vMode){var f=parseInt(d.style[e._align=="left"?"top":"bottom"])+d._offsetSize-parseInt(e.height)}else{var f=parseInt(d.style[e._align])+d._offsetSize-parseInt(e.width)}while(f>0){if(e._align=="left"){f-=g._rowScroller.childNodes[1].onclick()}else{f-=g._rowScroller.childNodes[0].onclick()}}if(this._vMode){var f=parseInt(d.style[e._align=="left"?"top":"bottom"])-d._offsetSize}else{var f=parseInt(d.style[e._align])-d._offsetSize}while(f<0){if(e._align=="left"){f+=g._rowScroller.childNodes[0].onclick()}else{f+=g._rowScroller.childNodes[1].onclick()}}};dhtmlXTabBar.prototype._scrollRight=function(){var e=this.parentNode.parentNode.parentNode.parentNode.tabbar;var f=this.parentNode.parentNode;if(f.tabCount-f.scrollIndex<2){return}if(!f.scrollIndex){f.scrollIndex=0}var d=f.childNodes[f.scrollIndex]._offsetSize+e._margin*1;e._offset-=d;e._redrawRow(f);f.scrollIndex++;return d};dhtmlXTabBar.prototype._hideRowScroller=function(d){d._rowScroller.style.display="none"};dhtmlXTabBar.prototype.enableScroll=function(e){this._edscr=(!convertStringToBoolean(e));if(this._edscr){for(var d=0;d<this.rows.length;d++){this._hideRowScroller(this.rows[d])}}};dhtmlXTabBar.prototype._showRowScroller=function(d){if(this._edscr){return}if(!d._rowScroller._init){this._initScroller(d)}d._rowScroller.style.display="block";if(this._vMode){if(this._align=="left"){d._rowScroller.style.top=d.scrollTop-38+parseInt(this.height)+"px"}else{d._rowScroller.style.top=d.scrollTop+4+"px"}this._lineA.style.top=d.scrollLeft+"px"}else{if(this._align=="left"){d._rowScroller.style.left=d.scrollLeft-38+parseInt(this.width)+"px"}else{d._rowScroller.style.left=d.scrollLeft+4+"px"}this._lineA.style.left=d.scrollLeft+"px"}};dhtmlXTabBar.prototype._onMouseOverHandler=function(f){if(_isIE){var d=event.srcElement}else{var d=f.target}d=this.tabbar._getTabTarget(d);if(!d){this.tabbar._hideHover(d);return}this.tabbar._showHover(d);(f||event).cancelBubble=true};dhtmlXTabBar.prototype._onMouseOutHandler=function(d){this.parentNode.tabbar._hideHover(null);return};dhtmlXTabBar.prototype._onClickHandler=function(g){if(_isIE){var f=event.srcElement}else{var f=g.target}if(document.body.onclick){document.body.onclick(g)}if(_isIE){document.body.fireEvent("onclick",event)}else{var d=document.createEvent("MouseEvents");d.initEvent("click",true,true);document.body.dispatchEvent(d)}(g||event).cancelBubble=true;f=this.tabbar._getTabTarget(f);if(!f){return}this.tabbar._setTabActive(f);return false};dhtmlXTabBar.prototype._getTabTarget=function(d){if(!d){return null}while((!d.className)||(d.className.indexOf("dhx_tab_element")==-1)){if((d.className)&&(d.className.indexOf("dhx_tabbar_zone")!=-1)){return null}d=d.parentNode;if(!d){return null}}return d};dhtmlXTabBar.prototype._redrawRow=function(f){var e=parseInt(this._offset);for(var d=0;d<f.tabCount;d++){if(f.childNodes[d].style.display=="none"){continue}f.childNodes[d]._cInd=d;f.childNodes[d].style[this._align]=e+"px";e+=f.childNodes[d]._offsetSize+parseInt(this._margin)}if((f.offsetWidth<e-parseInt(this._margin))||(parseInt(f.childNodes[0].style[this._align])<0)){this._showRowScroller(f)}else{this._hideRowScroller(f)}};dhtmlXTabBar.prototype.removeTab=function(d,f){var d=this.tabsId[d];if(!d){return}if(this._content[d.idd]){this._content[d.idd].parentNode.removeChild(this._content[d.idd]);this._content[d.idd]=null}this._goToAny(d,f);var e=d.parentNode;e.removeChild(d);e.tabCount--;if((e.tabCount==0)&&(this.rows.length>1)){this._removeRow(e)}delete this.tabsId[d.idd];this._redrawRow(e);this._setSizes()};dhtmlXTabBar.prototype._goToAny=function(d,e){if((this._lastActive)==d){if(convertStringToBoolean(e)){if(null===this.goToPrevTab()){if(null===this.goToNextTab()){this._lastActive=null}}}else{this._lastActive=null}}};dhtmlXTabBar.prototype.addTab=function(d,l,q,h,p){p=p||0;if(this.rows.length<=p){for(var g=this.rows.length;g<=p;g++){this._createRow()}}var k=this.rows[p].tabCount||0;if((!h)&&(h!==0)){h=k}var m=this._getTabStyle(d);var e=this._createTab(l,q,this._TabCloseButton,m);e.idd=d;this.tabsId[d]=e;var o=e.childNodes[2].getElementsByTagName("img")[0];if(this._TabCloseButton&&o){var n=this;o.onclick=function(){if((!n.dhx_tab_close)||(n.dhx_tab_close(d))){n.removeTab(d,true)}}}this.rows[p].insertBefore(e,this.rows[p].childNodes[h]);var f=this.rows[p].tabCount;this.rows[p].tabCount=k+1;if(q=="*"){this.adjustTabSize(e)}if(this._enableAutoRowAdd&&this._checkSizes(this.rows[p])){this.rows[p].tabCount=f;delete this.tabsId[d];this.rows[p].removeChild(e);p++;h=this.rows[p]?this.rows[p].tabCount:0;this.addTab(d,l,q,h,p);return}this._redrawRow(this.rows[p]);this._setSizes()};dhtmlXTabBar.prototype.enableAutoRow=function(d){this._enableAutoRowAdd=convertStringToBoolean(d)};dhtmlXTabBar.prototype.normalize=function(e,h){e=e||this._tabZone.offsetWidth;var k=[];for(var f=0;f<this.rows.length;f++){for(var g=0;g<this.rows[f].tabCount;g++){k[k.length]=this.rows[f].removeChild(this.rows[f].childNodes[0])}}this._tabZone.innerHTML="";this.rows=[];this._createRow();var l=0;var n=this._offset*1;var m=[];this.rows[l].tabCount=0;for(var g=0;g<k.length;g++){if((n+k[g]._offsetSize+this._margin*1)<e){this.rows[l].insertBefore(k[g],this.rows[l].childNodes[this.rows[l].tabCount]);this.rows[l].tabCount++;n+=k[g]._offsetSize+this._margin*1}else{m[l]=n;this._createRow();g--;l++;n=this._offset*1;this.rows[l].tabCount=0;continue}}m[l]=n;if(h){for(var g=1;g<this.rows.length;g++){if(m[g]<m[0]){var d=this.rows[g].childNodes[this.rows[g].tabCount-1];var n=d._offsetSize+(m[0]-m[g]);this.adjustTabSize(d,n)}}}for(var g=0;g<this.rows.length;g++){this._redrawRow(this.rows[g])}this._setSizes()};dhtmlXTabBar.prototype._showHover=function(e){if(e._disabled){return}this._hideHover(e);if(e==this._lastActive){return}var d=this._getTabStyle(e.idd);switch(this._tbst){case"win_text":e._lChild.style.backgroundImage="url("+this._imgPath+this._mode+d[6]+")";break}this._lastHower=e};dhtmlXTabBar.prototype._getTabStyle=function(e){var d=this._styles[this._cstyle];if(d["id_"+e]){d=d["id_"+e]}return d};dhtmlXTabBar.prototype.setCustomStyle=function(h,d,g,f){var e=this._styles[this._cstyle];if(e["id_"+h]){e=e["id_"+h]}else{e=(e["id_"+h]=([]).concat(e))}e[10]=d;e[11]=g;e[13]=f};dhtmlXTabBar.prototype._hideHover=function(e){if((!this._lastHower)||(this._lastHower==e)||(this._lastHower==this._lastActive)){return}var d=this._getTabStyle(this._lastHower.idd);switch(this._tbst){case"win_text":this._lastHower._lChild.style.backgroundImage="url("+this._imgPath+this._mode+d[1]+")";break}this._lastHower=null};dhtmlXTabBar.prototype._getTabById=function(d){return this.tabsId[d]};dhtmlXTabBar.prototype.setTabActive=function(d,f){var e=this._getTabById(d);if(e){this._setTabActive(e,(f===false))}};dhtmlXTabBar.prototype._setTabActive=function(e,f){if(e==this._lastActive){return false}var d=this._styles[this._cstyle];if(d["id_"+e.idd]){d=d["id_"+e.idd]}if((e._disabled)||(e.style.display=="none")){return false}if(((!f)&&this._onsel)&&(!this._onsel(e.idd,this._lastActive?this._lastActive.idd:null))){return false}e.className=e.className.replace(/dhx_tab_element_inactive/g,"dhx_tab_element_active");if(d[11]){e.style.backgroundColor=d[11]}this._setContent(e);this._deactivateTab();if(this._vMode){switch(this._tbst){case"win_text":e._lChild.style.backgroundImage="url("+this._imgPath+this._mode+d[4]+")";e.childNodes[0].childNodes[0].src=this._imgPath+this._mode+d[3];e.childNodes[1].childNodes[0].src=this._imgPath+this._mode+d[5];e.style.height=parseInt(e.style.height)+d[9]+"px";e._lChild.style.height=parseInt(e._lChild.style.height)+d[9]+"px";e.style[this._align=="right"?"marginBottom":"marginTop"]="-3px";e.style.width=this._height+3+"px";if(this._bMode){e._lChild.style.width=this._height+3+"px"}this._conZone.scrollLeft=e._scrollState||0;break}}else{switch(this._tbst){case"win_text":e._lChild.style.backgroundImage="url("+this._imgPath+this._mode+d[4]+")";e.childNodes[0].childNodes[0].src=this._imgPath+this._mode+d[3];e.childNodes[1].childNodes[0].src=this._imgPath+this._mode+d[5];e.style.width=parseInt(e.style.width)+d[9]+"px";e._lChild.style.width=parseInt(e._lChild.style.width)+d[9]+"px";e.style[this._align=="left"?"marginLeft":"marginRight"]="-3px";e.style.height=this._height+3+"px";if(this._bMode){e._lChild.style.height=this._height+3+"px"}this._conZone.scrollTop=e._scrollState||0;break}}if(this._bMode){this._setTabTop(e)}else{this._setTabBottom(e)}this._scrollTo(e);this._lastActive=e;return true};dhtmlXTabBar.prototype._setTabBottom=function(f){if(!this._vMode){if(f.parentNode!=this.rows[this.rows.length-1]){this._tabZone.appendChild(f.parentNode)}}var d=new Array();for(var e=0;e<this.rows.length;e++){if(this.rows[e]!=f.parentNode){d[d.length]=this.rows[e]}}d[d.length]=f.parentNode;this.rows=d;if(this._vMode){this.setRowSizesA()}if(this._lineA.parentNode!=this.rows[this.rows.length-1]){this._lineA.parentNode.removeChild(this._lineA);this.rows[this.rows.length-1].appendChild(this._lineA)}};dhtmlXTabBar.prototype._createTab=function(k,f,d,e){var h=document.createElement("DIV");h.className="dhx_tab_element dhx_tab_element_inactive";var g="";if(f=="*"){f="10";h.style.whiteSpace="nowrap"}switch(this._tbst){case"text":g=k;break;case"win_text":if(this._vMode){g='<div style="position:absolute; '+(this._bMode?"right":"left")+":0px; top:0px; height:"+e[7]+"px; width:"+(this._height+3)+'px;"><img src="'+this._imgPath+this._mode+e[0]+(((_isFF||this._isIE7s||_isOpera))?'" style="position:absolute; '+(this._bMode?"right":"left")+':1px;"':'"')+"></div>";g+='<div style="position:absolute; '+(this._bMode?"right":"left")+":0px; bottom:0px; height:"+e[8]+"px; width:"+(this._height+3)+'px;"><img src="'+this._imgPath+this._mode+e[2]+(((_isFF||this._isIE7s||_isOpera))?'" style="position:absolute; '+(this._bMode?"right":"left")+':1px;"':'"')+"></div>";g+='<div style="position:absolute; background-repeat: repeat-y; background-image:url('+this._imgPath+this._mode+e[1]+"); width:"+(this._height)+"px; left:0px; top:"+e[7]+"px; height:"+(parseInt(f||this._tabSize)-e[8]-e[7]+"px")+(e[13]?('" class="'+e[13]):"")+'">'+k+"";if(d){g+='<img src="'+(this._imgPath+this._TabCloseButtonSrc)+'" style="cursor:pointer;position:absolute;right:2px;bottom:4px;" onclick="" />'}g+="</div>"}else{g='<div style="position:absolute; '+(this._bMode?"bottom":"top")+":0px; left:0px; width:"+e[7]+"px; height:"+(this._height+3)+'px;"><img src="'+this._imgPath+this._mode+e[0]+((this._bMode&&(_isOpera||_isFF||this._isIE7s))?'" style="position:absolute; bottom:0px;"':'"')+"></div>";g+='<div style="position:absolute;'+(this._bMode?"bottom":"top")+":0px; right:0px; width:"+e[8]+"px; height:"+(this._height+3)+'px;"><img src="'+this._imgPath+this._mode+e[2]+((this._bMode&&(_isOpera||_isFF||this._isIE7s))?'" style="position:absolute; bottom:0px; left:0px;"':'"')+"></div>";g+='<div style="position:absolute; background-repeat: repeat-x; background-image:url('+this._imgPath+this._mode+e[1]+"); height:"+(this._height+(this._bMode?1:3))+"px; top:0px; left:"+e[7]+"px; width:"+(parseInt(f||this._tabSize)-e[8]-e[7]+"px")+';">';if(d){g+='<img src="'+(this._imgPath+this._TabCloseButtonSrc)+'" style="cursor:pointer;position:absolute;right:0px;top:4px;" onclick="" />'}g+='<div style="padding-top:3px;" '+(e[13]?('" class="'+e[13]+'"'):"")+">"+k+"</div>";g+="</div>"}if(!e[10]){h.style.backgroundColor="transparent"}else{h.style.backgroundColor=e[10]}break}h.innerHTML=g;h.style.padding="0px";h._lChild=h.childNodes[h.childNodes.length-1];if(this._vMode){h.style.height=parseInt(f||this._tabSize)+"px";h.style.width=this._height+1+"px"}else{h.style.width=parseInt(f||this._tabSize)+"px";h.style.height=this._height+1+"px"}h._offsetSize=parseInt(f||this._tabSize);return h};dhtmlXTabBar.prototype.adjustTabSize=function(f,e){var d=this._getTabStyle(f.idd);e=e||f.scrollWidth+(this._TabCloseButton?50:20);f.style[this._vMode?"height":"width"]=e+"px";f.childNodes[2].style[this._vMode?"height":"width"]=e-d[8]-d[7]+"px";f._offsetSize=e};dhtmlXTabBar.prototype.clearAll=function(){var d=this._conZone.style.backgroundColor;this._content=new Array();this.tabsId=new Array();this.rows=new Array();this._lastActive=null;this._lastHower=null;this.entBox.innerHTML="";this._glframe=null;this._createSelf(this._vMode);this.setStyle(this._cstyle);if(d){this._conZone.style.backgroundColor=d}this.enableContentZone(this._eczF)};dhtmlXTabBar.prototype.setImagePath=function(d){this._imgPath=d};dhtmlXTabBar.prototype.loadXMLString=function(e,d){this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,true,this.no_cashe);this.XMLLoader.waitCall=d||0;this.XMLLoader.loadXMLString(e)};dhtmlXTabBar.prototype.loadXML=function(d,e){this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,true,this.no_cashe);this.XMLLoader.waitCall=e||0;this.XMLLoader.loadXML(d)};dhtmlXTabBar.prototype._getXMLContent=function(e){var g="";for(var d=0;d<e.childNodes.length;d++){var f=e.childNodes[d];g+=(f.nodeValue===null?"":f.nodeValue)}return g};dhtmlXTabBar.prototype._parseXML=function(q,v,u,t,o){q.clearAll();var m="";if(!o){o=q.XMLLoader}var p=o.getXMLTopNode("tabbar");var r=o.doXPath("//row",p);q._hrfmode=p.getAttribute("hrefmode")||q._hrfmode;q._margin=p.getAttribute("margin")||q._margin;q._align=p.getAttribute("align")||q._align;q._offset=p.getAttribute("offset")||q._offset;var s=p.getAttribute("tabstyle");if(s){q.setStyle(s)}s=p.getAttribute("skinColors");if(s){q.setSkinColors(s.split(",")[0],s.split(",")[1])}for(var n=0;n<r.length;n++){var g=o.doXPath("./tab",r[n]);for(var l=0;l<g.length;l++){var f=g[l].getAttribute("width");var d=q._getXMLContent(g[l]);var e=g[l].getAttribute("id");q.addTab(e,d,f,"",n);if(g[l].getAttribute("selected")){m=e}if(q._hrfmode){q.setContentHref(e,g[l].getAttribute("href"))}else{for(var h=0;h<g[l].childNodes.length;h++){var w=g[l].childNodes[h];if(w.tagName=="content"){if(w.getAttribute("id")){q.setContent(e,w.getAttribute("id"))}else{q.setContentHTML(e,q._getXMLContent(w))}}}}}}if(m){q.setTabActive(m)}if(q.dhx_xml_end){q.dhx_xml_end(q)}};dhtmlXTabBar.prototype.setOnLoadingEnd=function(func){if(typeof(func)=="function"){this.dhx_xml_end=func}else{this.dhx_xml_end=eval(func)}};dhtmlXTabBar.prototype.setOnTabContentLoaded=function(func){if(typeof(func)=="function"){this.dhx_tab_loaded=func}else{this.dhx_tab_loaded=eval(func)}};dhtmlXTabBar.prototype.setOnTabClose=function(func){if(typeof(func)=="function"){this.dhx_tab_close=func}else{this.dhx_tab_close=eval(func)}};dhtmlXTabBar.prototype.forceLoad=function(e,d){var f=this.tabsId[e];if(d){this._hrefs[e]=d}this._content[f.idd]._loaded=false;this._setContent(f,(!this._lastActive||this._lastActive.idd!=e))};dhtmlXTabBar.prototype.setHrefMode=function(d){this._hrfmode=d};dhtmlXTabBar.prototype.setContentHref=function(f,d){if(!this._hrefs){this._hrefs=new Array()}this._hrefs[f]=d;switch(this._hrfmode){case"iframe":if(!this._glframe){var e=document.createElement("DIV");e.className="dhx_tabcontent_sub_zone";e.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+this._imgPath+"blank.html'></iframe>";this._glframe=e.childNodes[0];this._conZone.appendChild(this._glframe)}return;break;case"iframes":case"iframes-on-demand":var e=document.createElement("DIV");e.className="dhx_tabcontent_sub_zone";e.style.display="none";e.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+((this._hrfmode=="iframes")?d:(this._imgPath+"blank.html"))+"'></iframe>";this.setContent(f,e);break;case"ajax":case"ajax-html":var e=document.createElement("DIV");e.className="dhx_tabcontent_sub_zone";this.setContent(f,e);break}this._content[f]._loaded=false};dhtmlXTabBar.prototype.tabWindow=function(d){if(this._hrfmode.indexOf("iframe")==0){return(this._content[d]?this._content[d].childNodes[0].contentWindow:null)}};dhtmlXTabBar.prototype._ajaxOnLoad=function(g,f,e,l,d){if(g[0]._hrfmode=="ajax"){var k=d.getXMLTopNode("content");var h=g[0]._getXMLContent(k)}else{var h=d.xmlDoc.responseText}g[0]._resolveContent(g[1],h);g[0].adjustSize();if(g[0].dhx_tab_loaded){g[0].dhx_tab_loaded(g[1])}};dhtmlXTabBar.prototype._resolveContent=function(id,val){var z=val.match(/<script[^>]*>[^\f]*?<\/script>/g);if(this._content[id]){this._content[id].innerHTML=val;if(z){for(var i=0;i<z.length;i++){if(window.execScript){window.execScript(z[i].replace(/<([\/]{0,1})script[^>]*>/g,""))}else{window.eval(z[i].replace(/<([\/]{0,1})script[^>]*>/g,""))}}}}};dhtmlXTabBar.prototype.setOnSelectHandler=function(func){if(typeof(func)=="function"){this._onsel=func}else{this._onsel=eval(func)}};dhtmlXTabBar.prototype.setContent=function(e,d){if(typeof(d)=="string"){d=document.getElementById(d)}if(this._content[e]){this._content[e].parentNode.removeChild(this._content[e])}this._content[e]=d;this._content[e]._loaded=true;if(d.parentNode){d.parentNode.removeChild(d)}d.style.position="absolute";if(this._dspN){d.style.display="none";d.style.visibility="visible"}else{d.style.visibility="hidden";d.style.display="block"}d.style.top="0px";d.style.top="0px";this._conZone.appendChild(d);if((this._lastActive)&&(this._lastActive.idd==e)){this._setContent(this._lastActive)}};dhtmlXTabBar.prototype._setContent=function(d,e){if(this._hrfmode){switch(this._hrfmode){case"iframe":this._glframe.src=this._hrefs[d.idd];return;break;case"iframes":case"iframes-on-demand":if((this._hrfmode=="iframes-on-demand")&&(!this._content[d.idd]._loaded)){this._content[d.idd].childNodes[0].src=this._hrefs[d.idd];this._content[d.idd]._loaded="true"}break;case"ajax":case"ajax-html":var f=this._content[d.idd];if(!f._loaded){f.innerHTML="<div class='dhx_ajax_loader'><img src='"+this._imgPath+"loading.gif' />&nbsp;Loading...</div>";(new dtmlXMLLoaderObject(this._ajaxOnLoad,[this,d.idd],true,this.no_cashe)).loadXML(this._hrefs[d.idd]);f._loaded=true}break}}if(!e){if((this._lastActive)&&(this._content[this._lastActive.idd])){if(this._dspN){this._content[this._lastActive.idd].style.display="none"}else{this._content[this._lastActive.idd].style.visibility="hidden";this._content[this._lastActive.idd].style.zIndex=-1}}if(this._content[d.idd]){if(this._dspN){this._content[d.idd].style.display="block"}else{this._content[d.idd].style.visibility="";this._content[d.idd].style.zIndex=2}}}this.adjustSize()};dhtmlXTabBar.prototype.setContentHTML=function(f,d){var e=document.createElement("DIV");e.className="dhx_tabcontent_sub_zone";e.innerHTML=d;this.setContent(f,e)};dhtmlXTabBar.prototype.setStyle=function(d){if(this._styles[d]){this._cstyle=d;if(this._styles[this._cstyle][12]){this._conZone.style.backgroundColor=this._styles[this._cstyle][12]}}};dhtmlXTabBar.prototype.enableContentZone=function(d){this._eczF=convertStringToBoolean(d);this._conZone.style.display=this._eczF?"":"none"};dhtmlXTabBar.prototype.enableForceHiding=function(d){this._dspN=convertStringToBoolean(d)};dhtmlXTabBar.prototype.setSkinColors=function(e,f,d){this._styles[this._cstyle][10]=f;this._styles[this._cstyle][11]=e;this._conZone.style.backgroundColor=d||e};dhtmlXTabBar.prototype.getActiveTab=function(){if(this._lastActive){return this._lastActive.idd}return null};dhtmlXTabBar.prototype._deactivateTab=function(){if(!this._lastActive){return}var d=this._styles[this._cstyle];if(d["id_"+this._lastActive.idd]){d=d["id_"+this._lastActive.idd]}if(d[10]){this._lastActive.style.backgroundColor=d[10]}this._lastActive.className=this._lastActive.className.replace(/dhx_tab_element_active/g,"dhx_tab_element_inactive");if(this._vMode){switch(this._tbst){case"win_text":if(this._lastActive){this._lastActive._scrollState=this._conZone.scrollLeft;this._lastActive._lChild.style.backgroundImage="url("+this._imgPath+this._mode+d[1]+")";this._lastActive.childNodes[0].childNodes[0].src=this._imgPath+this._mode+d[0];this._lastActive.childNodes[1].childNodes[0].src=this._imgPath+this._mode+d[2];this._lastActive.style.height=parseInt(this._lastActive.style.height)-d[9]+"px";this._lastActive._lChild.style.height=parseInt(this._lastActive._lChild.style.height)-d[9]+"px";this._lastActive.style[this._align=="right"?"marginBottom":"marginTop"]="0px";this._lastActive.style.width=this._height+1+"px";if(this._bMode){this._lastActive._lChild.style.width=this._height+1+"px"}}}}else{switch(this._tbst){case"win_text":if(this._lastActive){this._lastActive._scrollState=this._conZone.scrollTop;this._lastActive._lChild.style.backgroundImage="url("+this._imgPath+this._mode+d[1]+")";this._lastActive.childNodes[0].childNodes[0].src=this._imgPath+this._mode+d[0];this._lastActive.childNodes[1].childNodes[0].src=this._imgPath+this._mode+d[2];this._lastActive.style.width=parseInt(this._lastActive.style.width)-d[9]+"px";this._lastActive._lChild.style.width=parseInt(this._lastActive._lChild.style.width)-d[9]+"px";this._lastActive.style[this._align=="left"?"marginLeft":"marginRight"]="0px";this._lastActive.style.height=this._height+1+"px";if(this._bMode){this._lastActive._lChild.style.height=this._height+1+"px"}}}}this._lastActive=null};dhtmlXTabBar.prototype.goToNextTab=function(e){var f=e||this._lastActive;if(f){if(f.nextSibling.idd){if(!this._setTabActive(f.nextSibling)){return this.goToNextTab(f.nextSibling)}return f.nextSibling.idd}else{if(f.parentNode.nextSibling){var d=f.parentNode.nextSibling.childNodes[0];if(!this._setTabActive(d)){return this.goToNextTab(d)}return d.idd}}}return null};dhtmlXTabBar.prototype.goToPrevTab=function(e){var f=e||this._lastActive;if(f){if(f.previousSibling){if(!this._setTabActive(f.previousSibling)){return this.goToPrevTab(f.previousSibling)}return this._lastActive.idd}else{if(f.parentNode.previousSibling){var d=f.parentNode.previousSibling.childNodes;if((!d)||(!d.tabCount)){return null}d=d[d.tabCount-1];if(!this._setTabActive(d)){return this.goToPrevTab(d)}return d.idd}}}return null};dhtmlXTabBar.prototype.enableAutoSize=function(e,d){this._ahdj=convertStringToBoolean(d);this._awdj=convertStringToBoolean(e);if(this._awdj&&this._ahdj){this._conZone.style.overflow="hidden"}else{this._conZone.style.overflow="auto"}};dhtmlXTabBar.prototype.enableAutoReSize=function(e){this._EARS=convertStringToBoolean(e);if(this._EARS){this.entBox.style.overflow="hidden";if(arguments.length==1){if((this.entBox.style.width||"").indexOf("%")==-1){this.entBox.style.width="100%"}if((this.entBox.style.height||"").indexOf("%")==-1){this.entBox.style.height="100%"}}var d=this;if(this.entBox.addEventListener){if((_isFF)&&(_FFrv<1.8)){window.addEventListener("resize",function(){window.setTimeout(function(){d.adjustOuterSize()},10)},false)}else{window.addEventListener("resize",function(){if(d.adjustOuterSize){d.adjustOuterSize()}},false)}}else{if(window.attachEvent){window.attachEvent("onresize",function(){if(d._resize_timer){window.clearTimeout(d._resize_timer)}if(d.adjustOuterSize){d._resize_timer=window.setTimeout(function(){d.adjustOuterSize()},500)}})}}if(this._lineA){this.adjustOuterSize()}}};dhtmlXTabBar.prototype.setSize=function(f,d,g){d=parseInt(d);f=parseInt(f);if(g){if(!this._vMode){d+=20*this.rows.length}else{f+=20*this.rows.length}}this.height=d+"px";this.width=f+"px";this._lineA.style[this._vMode?"left":"top"]=(this._bMode?0:(this._height+2))+"px";this._lineA.style[this._vMode?"height":"width"]=this[this._vMode?"height":"width"];if(this._vMode){for(var e=0;e<this.rows.length;e++){this.rows[e].style.height=parseInt(this.height)+"px"}this._conZone.style.height=d-(_isFF?2:0)+"px"}else{this._conZone.style.width=parseInt(this.width)-(_isFF?2:0)+"px";for(var e=0;e<this.rows.length;e++){this.rows[e].style.width=parseInt(this.width)+"px"}}for(var e=0;e<this.rows.length;e++){this._redrawRow(this.rows[e])}this._setSizes()};dhtmlXTabBar.prototype.adjustOuterSize=function(){if(!this._EARS){return}this.setSize(this.entBox.offsetWidth,this.entBox.offsetHeight,false)};dhtmlXTabBar.prototype.adjustSize=function(){if((!this._ahdj)&&(!this._awdj)){return}var e=false;var d=0;var h=0;for(var g in this._content){var f=this._content[g];if(!f){continue}if((this._ahdj)&&(f.scrollHeight>h)){h=f.scrollHeight+(_isIE?6:4);e=true}if((this._awdj)&&(f.scrollWidth>d)){d=f.scrollWidth+2;e=true}}if(e){this.setSize(d||this._conZone.offsetWidth,h||this._conZone.offsetHeight,true)}if(this._EARS){this.adjustOuterSize()}};dhtmlXTabBar.prototype.preventIECashing=function(d){this.no_cashe=convertStringToBoolean(d);if(this.XMLLoader){this.XMLLoader.rSeed=this.no_cashe}};dhtmlXTabBar.prototype.hideTab=function(d,f){var d=this.tabsId[d];if(!d){return}this._goToAny(d,f);d.style.display="none";var e=d.parentNode;this._redrawRow(e)};dhtmlXTabBar.prototype.showTab=function(d){var d=this.tabsId[d];if(!d){return}d.style.display="block";var e=d.parentNode;this._redrawRow(e)};dhtmlXTabBar.prototype.enableTab=function(d){var d=this.tabsId[d];if(!d){return}d._disabled=false;d.className=(d.className||"").replace(/dhx_tab_element_disabled/g,"")};dhtmlXTabBar.prototype.disableTab=function(d,e){var d=this.tabsId[d];if(!d){return}this._goToAny(d,e);d._disabled=true;d.className+=" dhx_tab_element_disabled"};dhtmlXTabBar.prototype.setLabel=function(d,e){var d=this.tabsId[d];if(!d){return}switch(this._tbst){case"text":d.innerHTML=e;break;case"win_text":d.childNodes[2].childNodes[this._TabCloseButton?1:0].innerHTML=e;break}};dhtmlXTabBar.prototype.getLabel=function(d){var d=this.tabsId[d];if(!d){return}switch(this._tbst){case"text":return d.innerHTML;break;case"win_text":return d.childNodes[2].childNodes[this._TabCloseButton?1:0].innerHTML;break}};dhtmlXTabBar.prototype.detachTab=function(d){var o=this.getLabel(d);var f=this.tabsId[d];if(!f){return}var h=this._content[f.idd];f=this._getTabById(d);var m=parseInt(f.style.width);this.removeTab(d,true);h.style.position="";var e=parseInt(this._conZone.style.width)+5;var q=parseInt(this._conZone.style.height)+25;var k=100;var p=50;e=e<k?k:e;q=q<p?p:q;var n=Math.ceil(window.offsetHeight/20-q/20);var g=Math.ceil(window.offsetWidth/20-e/20);var l=new dhtmlxWindow(420,300,e,q,o,false);l._tab_w=m;l.attachContent(h);return l};dhtmlXTabBar.prototype.enableTabCloseButton=function(d){this._TabCloseButton=convertStringToBoolean(d)};function dhtmlXComboFromSelect(n,p){if(typeof(n)=="string"){var d=n;n=document.getElementById(n);n.name=d}p=p||n.getAttribute("width")||(window.getComputedStyle?window.getComputedStyle(n,null)["width"]:(n.currentStyle?n.currentStyle.width:0));if((!p)||(p=="auto")){p=n.offsetWidth||100}var h=document.createElement("SPAN");n.parentNode.insertBefore(h,n);n.style.display="none";var k=n.getAttribute("opt_type");var o=new dhtmlXCombo(h,n.name,p,k,n.tabIndex);var m=new Array();var e=0;for(var g=0;g<n.options.length;g++){if(n.options[g].selected){e=g}var l=n.options[g].innerHTML;var f=n.options[g].getAttribute("value");if((typeof(f)=="undefined")||(f===null)){f=l}m[g]={value:f,text:l,img_src:n.options[g].getAttribute("img_src")}}if(m.length!==0){o.addOption(m)}n.parentNode.removeChild(n);o.selectOption(e,null,true);if(n.onchange){o.attachEvent("onChange",n.onchange)}o.DOMelem.id=d;return o}var dhtmlXCombo_optionTypes=[];function dhtmlXCombo(g,e,f,h,d){if(typeof(g)=="string"){g=document.getElementById(g)}this.dhx_Event();this.optionType=(h!=window.undefined&&dhtmlXCombo_optionTypes[h])?h:"default";this._optionObject=dhtmlXCombo_optionTypes[this.optionType];this._disabled=false;if(!window.dhx_glbSelectAr){window.dhx_glbSelectAr=new Array();window.dhx_openedSelect=null;window.dhx_SelectId=1;dhtmlxEvent(document.body,"click",this.closeAll);dhtmlxEvent(document.body,"keydown",function(k){try{if((k||event).keyCode==9){window.dhx_glbSelectAr[0].closeAll()}}catch(k){}return true})}if(g.tagName=="SELECT"){dhtmlXComboFromSelect(g)}else{this._createSelf(g,e,f,d);dhx_glbSelectAr.push(this)}}dhtmlXCombo.prototype.validateSelectedElementOnSuggestedCombo=function(value,element){var combo=eval("("+element.name+")");var text=combo.getComboText();if(text.length===0){return true}var selectedValue=combo.getSelectedValue();if(selectedValue===null){var actualValue=combo.getActualValue();if(actualValue.length===0){return false}else{var selectedIndex=combo.getSelectedIndex();if(selectedIndex===-1){var optionsArr=combo.optionsArr;if(optionsArr.length!==1){return false}else{var option=optionsArr[0];if(option.value!==actualValue){return false}}}}}return true};dhtmlXCombo.prototype.setSize=function(d){this.DOMlist.style.width=d+"px";if(this.DOMlistF){this.DOMlistF.style.width=d+"px"}this.DOMelem.style.width=d+"px";this.DOMelem_input.style.width=(d-19)+"px"};dhtmlXCombo.prototype.enableFilteringMode=function(g,f,e,d){this._filter=convertStringToBoolean(g);if(f){this._xml=f;this._autoxml=convertStringToBoolean(d)}if(convertStringToBoolean(e)){this._xmlCache=[]}};dhtmlXCombo.prototype.setFilteringParam=function(d,e){if(!this._prs){this._prs=[]}this._prs.push([d,e])};dhtmlXCombo.prototype.disable=function(e){var d=convertStringToBoolean(e);if(this._disabled==d){return}this.DOMelem_input.disabled=d;this._disabled=d};dhtmlXCombo.prototype.disableExpandList=function(d){this._disabledExpandList=d};dhtmlXCombo.prototype.readonly=function(e,f){this.DOMelem_input.readOnly=e?true:false;if(f===false){this.DOMelem.onkeyup=function(g){}}else{var d=this;this.DOMelem.onkeyup=function(h){h=h||window.event;if(h.keyCode!=9){h.cancelBubble=true}if((h.keyCode>=48&&h.keyCode<=57)||(h.keyCode>=65&&h.keyCode<=90)){for(var g=0;g<d.optionsArr.length;g++){var k=d.optionsArr[g].text;if(k.toString().toUpperCase().indexOf(String.fromCharCode(h.keyCode))==0){d.selectOption(g);break}}h.cancelBubble=true}}}};dhtmlXCombo.prototype.getOption=function(e){for(var d=0;d<this.optionsArr.length;d++){if(this.optionsArr[d].value==e){return this.optionsArr[d]}}return null};dhtmlXCombo.prototype.getOptionByLabel=function(e){e=e.replace(/&/g,"&amp;");for(var d=0;d<this.optionsArr.length;d++){if(this.optionsArr[d].text==e){return this.optionsArr[d]}}return null};dhtmlXCombo.prototype.getOptionByIndex=function(d){return this.optionsArr[d]};dhtmlXCombo.prototype.clearAll=function(d){if(d){this.setComboText("")}this.optionsArr=new Array();this.redrawOptions();if(d){this._confirmSelection()}};dhtmlXCombo.prototype.deleteOption=function(e){var d=this.getIndexByValue(e);if(d<0){return}if(this.optionsArr[d]==this._selOption){this._selOption=null}this.optionsArr.splice(d,1);this.redrawOptions()};dhtmlXCombo.prototype.render=function(d){this._skiprender=(!convertStringToBoolean(d));this.redrawOptions()};dhtmlXCombo.prototype.updateOption=function(g,d,f,h){var e=this.getOption(g);if(typeof(d)!="object"){d={text:f,value:d,css:h}}e.setValue(d);this.redrawOptions()};dhtmlXCombo.prototype.addOption=function(e){if(!arguments[0].length||typeof(arguments[0])!="object"){args=[arguments]}else{args=e}this.render(false);for(var f=0;f<args.length;f++){var d=args[f];if(d.length){d.value=d[0]||"";d.text=d[1]||"";d.css=d[2]||""}this._addOption(d)}this.render(true)};dhtmlXCombo.prototype._addOption=function(d){dOpt=new this._optionObject();this.optionsArr.push(dOpt);dOpt.setValue.apply(dOpt,[d]);this.redrawOptions()};dhtmlXCombo.prototype.getIndexByValue=function(e){for(var d=0;d<this.optionsArr.length;d++){if(this.optionsArr[d].value==e){return d}}return -1};dhtmlXCombo.prototype.getSelectedValue=function(){return(this._selOption?this._selOption.value:null)};dhtmlXCombo.prototype.getComboText=function(){return this.DOMelem_input.value||""};dhtmlXCombo.prototype.setComboText=function(d){this.DOMelem_input.value=d};dhtmlXCombo.prototype.setComboValue=function(e){this.setComboText(e);for(var d=0;d<this.optionsArr.length;d++){if(this.optionsArr[d].data()[0]==e){return this.selectOption(d,null,true)}}this.DOMelem_hidden_input.value=e};dhtmlXCombo.prototype.getActualValue=function(){return this.DOMelem_hidden_input.value||""};dhtmlXCombo.prototype.getSelectedText=function(){return(this._selOption?this._selOption.text:"")};dhtmlXCombo.prototype.getSelectedIndex=function(){for(var d=0;d<this.optionsArr.length;d++){if(this.optionsArr[d]==this._selOption){return d}}return -1};dhtmlXCombo.prototype.setName=function(d){this.DOMforSbm.name=d;this.name=d};dhtmlXCombo.prototype.show=function(d){if(convertStringToBoolean(d)){this.DOMelem.style.display=""}else{this.DOMelem.style.display="none"}};dhtmlXCombo.prototype.destructor=function(){var d=this._inID;this.DOMParent.removeChild(this.DOMelem);this.DOMlist.parentNode.removeChild(this.DOMlist);var f=dhx_glbSelectAr;this.DOMParent=this.DOMlist=this.DOMelem=0;this.DOMlist.combo=this.DOMelem.combo=0;for(var e=0;e<f.length;e++){if(f[e]._inID==d){f[e]=null;f.splice(e,1);return}}};dhtmlXCombo.prototype._createSelf=function(g,e,l,k){if(l.toString().indexOf("%")!=-1){var d=this;var h=parseInt(l)/100;window.setInterval(function(){var m=g.parentNode.offsetWidth*h-2;if(m==d._lastTs){return}d.setSize(d._lastTs=m)},500);var l=parseInt(g.offsetWidth)}var l=parseInt(l||100);this.ListPosition="Bottom";this.DOMParent=g;this._inID=null;this.name=e;this._selOption=null;this.optionsArr=Array();var f=new this._optionObject();f.DrawHeader(this,e,l,k);this.DOMlist=document.createElement("DIV");this.DOMlist.className="dhx_combo_list";this.DOMlist.style.width=l-(_isIE?0:0)+"px";if(_isOpera||_isKHTML){this.DOMlist.style.overflow="auto"}this.DOMlist.style.display="none";document.body.insertBefore(this.DOMlist,document.body.firstChild);if(_isIE){this.DOMlistF=document.createElement("IFRAME");this.DOMlistF.style.border="0px";this.DOMlistF.className="dhx_combo_list";this.DOMlistF.style.width=l-(_isIE?0:0)+"px";this.DOMlistF.style.display="none";this.DOMlistF.src="javascript:false;";document.body.insertBefore(this.DOMlistF,document.body.firstChild)}this.DOMlist.combo=this.DOMelem.combo=this;this.DOMelem_input.onkeydown=this._onKey;this.DOMelem_input.onkeypress=this._onKeyF;this.DOMelem_input.onblur=this._onBlur;this.DOMelem.onclick=this._toggleSelect;this.DOMlist.onclick=this._selectOption;this.DOMlist.onmousedown=function(){this._skipBlur=true};this.DOMlist.onkeydown=function(m){this.combo.DOMelem_input.focus();(m||event).cancelBubble=true;this.combo.DOMelem_input.onkeydown(m)}};dhtmlXCombo.prototype._listOver=function(h){h=h||event;h.cancelBubble=true;var g=(_isIE?event.srcElement:h.target);var f=this.combo;if(g.parentNode==f.DOMlist){f.unSelectOption();var d=0;for(d;d<f.DOMlist.childNodes.length;d++){if(f.DOMlist.childNodes[d]==g){break}}var k=f.optionsArr[d];f._selOption=k;f._selOption.select();if((f._autoxml)&&((d+1)==f._lastLength)){f._fetchOptions(d+1,f._lasttext||"")}}};dhtmlXCombo.prototype._positList=function(){var d=this.getPosition(this.DOMelem);if(this.ListPosition=="Bottom"){this.DOMlist.style.top=d[1]+this.DOMelem.offsetHeight+"px";this.DOMlist.style.left=d[0]+"px"}else{if(this.ListPosition=="Top"){this.DOMlist.style.top=d[1]-this.DOMlist.offsetHeight+"px";this.DOMlist.style.left=d[0]+"px"}else{this.DOMlist.style.top=d[1]+"px";this.DOMlist.style.left=d[0]+this.DOMelem.offsetWidth+"px"}}};dhtmlXCombo.prototype.getPosition=function(l,f){if(!f){var f=document.body}var d=l;var k=0;var h=0;while((d)&&(d!=f)){k+=d.offsetLeft-d.scrollLeft;h+=d.offsetTop-d.scrollTop;d=d.offsetParent}if(f==document.body){if(_isIE){var g=function(){var p=navigator.userAgent;var n="MSIE";var q=p.indexOf(n);var o=p.indexOf(";",q);var m=p.substring(q+n.length,o);return parseInt(m,10)};var e=g();if(e!==undefined&&e<8){if(document.documentElement.scrollTop){h+=document.documentElement.scrollTop}if(document.documentElement.scrollLeft){k+=document.documentElement.scrollLeft}}}else{if(!_isFF){k+=document.body.offsetLeft;h+=document.body.offsetTop}}}return new Array(k,h)};dhtmlXCombo.prototype._correctSelection=function(){if(this.getComboText()!=""){for(var d=0;d<this.optionsArr.length;d++){if(!this.optionsArr[d].isHidden()){return this.selectOption(d,true,false)}}}this.unSelectOption()};dhtmlXCombo.prototype.selectNext=function(d){var e=this.getSelectedIndex()+d;while(this.optionsArr[e]){if(!this.optionsArr[e].isHidden()){return this.selectOption(e,false,false)}e+=d}};dhtmlXCombo.prototype._onKeyF=function(g){var f=this.parentNode.combo;var d=g||event;d.cancelBubble=true;if(d.keyCode=="13"||d.keyCode=="9"){f._confirmSelection();f.closeAll()}else{if(d.keyCode=="27"){f._resetSelection();f.closeAll();f.lastKeyPress=27}else{f._activeMode=true}}if(d.keyCode=="13"||d.keyCode=="27"){f.callEvent("onKeyPressed",[d.keyCode]);return false}f.lastKeyPress=d.keyCode;return true};dhtmlXCombo.prototype._onKey=function(g){var f=this.parentNode.combo;(g||event).cancelBubble=true;var d=(g||event).keyCode;if(d>15&&d<19){return true}if(d==27){if(f.lastKeyPress===27){return false}return}if((f.DOMlist.style.display!="block")&&(d!="13")&&(d!="9")&&((!f._filter)||(f._filterAny))){f.DOMelem.onclick(g||event)}if((d!="13")&&(d!="9")){window.setTimeout(function(){f._onKeyB(d)},1);if(d=="40"||d=="38"){return false}}else{if(d==9){f.closeAll();(g||event).cancelBubble=false}}};dhtmlXCombo.prototype._onKeyB=function(e){if(e=="40"){var f=this.selectNext(1)}else{if(e=="38"){this.selectNext(-1)}else{this.callEvent("onKeyPressed",[e]);if(this._filter){return this.filterSelf((e==8)||(e==46))}for(var d=0;d<this.optionsArr.length;d++){if(this.optionsArr[d].data()[1]==this.DOMelem_input.value){this.selectOption(d,false,false);return false}}this.unSelectOption()}}return true};dhtmlXCombo.prototype._onBlur=function(){var d=this.parentNode._self;window.setTimeout(function(){if(d.DOMlist._skipBlur){return !(d.DOMlist._skipBlur=false)}d._confirmSelection();d.callEvent("onBlur",[])},100)};dhtmlXCombo.prototype.redrawOptions=function(){if(this._skiprender){return}for(var d=this.DOMlist.childNodes.length-1;d>=0;d--){this.DOMlist.removeChild(this.DOMlist.childNodes[d])}for(var d=0;d<this.optionsArr.length;d++){this.DOMlist.appendChild(this.optionsArr[d].render())}};dhtmlXCombo.prototype.loadXML=function(e,g){this._load=true;if((this._xmlCache)&&(this._xmlCache[e])){this._fillFromXML(this,null,null,null,this._xmlCache[e]);if(g){g()}}else{var d=(new dtmlXMLLoaderObject(this._fillFromXML,this,true,true));if(g){d.waitCall=g}if(this._prs){for(var f=0;f<this._prs.length;f++){e+=[getUrlSymbol(e),escape(this._prs[f][0]),"=",escape(this._prs[f][1])].join("")}}d._cPath=e;d.loadXML(e)}};dhtmlXCombo.prototype.loadXMLString=function(d){var e=(new dtmlXMLLoaderObject(this._fillFromXML,this,true,true));e.loadXMLString(d)};dhtmlXCombo.prototype._fillFromXML=function(g,p,n,m,k){if(g._xmlCache){g._xmlCache[k._cPath]=k}k.getXMLTopNode("complete");var o=k.doXPath("//complete");var r=k.doXPath("//option");g.render(false);if((!o[0])||(!o[0].getAttribute("add"))){g.clearAll();g._lastLength=r.length;if(g._xml){if((!r)||(!r.length)){g.closeAll()}else{if(g._activeMode){g._positList();g.DOMlist.style.display="block";if(_isIE){g._IEFix(true)}}}}}else{g._lastLength+=r.length}for(var h=0;h<r.length;h++){var l=new Object();l.text=r[h].firstChild?r[h].firstChild.nodeValue:"";for(var f=0;f<r[h].attributes.length;f++){var q=r[h].attributes[f];if(q){l[q.nodeName]=q.nodeValue}}g._addOption(l)}g.render(true);if((g._load)&&(g._load!==true)){g.loadXML(g._load)}else{g._load=false;if((!g._lkmode)&&(!g._filter)){g._correctSelection()}}var e=k.doXPath("//option[@selected]");if(e.length){g.selectOption(g.getIndexByValue(e[0].getAttribute("value")),false,true)}};dhtmlXCombo.prototype.unSelectOption=function(){if(this._selOption){this._selOption.deselect()}this._selOption=null};dhtmlXCombo.prototype._confirmSelection=function(f,d){var e=this.getActualValue();if(arguments.length==0){var g=this.getOptionByLabel(this.DOMelem_input.value);f=g?g.value:this.DOMelem_input.value;d=(g==null);if(f==this.getActualValue()){return}}this.DOMelem_hidden_input.value=f;this.DOMelem_hidden_input2.value=(d?"true":"false");this.callEvent("onChange",[e]);this._activeMode=false};dhtmlXCombo.prototype._resetSelection=function(e,d){var f=this.getOption(this.DOMelem_hidden_input.value);this.setComboValue(f?f.data()[0]:this.DOMelem_hidden_input.value);this.setComboText(f?f.data()[1]:this.DOMelem_hidden_input.value)};dhtmlXCombo.prototype.selectOption=function(g,e,d){if(arguments.length<3){d=true}this.unSelectOption();var k=this.optionsArr[g];if(!k){return}this._selOption=k;this._selOption.select();var l=this._selOption.content.offsetTop+this._selOption.content.offsetHeight-this.DOMlist.scrollTop-this.DOMlist.offsetHeight;if(l>0){this.DOMlist.scrollTop+=l}l=this.DOMlist.scrollTop-this._selOption.content.offsetTop;if(l>0){this.DOMlist.scrollTop-=l}var f=this._selOption.data();if(d){this.setComboText(f[1]);this._confirmSelection(f[0],false)}if((this._autoxml)&&((g+1)==this._lastLength)){this._fetchOptions(g+1,this._lasttext||"")}if(e){var h=this.getComboText();if(h!=f[1]){this.setComboText(f[1]);dhtmlXRange(this.DOMelem_input,h.length+1,f[1].length)}}else{this.setComboText(f[1])}this._selOption.RedrawHeader(this);this.callEvent("onSelectionChange",[])};dhtmlXCombo.prototype._selectOption=function(h){(h||event).cancelBubble=true;var g=(_isIE?event.srcElement:h.target);var f=this.combo;while(!g._self){g=g.parentNode;if(!g){return}}var d=0;for(d;d<f.DOMlist.childNodes.length;d++){if(f.DOMlist.childNodes[d]==g){break}}f.selectOption(d,false,true);f.closeAll();f.callEvent("onBlur",[]);f._activeMode=false};dhtmlXCombo.prototype.openSelect=function(){if(this._disabled){return}this.closeAll();this._positList();this.DOMlist.style.display="block";this.callEvent("onOpen",[]);if(_isIE){this._IEFix(true)}this.DOMelem_input.focus();if(this._filter){this.filterSelf()}};dhtmlXCombo.prototype._toggleSelect=function(f){var d=this.combo;if(d.DOMlist.style.display=="block"){d.closeAll()}else{if(d._disabledExpandList===false||d._disabledExpandList===undefined){d.openSelect()}else{d.closeAll()}}(f||event).cancelBubble=true};dhtmlXCombo.prototype._fetchOptions=function(e,f){if(f==""){this.closeAll();return this.clearAll()}var d=this._xml+((this._xml.indexOf("?")!=-1)?"&":"?")+"pos="+e+"&mask="+encodeURIComponent(f);this._lasttext=f;if(this._load){this._load=d}else{this.loadXML(d)}};dhtmlXCombo.prototype.filterSelf=function(l){var k=this.getComboText();if(this._xml){this._lkmode=l;this._fetchOptions(0,k)}try{var f=new RegExp("^"+k,"i")}catch(g){var f=new RegExp("^"+k.replace(/([\[\]\{\}\(\)\+\*\\])/g,"\\$1"))}this.filterAny=false;for(var d=0;d<this.optionsArr.length;d++){var h=f.test(this.optionsArr[d].text);this.filterAny|=h;this.optionsArr[d].hide(!h)}if(!this.filterAny){this.closeAll();this._activeMode=true}else{if(this.DOMlist.style.display!="block"){this.openSelect()}if(_isIE){this._IEFix(true)}}if(!l){this._correctSelection()}else{this.unSelectOption()}};dhtmlXCombo.prototype._IEFix=function(d){this.DOMlistF.style.display=(d?"block":"none");this.DOMlistF.style.top=this.DOMlist.style.top;this.DOMlistF.style.left=this.DOMlist.style.left};dhtmlXCombo.prototype.closeAll=function(){if(window.dhx_glbSelectAr){for(var d=0;d<dhx_glbSelectAr.length;d++){if(dhx_glbSelectAr[d].DOMlist.style.display=="block"){dhx_glbSelectAr[d].DOMlist.style.display="none";if(_isIE){dhx_glbSelectAr[d]._IEFix(false)}}dhx_glbSelectAr[d]._activeMode=false}}};function dhtmlXRange(d,h,m){var l=typeof(d)=="object"?d:document.getElementById(d);try{l.focus()}catch(k){}var g=l.value.length;h--;if(h<0||h>m||h>g){h=0}if(m>g){m=g}if(l.setSelectionRange){l.setSelectionRange(h,m)}else{if(l.createTextRange){var f=l.createTextRange();f.moveStart("character",h);f.moveEnd("character",m-g);f.select()}}}dhtmlXCombo_defaultOption=function(){this.init()};dhtmlXCombo_defaultOption.prototype.init=function(){this.value=null;this.text="";this.selected=false;this.css=""};dhtmlXCombo_defaultOption.prototype.select=function(){if(this.content){}this.content.className="dhx_selected_option"};dhtmlXCombo_defaultOption.prototype.hide=function(d){this.render().style.display=d?"none":""};dhtmlXCombo_defaultOption.prototype.isHidden=function(){return(this.render().style.display=="none")};dhtmlXCombo_defaultOption.prototype.deselect=function(){if(this.content){this.render()}this.content.className=""};dhtmlXCombo_defaultOption.prototype.setValue=function(d){this.value=d.value||"";this.text=d.text||"";this.css=d.css||"";this.content=null};dhtmlXCombo_defaultOption.prototype.render=function(){if(!this.content){this.content=document.createElement("DIV");this.content._self=this;this.content.style.cssText='width:100%; overflow:hidden; "+this.css+"';if(_isOpera||_isKHTML){this.content.style.padding="2px 0px 2px 0px"}this.content.innerHTML=this.text;this._ctext=_isIE?this.text:this.content.textContent}return this.content};dhtmlXCombo_defaultOption.prototype.data=function(){if(this.content){return[this.value,this._ctext?this._ctext:this.text]}};dhtmlXCombo_defaultOption.prototype.DrawHeader=function(d,e,g,f){var h=document.createElement("DIV");h.style.width=g+"px";h.className="dhx_combo_box";h._self=d;d.DOMelem=h;this._DrawHeaderInput(d,e,g,f);this._DrawHeaderButton(d,e,g);d.DOMParent.appendChild(d.DOMelem)};dhtmlXCombo_defaultOption.prototype._DrawHeaderInput=function(d,e,g,f){var h=document.createElement("input");h.className="dhx_combo_input";h.setAttribute("autocomplete","off");h.type="text";if(f){h.tabIndex=f}h.style.width=(g-19)+"px";d.DOMelem.appendChild(h);d.DOMelem_input=h;h=document.createElement("input");h.type="hidden";h.name=e;d.DOMelem.appendChild(h);d.DOMelem_hidden_input=h;h=document.createElement("input");h.type="hidden";h.name=e+"_new_value";h.value="true";d.DOMelem.appendChild(h);d.DOMelem_hidden_input2=h};dhtmlXCombo_defaultOption.prototype._DrawHeaderButton=function(d,e,f){var g=document.createElement("img");g.className="dhx_combo_img";g.src=(window.dhx_comboImgPath?dhx_comboImgPath:(window.dhx_globalImgPath?dhx_globalImgPath:""))+"combo_select.gif";d.DOMelem.appendChild(g);d.DOMelem_button=g};dhtmlXCombo_defaultOption.prototype.RedrawHeader=function(d){};dhtmlXCombo_optionTypes["default"]=dhtmlXCombo_defaultOption;dhtmlXCombo.prototype.dhx_Event=function(){this.dhx_SeverCatcherPath="";this.attachEvent=function(original,catcher,CallObj){CallObj=CallObj||this;original="ev_"+original;if((!this[original])||(!this[original].addEvent)){var z=new this.eventCatcher(CallObj);z.addEvent(this[original]);this[original]=z}return(original+":"+this[original].addEvent(catcher))};this.callEvent=function(name,arg0){if(this["ev_"+name]){return this["ev_"+name].apply(this,arg0)}return true};this.checkEvent=function(name){if(this["ev_"+name]){return true}return false};this.eventCatcher=function(obj){var dhx_catch=new Array();var m_obj=obj;var func_server=function(catcher,rpc){catcher=catcher.split(":");var postVar="";var postVar2="";var target=catcher[1];if(catcher[1]=="rpc"){postVar='<?xml version="1.0"?><methodCall><methodName>'+catcher[2]+"</methodName><params>";postVar2="</params></methodCall>";target=rpc}var z=function(){};return z};var z=function(){if(dhx_catch){var res=true}for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]!=null){var zr=dhx_catch[i].apply(m_obj,arguments);res=res&&zr}}return res};z.addEvent=function(ev){if(typeof(ev)!="function"){if(ev&&ev.indexOf&&ev.indexOf("server:")==0){ev=new func_server(ev,m_obj.rpcServer)}else{ev=eval(ev)}}if(ev){return dhx_catch.push(ev)-1}return false};z.removeEvent=function(id){dhx_catch[id]=null};return z};this.detachEvent=function(id){if(id!=false){var list=id.split(":");this[list[0]].removeEvent(list[1])}}};function dhtmlxDblCalendarObject(h,g,f){this.scriptName="dhtmlxcalendar.js";this.entObj=document.createElement("DIV");this.winHeader=null;this.style="dhtmlxdblcalendar";this.winTitle="dhtmlxDblCalendarObject";this.uid="sc&dblCal"+Math.round(1000000*Math.random());this.numLoaded=2;this.options={isWinHeader:false,headerButtons:"",isWinDrag:false,msgClose:"Close",msgMinimize:"Minimize",msgToday:"Today",msgClear:"Clear",style:{zindex:"99"}};if(f){for(x in f){this.options[x]=f[x]}}this.entBox=document.createElement("TABLE");this.entBox.cellPadding="0px";this.entBox.cellSpacing="0px";this.entBox.className=this.style;this.entObj.appendChild(this.entBox);var l=this.entBox.insertRow(0);var e=l.insertCell(0);e.style.paddingRight="2px";var k=l.insertCell(1);this.leftCalendar=new dhtmlxCalendarObject(e,g,this.options);this.leftCalendar._dblC=this;this.leftCalendar.setOnClickHandler(this.doOnCLeftClick);this.rightCalendar=new dhtmlxCalendarObject(k,g,this.options);this.rightCalendar._dblC=this;this.rightCalendar.setOnClickHandler(this.doOnCRightClick);this.doOnClick=null;this.onLanguageLoaded=null;this.getPosition=this.leftCalendar.getPosition;this.startDrag=this.leftCalendar.startDrag;this.stopDrag=this.leftCalendar.stopDrag;this.onDrag=this.leftCalendar.onDrag;this.drawHeader=this.leftCalendar.drawHeader;if(typeof(h)!="string"){this.con=h}else{this.con=document.getElementById(h)}var d=this}dhtmlxDblCalendarObject.prototype.setHeader=function(d,f,e){this.leftCalendar.options.isWinHeader=this.options.isWinHeader=d;this.leftCalendar.options.isWinDrag=this.options.isWinDrag=f;if(e){this.options.headerButtons=this.leftCalendar.options.headerButtons=e}if(this.isAutoDraw){this.drawHeader()}};dhtmlxDblCalendarObject.prototype.setYearsRange=function(h,d){var f=[this.leftCalendar,this.rightCalendar];for(var g=0;g<f.length;g++){f[g].options.yearsRange=[parseInt(h),parseInt(d)];f[g].allYears=[];for(var e=h;e<=d;e++){f[g].allYears.push(e)}}};dhtmlxDblCalendarObject.prototype.show=function(){this.parent.style.display="block"};dhtmlxDblCalendarObject.prototype.hide=function(){this.parent.style.display="none"};dhtmlxDblCalendarObject.prototype.createStructure=function(){if(this.options.isWinHeader){var d=this.entBox.insertRow(0).insertCell(0);d.colSpan=2;d.align="right";this.winHeader=document.createElement("DIV");d.appendChild(this.winHeader)}this.setParent(this.con)};dhtmlxDblCalendarObject.prototype.draw=function(d){if(!this.parent){this.createStructure()}this.drawHeader();this.leftCalendar.draw(d);this.rightCalendar.draw(d);this.isAutoDraw=true};dhtmlxDblCalendarObject.prototype.loadUserLanguage=function(e,d){this.numLoaded=0;if(d){this.onLanguageLoaded=d}this.leftCalendar.loadUserLanguage(e,this.languageLoaded);this.rightCalendar.loadUserLanguage(e,this.languageLoaded)};dhtmlxDblCalendarObject.prototype.languageLoaded=function(d){var e=this._dblC;e.numLoaded++;if(e.numLoaded==2){for(param in this.options){e.options[param]=this.options[param]}if(this.isAutoDraw){e.drawHeader()}if(e.onLanguageLoaded){e.onLanguageLoaded(d)}}};dhtmlxDblCalendarObject.prototype.setParent=function(d){if(d){this.parent=d;this.parent.style.display="block";this.parent.appendChild(this.entObj)}};dhtmlxDblCalendarObject.prototype.setOnClickHandler=function(d){this.doOnClick=d};dhtmlxDblCalendarObject.prototype.doOnCLeftClick=function(d){this._dblC.rightCalendar.setSensitive(d,null);if(this._dblC.doOnClick){this._dblC.doOnClick(d,this,"left")}return true};dhtmlxDblCalendarObject.prototype.doOnCRightClick=function(d){this._dblC.leftCalendar.setSensitive(null,d);if(this._dblC.doOnClick){this._dblC.doOnClick(d,this,"right")}return true};dhtmlxDblCalendarObject.prototype.setSensitive=function(){this.rightCalendar.setSensitive(null,this.leftCalendar.date);this.leftCalendar.setSensitive(this.rightCalendar.date,null)};dhtmlxDblCalendarObject.prototype.minimize=function(){if(!this.winHeader){return}var d=this.winHeader.parentNode.parentNode.nextSibling;d.parentNode.parentNode.style.width=parseInt(d.parentNode.parentNode.offsetWidth)+"px";if(d){d.style.display=(d.style.display=="none")?"block":"none"}};dhtmlxDblCalendarObject.prototype.setDate=function(e,d){this.leftCalendar.setDate(e);this.rightCalendar.setDate(d);this.leftCalendar.setSensitive(null,this.rightCalendar.date);this.rightCalendar.setSensitive(this.leftCalendar.date,null)};dhtmlxDblCalendarObject.prototype.setDateFormat=function(d){this.leftCalendar.setDateFormat(d);this.rightCalendar.setDateFormat(d)};dhtmlxDblCalendarObject.prototype.isVisible=function(){return(this.parent.style.display=="block"?true:false)};dhtmlxDblCalendarObject.prototype.setHolidays=function(d){this.leftCalendar.setHolidays(d);this.rightCalendar.setHolidays(d)};function dhtmlxCalendarObject(contId,isAutoDraw,options){this.isAutoDraw=isAutoDraw;this.contId=contId;this.scriptName="dhtmlxcalendar.js";this.date=this.cutTime(new Date());this.selDate=this.cutTime(new Date());this.curDate=this.cutTime(new Date());this.entObj=document.createElement("DIV");this.monthPan=document.createElement("TABLE");this.dlabelPan=document.createElement("TABLE");this.daysPan=document.createElement("TABLE");this.parent=null;this.style="dhtmlxcalendar";this.skinName="";this.doOnClick=null;this.sensitiveFrom=null;this.sensitiveTo=null;this.activeCell=null;this.hotCell=null;this.winHeader=null;this.onLanguageLoaded=null;this.dragging=false;this.minimized=false;this.winTitle="Calendar header";this.uid="sc&Cal"+Math.round(1000000*Math.random());this.holidays=new Array();this.dhx_Event();this.options={btnPrev:"&laquo;",btnBgPrev:null,btnNext:"&raquo;",btnBgNext:null,yearsRange:[1900,2100],isMonthEditable:false,isYearEditable:false,isWinHeader:false,headerButtons:"TMX",isWinDrag:true,style:{zindex:"99"}};defLeng={langname:"en-us",dateformat:"%Y-%m-%d",monthesFNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthesSNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFNames:["Sunday","Monday","Tuesday","Wednday","Thursday","Friday","Saturday"],daysSNames:["Su","Mo","Tu","We","Th","Fr","Sa"],weekend:[0,6],weekstart:0,msgClose:"Close",msgMinimize:"Minimize",msgToday:"Today",msgClear:"Clear"};if(!window.dhtmlxCalendarLangModules){window.dhtmlxCalendarLangModules={}}window.dhtmlxCalendarLangModules["en-us"]=defLeng;if(window.dhtmlxCalendarObjects){window.dhtmlxCalendarObjects[window.dhtmlxCalendarObjects.length]=this}else{window.dhtmlxCalendarObjects=[this]}for(lg in defLeng){this.options[lg]=defLeng[lg]}if(options){for(param in options){this.options[param]=options[param]}}this.loadUserLanguage();if(options){for(param in options){this.options[param]=options[param]}}this.allYears=Array();with(this.options){for(var i=yearsRange[0];i<=yearsRange[1];i++){this.allYears.push(i)}}if(isAutoDraw!==false){this.draw(options)}return this}dhtmlxCalendarObject.prototype.setHeader=function(isVisible,isDrag,btnsOpt){with(this.options){isWinHeader=isVisible;isWinDrag=isDrag;if(btnsOpt){headerButtons=btnsOpt}}};dhtmlxCalendarObject.prototype.setYearsRange=function(f,d){this.options.yearsRange=[parseInt(f),parseInt(d)];this.allYears=[];for(var e=f;e<=d;e++){this.allYears.push(e)}};dhtmlxCalendarObject.prototype.createStructure=function(){var self=this;this.entObj.className=this.style;if(this.options.isWinHeader){this.winHeader=document.createElement("DIV");this.entObj.appendChild(this.winHeader)}this.entBox=document.createElement("TABLE");this.entBox.className="entbox";with(this.entBox){cellPadding="0px";cellSpacing="0px";width="100%"}this.entObj.appendChild(this.entBox);var monthBox=this.entBox.insertRow(0).insertCell(0);with(this.monthPan){cellPadding="1px";cellSpacing="0px";width="100%";align="center"}this.monthPan.className="dxcalmonth";monthBox.appendChild(this.monthPan);var dlabelBox=this.entBox.insertRow(1).insertCell(0);dlabelBox.appendChild(this.dlabelPan);with(this.dlabelPan){cellPadding="0px";cellSpacing="0px";width="100%";align="center"}this.dlabelPan.className="dxcaldlabel";var daysBox=this.entBox.insertRow(2).insertCell(0);daysBox.appendChild(this.daysPan);with(this.daysPan){cellPadding="1px";cellSpacing="0px";width="100%";align="center"}if(_isIE||_isKHTML){this.daysPan.className="dxcaldays_ie"}else{this.daysPan.className="dxcaldays"}this.daysPan.onmousemove=function(e){self.doHotKeys(e)};this.daysPan.onmouseout=function(){self.endHotKeys()};if(typeof(this.contId)!="string"){this.con=this.contId}else{this.con=document.getElementById(this.contId)}if(this.con.nodeName=="INPUT"){var div=document.createElement("DIV");var aleft=getAbsoluteLeft(this.con);var atop=getAbsoluteTop(this.con);with(div.style){position="absolute";display="none";marginLeft=this.con.offsetWidth+"px";top=atop;left=aleft;zIndex=this.options.style.zindex}this.setParent(div);document.body.appendChild(div);this.con.onclick=function(){if(self.isVisible()){self.hide()}else{self.show()}};this.con._c=this.parent;this.doOnClick=function(date){self.con.value=self.getFormatedDate(self.options.dateformat,date);self.hide();self.con.focus();return true};this.con.onkeydown=function(e){if((e||window.event).keyCode==27){self.hide()}else{if((e||window.event).keyCode==13){self.show()}}}}else{this.setParent(this.con)}};dhtmlxCalendarObject.prototype.drawHeader=function(){if(this._dblC){return}if(!this.options.isWinHeader){return}var e=this;if(!this.winHeader){return false}while(this.winHeader.hasChildNodes()){this.winHeader.removeChild(this.winHeader.firstChild)}this.winHeader.className="dhtmlxcalendarHeader";this.winHeader.onselectstart=function(){return false};var g=document.createElement("SPAN");g.className="winTitle";g.appendChild(document.createTextNode(this.winTitle));g.setAttribute("title",this.winTitle);this.winHeader.appendChild(g);if(this.options.isWinDrag){this.winHeader.onmousedown=function(l){e.startDrag(l)}}if(this.con.nodeName!="INPUT"){if(this.options.headerButtons.indexOf("M")>=0){this.options.headerButtons="M"}else{this.options.headerButtons=""}}if(this.options.headerButtons.indexOf("X")>=0){var k=document.createElement("DIV");k.className="btn_close";k.setAttribute("title",this.options.msgClose);k.onmousedown=function(l){l=l||event;e.hide();if(l.stopPropagation){l.stopPropagation()}else{l.cancelBubble=true}};this.winHeader.appendChild(k)}if(this.options.headerButtons.indexOf("M")>=0){var h=document.createElement("DIV");h.className="btn_mini";h.setAttribute("title",this.options.msgMinimize);h.onmousedown=function(l){l=l||event;e.minimize();if(l.stopPropagation){l.stopPropagation()}else{l.cancelBubble=true}};this.winHeader.appendChild(h)}if(this.options.headerButtons.indexOf("C")>=0){var d=document.createElement("DIV");d.className="btn_clr";d.setAttribute("title",this.options.msgClear);d.onmousedown=function(l){l=l||event;if(l.stopPropagation){l.stopPropagation()}else{l.cancelBubble=true}e.con.value="";e.hide()};this.winHeader.appendChild(d)}if(this.options.headerButtons.indexOf("T")>=0){var f=document.createElement("DIV");f.className="btn_today";f.setAttribute("title",this.options.msgToday);f.onmousedown=function(l){l=l||event;if(l.stopPropagation){l.stopPropagation()}else{l.cancelBubble=true}e.setDate(new Date());if(e.doOnClick){e.doOnClick(new Date())}};this.winHeader.appendChild(f)}};dhtmlxCalendarObject.prototype.drawMonth=function(){var self=this;if(this.monthPan.childNodes.length>0){this.monthPan.removeChild(this.monthPan.childNodes[0])}var row=this.monthPan.insertRow(0);var cArLeft=row.insertCell(0);var cContent=row.insertCell(1);var cArRight=row.insertCell(2);cArLeft.align="left";cArLeft.className="month_btn_left";var btnLabel=document.createElement("SPAN");btnLabel.innerHTML=this.options.btnPrev;cArLeft.appendChild(btnLabel);cArLeft.onclick=function(){self.prevMonth()};cArRight.align="right";cArRight.className="month_btn_right";var btnLabel=document.createElement("SPAN");btnLabel.innerHTML=this.options.btnNext;cArRight.appendChild(btnLabel);cArRight.onclick=function(){self.nextMonth()};cContent.align="center";var mHeader=document.createElement("TABLE");with(mHeader){cellPadding="0px";cellSpacing="0px";align="center"}var mRow=mHeader.insertRow(0);var cMonth=mRow.insertCell(0);var cComma=mRow.insertCell(1);var cYear=mRow.insertCell(2);cContent.appendChild(mHeader);this.planeMonth=document.createElement("DIV");this.planeMonth._c=this;this.planeMonth.appendChild(document.createTextNode(this.options.monthesFNames[this.date.getMonth()]));this.planeMonth.className="planeMonth";cMonth.appendChild(this.planeMonth);if(this.options.isMonthEditable){this.planeMonth.style.cursor="pointer";this.editorMonth=new dhtmlxRichSelector({nodeBefore:this.planeMonth,valueList:[0,1,2,3,4,5,6,7,8,9,10,11],titleList:this.options.monthesFNames,activeValue:this.options.monthesFNames[this.date.getMonth()],onSelect:this.onMonthSelect});this.editorMonth._c=this}cComma.appendChild(document.createTextNode(","));cComma.className="comma";this.planeYear=document.createElement("DIV");this.planeYear._c=this;this.planeYear.appendChild(document.createTextNode(this.date.getFullYear()));this.planeYear.className="planeYear";cYear.appendChild(this.planeYear);if(this.options.isYearEditable){this.planeYear.style.cursor="pointer";this.editorYear=new dhtmlxRichSelector({nodeBefore:this.planeYear,valueList:this.allYears,titleList:this.allYears,activeValue:this.date.getFullYear(),onSelect:this.onYearSelect,isOrderedList:true,isNumbersList:true,isAllowUserValue:true});this.editorYear._c=this}};dhtmlxCalendarObject.prototype.drawDayLabels=function(){var d=this;if(this.dlabelPan.childNodes.length>0){this.dlabelPan.removeChild(this.dlabelPan.childNodes[0])}var g=this.dlabelPan.insertRow(-1);g.className="daynames";for(var e=0;e<7;e++){var f=g.insertCell(e);f.appendChild(document.createTextNode(this.getDayName(e)))}};dhtmlxCalendarObject.prototype.drawDays=function(){var n=this;if(this.daysPan.childNodes.length>0){this.daysPan.removeChild(this.daysPan.childNodes[0])}var o={},m={};var e=new Date(this.date);e.setDate(1);var l=(e.getDay()-this.options.weekstart)%7;if(l<0){l+=7}e.setDate(-l);e.setDate(e.getDate()+1);if(e.getDate()<e.getDay()){e.setMonth(e.getMonth()-1)}for(var d=0;d<6;d++){o=this.daysPan.insertRow(-1);for(var g=0;g<7;g++){m=o.insertCell(-1);m.setAttribute("id",this.uid+e.getFullYear()+e.getMonth()+e.getDate());m.appendChild(document.createTextNode(e.getDate()));m.thisdate=e.toString();m.className="thismonth";if(e.getMonth()!=this.date.getMonth()){m.className="othermonth"}if(this.sensitiveFrom&&(e.valueOf()<this.sensitiveFrom.valueOf())){m.className=m.className+" insensitive";e.setDate(e.getDate()+1);continue}if(this.sensitiveTo&&(e.valueOf()>this.sensitiveTo.valueOf())){m.className=m.className+" insensitive";e.setDate(e.getDate()+1);continue}if(this.isWeekend(g)&&e.getMonth()==this.date.getMonth()){m.className="weekend"}if(e.toDateString()==this.curDate.toDateString()){m.className="current"}if(e.toDateString()==this.selDate.toDateString()){this.activeCell=m;this.addClass(m,"selected")}if(this.holidays.length>0){for(var k=0;k<this.holidays.length;k++){var f=(this.holidays[k].indexOf(".")!=-1?this.holidays[k].toString().split("."):this.holidays[k].toString().split("-"));if(f.length==2){if(f[0].substr(0,1)=="0"){f[0]=f[0].substr(1,1)}if(f[1].substr(0,1)=="0"){f[1]=f[1].substr(1,1)}if(f[1]==e.getDate()&&f[0]==(e.getMonth()+1)){m.className=m.className+" holiday"}}else{if(f.length==3){if(f[2].substr(0,1)=="0"){f[2]=f[2].substr(1,1)}if(f[1].substr(0,1)=="0"){f[1]=f[1].substr(1,1)}if(f[2]==e.getDate()&&f[1]==(e.getMonth()+1)&&f[0]==e.getFullYear()){m.className=m.className+" holiday"}}}}}m.onclick=function(){if(!n.doOnClick||n.doOnClick(this.thisdate)){n.setDate(this.thisdate);n.callEvent("onClick",[this.thisdate])}};e.setDate(e.getDate()+1)}}};dhtmlxCalendarObject.prototype.draw=function(e){var d=this;if(this.loadingLanguage){setTimeout(function(){d.draw(e);return},20);return}else{if(!this.parent){this.createStructure(e)}}this.drawHeader();this.drawMonth();this.drawDayLabels();this.drawDays();this.isAutoDraw=true};dhtmlxCalendarObject.prototype.startDrag=function(e){e=e||event;if((e.button===0)||(e.button===1)){if(this.dragging){this.stopDrag(e)}this.drag_mx=e.clientX;this.drag_my=e.clientY;this.drag_spos=this.getPosition(this.parent);document.body.appendChild(this.parent);with(this.parent.style){left=this.drag_spos[0]+"px";top=this.drag_spos[1]+"px";margin="0px";position="absolute"}this.bu_onmousemove=document.body.onmousemove;var self=this;document.body.onmousemove=function(e){self.onDrag(e)};this.bu_onmouseup=document.body.onmouseup;document.body.onmouseup=function(e){self.stopDrag(e)};this.dragging=true}};dhtmlxCalendarObject.prototype.onDrag=function(d){d=d||event;if((d.button===0)||(d.button===1)){var g=this.drag_mx-d.clientX;var f=this.drag_my-d.clientY;this.parent.style.left=this.drag_spos[0]-g+"px";this.parent.style.top=this.drag_spos[1]-f+"px";if(_isIE){this.ifr.style.left=this.parent.style.left;this.ifr.style.top=this.parent.style.top}}else{this.stopDrag(d)}};dhtmlxCalendarObject.prototype.stopDrag=function(d){d=d||event;document.body.onmouseup=(this.bu_onmouseup===window.undefined)?null:this.bu_onmouseup;document.body.onmousemove=(this.bu_onmousemove===window.undefined)?null:this.bu_onmousemove;this.dragging=false};dhtmlxCalendarObject.prototype.doHotKeys=function(f){f=f||event;var d=((f.target)?f.target:f.srcElement);if(d.className.toString().indexOf("insensitive")>=0){this.endHotKeys()}else{if(this.hotCell){this.resetHotClass(this.hotCell)}this.addClass(d,"hover");this.hotCell=d}};dhtmlxCalendarObject.prototype.endHotKeys=function(){if(this.hotCell){this.resetHotClass(this.hotCell);this.hotCell=null}};dhtmlxCalendarObject.prototype.minimize=function(){if(!this.winHeader){return}this.entBox.style.display=(this.entBox.style.display=="none")?"block":"none";if(!this.minimized){this.entObj.className=(this.skinName!=""?this.style+"_"+this.skinName+" "+this.style+"_"+this.skinName:this.style+" "+this.style)+"_minimized"}else{this.entObj.className=(this.skinName!=""?this.style+"_"+this.skinName:this.style)}if(_isIE){this.ifr.style.width=this.entObj.offsetWidth;this.ifr.style.height=this.entObj.offsetHeight}this.minimized=!this.minimized};dhtmlxCalendarObject.prototype.loadUserLanguage=function(f,g){if(g){this.onLanguageLoaded=g}if(!f){f="en-us"}this.loadingLanguage=f;if(!f){this.loadUserLanguageCallback(false);return}if(f==this.options.langname){this.loadUserLanguageCallback(true);return}var l=window.dhtmlxCalendarLangModules;if(l[f]){for(lg in l[f]){this.options[lg]=l[f][lg]}this.loadUserLanguageCallback(true);return}var d,n=null;var e=document.getElementsByTagName("SCRIPT");for(var h=0;h<e.length;h++){if(d=e[h].getAttribute("src")){if(d.indexOf(this.scriptName)>=0){n=d.substr(0,d.indexOf(this.scriptName));break}}}if(n===null){this.loadUserLanguageCallback(false);return}this.options.langname=f;var k=n+"lang/"+f+".js";for(var h=0;h<e.length;h++){if(d=e[h].getAttribute("src")){if(d==k){return}}}var m=document.createElement("SCRIPT");m.setAttribute("language","Java-Script");m.setAttribute("type","text/javascript");m.setAttribute("src",k);document.body.appendChild(m)};dhtmlxCalendarObject.prototype.loadUserLanguageCallback=function(d){this.loadingLanguage=null;if(this.isAutoDraw!==false){this.draw()}if(this.onLanguageLoaded&&(typeof(this.onLanguageLoaded)=="function")){this.onLanguageLoaded(d)}};function loadLanguageModule(f){var e=window.dhtmlxCalendarObjects;for(var d=0;d<e.length;d++){if(e[d].loadingLanguage==f.langname){for(lg in f){e[d].options[lg]=f[lg]}e[d].loadUserLanguageCallback(true)}}window.dhtmlxCalendarLangModules[f.langname]=f}dhtmlxCalendarObject.prototype.show=function(){this.parent.style.display="";if(_isIE){this.parent.style.width="0px";this.parent.style.height="0px";if(this.parent.style.zIndex==0){this.parent.style.zIndex=10}if(this.parent.style.position=="absolute"&&this.ifr==undefined){this.ifr=document.createElement("IFRAME");this.ifr.style.position="absolute";this.ifr.style.zIndex="0";this.ifr.frameBorder="no";this.ifr.src=window.dhx_globalImgPath+"/blank.html";this.ifr.style.top=this.entObj.style.top;this.ifr.style.left=this.entObj.style.left;this.ifr.className=this.style+"_ifr";this.ifr.style.className=this.style;this.parent.appendChild(this.ifr)}}};dhtmlxCalendarObject.prototype.hide=function(){this.parent.style.display="none";if(this.ifr!=undefined){this.ifr.parentNode.removeChild(this.ifr);this.ifr=undefined}};dhtmlxCalendarObject.prototype.setDateFormat=function(d){this.options.dateformat=d};dhtmlxCalendarObject.prototype.isWeekend=function(d){var f=d+this.options.weekstart;if(f>6){f-=7}for(var e=0;e<this.options.weekend.length;e++){if(this.options.weekend[e]==f){return true}}return false};dhtmlxCalendarObject.prototype.getDayName=function(d){var e=d+this.options.weekstart;if(e>6){e=e-7}return this.options.daysSNames[e]};dhtmlxCalendarObject.prototype.cutTime=function(e){e=new Date(e);var d=new Date(e.getFullYear(),e.getMonth(),e.getDate());return d};dhtmlxCalendarObject.prototype.onYearSelect=function(d){this._c.date=new Date(this._c.date);if(!isNaN(d)){this._c.date=new Date(this._c.date.setFullYear(d))}this._c.draw();return(!isNaN(d))};dhtmlxCalendarObject.prototype.onMonthSelect=function(d){this._c.date=new Date(this._c.date.setMonth(d));this._c.draw();return true};dhtmlxCalendarObject.prototype.setParent=function(d){if(d){this.parent=d;this.parent.appendChild(this.entObj)}};dhtmlxCalendarObject.prototype.setDate=function(e){dateTmp=this.setFormatedDate(this.options.dateformat,e);this.draw();if(isNaN(dateTmp)||dateTmp==null){e=new Date(e)}else{e=dateTmp}if((e.getFullYear()==this.date.getFullYear())&&(e.getMonth()==this.date.getMonth())){this.date=new Date(this.cutTime(e));this.selDate=new Date(this.cutTime(e));var d=document.getElementById(this.uid+e.getFullYear()+e.getMonth()+e.getDate());if(d){this.resetClass(this.activeCell);this.addClass(d,"selected");this.activeCell=d}}else{this.date=new Date(this.cutTime(e));this.selDate=new Date(this.cutTime(e));if(this.isAutoDraw){this.draw()}}};dhtmlxCalendarObject.prototype.addClass=function(e,d){e.className+=" "+d};dhtmlxCalendarObject.prototype.resetClass=function(d){d.className=d.className.toString().split(" ")[0]};dhtmlxCalendarObject.prototype.resetHotClass=function(d){d.className=d.className.toString().replace(/hover/,"")};dhtmlxCalendarObject.prototype.setSkin=function(d){this.entObj.className=this.style;this.skinName=d;this.addClass(this.entObj,this.style+(d?"_":"")+d+(this.minimized?" "+this.style+(d?"_"+d:"")+"_minimized":""));if(_isIE&&this.ifr!=undefined){this.ifr.className=this.style+(d?"_":"")+d+"_ifr"}};dhtmlxCalendarObject.prototype.getDate=function(){return this.selDate.toString()};dhtmlxCalendarObject.prototype.nextMonth=function(){this.date=new Date(this.date);this.date=new Date(this.date.setMonth(this.date.getMonth()+1));if(this.isAutoDraw){this.draw()}};dhtmlxCalendarObject.prototype.prevMonth=function(){this.date=new Date(this.date);this.date=new Date(this.date.setMonth(this.date.getMonth()-1));if(this.isAutoDraw){this.draw()}};dhtmlxCalendarObject.prototype.setOnClickHandler=function(d){this.doOnClick=d};dhtmlxCalendarObject.prototype.setPosition=function(k,h,e){if(typeof(k)=="object"){var d=this.getPosition(k);var g=d[0]+k.offsetWidth+(e||0);var f=d[1]+(h||0)}this.entObj.style.position="absolute";this.entObj.style.top=(f||k)+"px";this.entObj.style.left=(g||h)+"px"};dhtmlxCalendarObject.prototype.close=function(d){this.entObj.parentNode.removeChild(true)};dhtmlxCalendarObject.prototype.getPosition=function(h,e){if(!e){var e=document.body}var d=h;var g=0;var f=0;while((d)&&(d!=e)){g+=d.offsetLeft-d.scrollLeft;f+=d.offsetTop-d.scrollTop;d=d.offsetParent}if(e==document.body){if(_isIE){if(document.documentElement.scrollTop){f+=document.documentElement.scrollTop}if(document.documentElement.scrollLeft){g+=document.documentElement.scrollLeft}}else{if(!_isFF){g+=document.body.offsetLeft;f+=document.body.offsetTop}}}return new Array(g,f)};dhtmlxCalendarObject.prototype.getFormatedDate=function(e,g){if(!e){e=this.options.dateformat}if(!g){g=this.selDate}g=new Date(g);var f="";var l=true;for(var k=0;k<e.length;k++){var h=e.substr(k,1);if(l){if(h=="%"){l=false;continue}f+=h}else{switch(h){case"e":h=g.getDate();break;case"d":h=g.getDate();if(h.toString().length==1){h="0"+h}break;case"j":var d=new Date(g.getFullYear(),0,0,0,0,0,0);h=Math.ceil((g.valueOf()-d.valueOf())/1000/60/60/24-1);while(h.toString().length<3){h="0"+h}break;case"a":h=this.options.daysSNames[g.getDay()];break;case"W":h=this.options.daysFNames[g.getDay()];break;case"c":h=1+g.getMonth();break;case"m":h=1+g.getMonth();if(h.toString().length==1){h="0"+h}break;case"b":h=this.options.monthesSNames[g.getMonth()];break;case"M":h=this.options.monthesFNames[g.getMonth()];break;case"y":h=g.getFullYear();h=h.toString().substr(2);break;case"Y":h=g.getFullYear()}f+=h;l=true}}return f};dhtmlxCalendarObject.prototype.setFormatedDate=function(s,h){if(!h){return false}if(!s){s=this.options.dateformat}h=h.toString();function k(w){var t=new Array(this.options.monthesSNames,this.options.monthesFNames);for(var u=0;u<t.length;u++){for(var v=0;v<t[u].length;v++){if(t[u][v].indexOf(w)==0){return v}}}return -1}var n=new Date(2008,0,1);var l=0;for(var m=0;m<s.length;m++){var q=s.substr(m,1);if(q=="%"){var r=s.substr(m+1,1);var e=s.indexOf("%",m+1);var d=s.substr(m+2,e-m-1-1);var f=h.indexOf(d,l);if(d==""){f=h.length}if(f==-1){return null}var p=h.substr(l,f-l);l=f+d.length;switch(r){case"d":case"e":n.setDate(parseFloat(p));break;case"c":case"m":n.setMonth(parseFloat(p)-1);break;case"M":var g=k.call(this,p);if(g!=-1){n.setMonth(parseFloat(g))}else{return null}break;case"b":var g=k.call(this,p);if(g!=-1){n.setMonth(parseFloat(g))}else{return null}break;case"Y":n.setFullYear(parseFloat(p));break;case"y":var o=parseFloat(p);n.setFullYear(((o>20)?1900:2000)+o);break}}}this.date=n;this.selDate=n;return this.selDate};dhtmlxCalendarObject.prototype.setSensitive=function(e,d){if(e){this.sensitiveFrom=this.cutTime(e)}if(d){this.sensitiveTo=this.cutTime(d)}if(this.isAutoDraw){this.draw()}};function dhtmlxRichSelector(parametres){for(x in parametres){this[x]=parametres[x]}this.initValue=this.activeValue;if(!this.selectorSize){this.selectorSize=7}var self=this;this.blurTimer=null;this.nodeBefore.onclick=function(){self.show()};this.editor=document.createElement("TEXTAREA");this.editor.value=this.activeValue;this.editor._s=this;this.editor.className="dhtmlxRichSelector";this.editor.onfocus=this.onFocus;this.editor.onblur=this.onBlur;this.editor.onkeydown=this.onKeyDown;this.editor.onkeyup=this.onKeyUp;this.selector=document.createElement("SELECT");this.selector.size=this.selectorSize;this.selector.className="dhtmlxRichSelector";if(this.valueList){for(var i=0;i<this.valueList.length;i++){this.selector.options[i]=new Option(this.titleList[i],this.valueList[i],false,false)}}this.selector._s=this;this.selector.onfocus=this.onFocus;this.selector.onblur=this.onBlur;this.selector.onclick=function(){self.onSelect(self.selector.value)};this.selector.getIndexByValue=function(Value,isFull){var Select=this;Value=Value.toString().toUpperCase();if(!isFull){isFull=false}for(var i=0;i<Select.length;i++){var i_value=Select[i].text.toUpperCase();if(isFull){if(i_value==Value){return i}}else{if(i_value.indexOf(Value)==0){return i}}}if(Select._s.isOrderedList){if(Select._s.isNumbersList){if(isNaN(Value)){return -1}}i_value=Select[0].text.substring(0,Value.length).toUpperCase();if(i_value>Value){return 0}i_value=Select[Select.length-1].text.substring(0,Value.length);if(i_value<Value){return Select.length-1}}return -1};this.con=document.createElement("DIV");this.con.className="dhtmlxRichSelector";with(this.con.style){width="auto";display="none"}this.con.appendChild(this.editor);this.con.appendChild(this.selector);this.nodeBefore.parentNode.insertBefore(this.con,this.nodeBefore);return this}dhtmlxRichSelector.prototype.show=function(){this.con.style.display="block";with(this.selector.style){marginTop=parseInt(this.nodeBefore.offsetHeight)+"px";width="auto"}with(this.editor.style){width=parseInt(this.nodeBefore.offsetWidth)+15+"px";height=parseInt(this.nodeBefore.offsetHeight)+"px"}this.selector.selectedIndex=this.selector.getIndexByValue(this.activeValue);this.editor.focus()};dhtmlxRichSelector.prototype.hide=function(){this.con.style.display="none"};dhtmlxRichSelector.prototype.onBlur=function(){var d=this._s;d.blurTimer=setTimeout(function(){if(d.isAllowUserValue){if(d.onSelect(d.editor.value)){d.activeValue=d.editor.value}}else{if(d.onSelect(d.selector.value)){d.activeValue=d.selector.value}}},10)};dhtmlxRichSelector.prototype.onFocus=function(){var d=this._s;if(d.blurTimer){clearTimeout(d.blurTimer);d.blurTimer=null}if(this===this._s.selector){d.editor.focus()}};dhtmlxRichSelector.prototype.onKeyDown=function(g){var d=this._s;var g=g||event;var f=true;switch(g.keyCode){case 33:if(d.selector.selectedIndex<d.selector.size){d.selector.selectedIndex=0}else{d.selector.selectedIndex-=parseInt(d.selector.size)-1}break;case 34:if(d.selector.length-d.selector.selectedIndex<d.selector.size){d.selector.selectedIndex=d.selector.length-1}else{d.selector.selectedIndex+=parseInt(d.selector.size)-1}break;case 35:if(g.ctrlKey){d.selector.selectedIndex=d.selector.length-1}break;case 36:if(g.ctrlKey){d.selector.selectedIndex=0}break;case 38:if(d.selector.selectedIndex==0){}else{d.selector.selectedIndex-=1}break;case 40:if(d.selector.selectedIndex==d.selector.length-1){}else{d.selector.selectedIndex+=1}break;default:f=false}if(f){d.editor.value=d.selector.options[d.selector.selectedIndex].text;d.editor.focus()}};dhtmlxRichSelector.prototype.onKeyUp=function(g){var f=this._s;var g=g||event;switch(g.keyCode){case 13:f.editor.blur();break;case 27:f.editor.value=f.initValue;f.selector.selectedIndex=f.selector.getIndexByValue(f.initValue,true);f.editor.blur();break;default:var d=f.selector.getIndexByValue(f.editor.value);if(d>=0){f.selector.selectedIndex=d}}};dhtmlxCalendarObject.prototype.dhx_Event=function(){this.dhx_SeverCatcherPath="";this.attachEvent=function(original,catcher,CallObj){CallObj=CallObj||this;original="ev_"+original;if((!this[original])||(!this[original].addEvent)){var z=new this.eventCatcher(CallObj);z.addEvent(this[original]);this[original]=z}return(original+":"+this[original].addEvent(catcher))};this.callEvent=function(name,arg0){if(this["ev_"+name]){return this["ev_"+name].apply(this,arg0)}return true};this.checkEvent=function(name){if(this["ev_"+name]){return true}return false};this.eventCatcher=function(obj){var dhx_catch=new Array();var m_obj=obj;var func_server=function(catcher,rpc){catcher=catcher.split(":");var postVar="";var postVar2="";var target=catcher[1];if(catcher[1]=="rpc"){postVar='<?xml version="1.0"?><methodCall><methodName>'+catcher[2]+"</methodName><params>";postVar2="</params></methodCall>";target=rpc}var z=function(){};return z};var z=function(){if(dhx_catch){var res=true}for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]!=null){var zr=dhx_catch[i].apply(m_obj,arguments);res=res&&zr}}return res};z.addEvent=function(ev){if(typeof(ev)!="function"){if(ev&&ev.indexOf&&ev.indexOf("server:")==0){ev=new func_server(ev,m_obj.rpcServer)}else{ev=eval(ev)}}if(ev){return dhx_catch.push(ev)-1}return false};z.removeEvent=function(id){dhx_catch[id]=null};return z};this.detachEvent=function(id){if(id!=false){var list=id.split(":");this[list[0]].removeEvent(list[1])}}};dhtmlxCalendarObject.prototype.isVisible=function(){return(this.parent.style.display==""?true:false)};dhtmlxCalendarObject.prototype.setHolidays=function(d){this.holidays=d.toString().split(",")};var globalActiveDHTMLGridObject;String.prototype._dhx_trim=function(){return this.replace(/&nbsp;/g," ").replace(/(^[ \t]*)|([ \t]*$)/g,"")};function dhtmlxArray(d){return dhtmlXHeir((d||new Array()),dhtmlxArray._master)}dhtmlxArray._master={_dhx_find:function(e){for(var d=0;d<this.length;d++){if(e==this[d]){return d}}return -1},_dhx_insertAt:function(f,e){this[this.length]=null;for(var d=this.length-1;d>=f;d--){this[d]=this[d-1]}this[f]=e},_dhx_removeAt:function(d){this.splice(d,1)},_dhx_swapItems:function(d,f){var e=this[d];this[d]=this[f];this[f]=e}};function dhtmlXGridObject(id){if(_isIE){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}if(id){if(typeof(id)=="object"){this.entBox=id;this.entBox.id="cgrid2_"+this.uid()}else{this.entBox=document.getElementById(id)}}else{this.entBox=document.createElement("DIV");this.entBox.id="cgrid2_"+this.uid()}this.dhx_Event();var self=this;this._wcorr=0;this.cell=null;this.row=null;this.editor=null;this._f2kE=true;this._dclE=true;this.combos=new Array(0);this.defVal=new Array(0);this.rowsAr={};this.rowsBuffer=dhtmlxArray();this.rowsCol=dhtmlxArray();this._data_cache={};this._ecache={};this._ud_enabled=true;this.xmlLoader=new dtmlXMLLoaderObject(this.doLoadDetails,this,true,this.no_cashe);this._maskArr=[];this.selectedRows=dhtmlxArray();this.UserData={};this.entBox.className+=" gridbox";this.entBox.style.width=this.entBox.getAttribute("width")||(window.getComputedStyle?(this.entBox.style.width||window.getComputedStyle(this.entBox,null)["width"]):(this.entBox.currentStyle?this.entBox.currentStyle.width:this.entBox.style.width||0))||"100%";this.entBox.style.height=this.entBox.getAttribute("height")||(window.getComputedStyle?(this.entBox.style.height||window.getComputedStyle(this.entBox,null)["height"]):(this.entBox.currentStyle?this.entBox.currentStyle.height:this.entBox.style.height||0))||"100%";this.entBox.style.cursor="default";this.entBox.onselectstart=function(){return false};this.obj=document.createElement("TABLE");this.obj.cellSpacing=0;this.obj.cellPadding=0;this.obj.style.width="100%";this.obj.style.tableLayout="fixed";this.obj.className="c_obj".substr(2);this.hdr=document.createElement("TABLE");this.hdr.style.border="1px solid gray";this.hdr.cellSpacing=0;this.hdr.cellPadding=0;if((!_isOpera)||(_OperaRv>=8.5)){this.hdr.style.tableLayout="fixed"}this.hdr.className="c_hdr".substr(2);this.hdr.width="100%";this.xHdr=document.createElement("TABLE");this.xHdr.className="xhdr";this.xHdr.cellPadding=0;this.xHdr.cellSpacing=0;this.xHdr.style.width="100%";var r=this.xHdr.insertRow(0);var c=r.insertCell(0);r.insertCell(1).innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";r.childNodes[1].style.width="100%";c.appendChild(this.hdr);this.objBuf=document.createElement("DIV");this.objBuf.appendChild(this.obj);this.entCnt=document.createElement("TABLE");this.entCnt.insertRow(0).insertCell(0);this.entCnt.insertRow(1).insertCell(0);this.entCnt.cellPadding=0;this.entCnt.cellSpacing=0;this.entCnt.width="100%";this.entCnt.height="100%";this.entCnt.style.tableLayout="fixed";this.objBox=document.createElement("DIV");this.objBox.style.width="100%";this.objBox.style.height=this.entBox.style.height;this.objBox.style.overflow="auto";this.objBox.style.position="relative";this.objBox.appendChild(this.objBuf);this.objBox.className="objbox";this.hdrBox=document.createElement("DIV");this.hdrBox.style.width="100%";if(((_isOpera)&&(_OperaRv<9))){this.hdrSizeA=25}else{this.hdrSizeA=200}this.hdrBox.style.height=this.hdrSizeA+"px";if(_isIE){this.hdrBox.style.overflowX="hidden"}else{this.hdrBox.style.overflow="hidden"}this.hdrBox.style.position="relative";this.hdrBox.appendChild(this.xHdr);this.preloadImagesAr=new Array(0);this.sortImg=document.createElement("IMG");this.sortImg.style.display="none";this.hdrBox.insertBefore(this.sortImg,this.xHdr);this.entCnt.rows[0].cells[0].vAlign="top";this.entCnt.rows[0].cells[0].appendChild(this.hdrBox);this.entCnt.rows[1].cells[0].appendChild(this.objBox);this.entBox.appendChild(this.entCnt);this.entBox.grid=this;this.objBox.grid=this;this.hdrBox.grid=this;this.obj.grid=this;this.hdr.grid=this;this.cellWidthPX=new Array(0);this.cellWidthPC=new Array(0);this.cellWidthType=this.entBox.cellwidthtype||"px";this.delim=this.entBox.delimiter||",";this._csvDelim=",";this.hdrLabels=[];this.columnIds=[];this.columnColor=[];this.cellType=dhtmlxArray();this.cellAlign=[];this.initCellWidth=[];this.fldSort=[];this.imgURL="./";this.isActive=false;this.isEditable=true;this.useImagesInHeader=false;this.pagingOn=false;this.rowsBufferOutSize=0;this.editHints={imageColumn:"/inconcert/shared/forms/images/formgrid_icoheaderediting.png",enabledOnCells:true,enabledOnColumns:true};dhtmlxEvent(window,"unload",function(){try{self.destructor()}catch(e){}});this.setSkin=function(name){this.entBox.className="gridbox gridbox_"+name;this.enableAlterCss("ev_"+name,"odd_"+name,this.isTreeGrid());this._fixAlterCss();this._sizeFix=this._borderFix=0;switch(name){case"clear":this._topMb=document.createElement("DIV");this._topMb.className="topMumba";this._topMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinC_top_left.gif'><img style='right:0px' src='"+this.imgURL+"skinC_top_right.gif'>";this.entBox.appendChild(this._topMb);this._botMb=document.createElement("DIV");this._botMb.className="bottomMumba";this._botMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinD_bottom_left.gif'><img style='right:0px' src='"+this.imgURL+"skinD_bottom_right.gif'>";this.entBox.appendChild(this._botMb);this.entBox.style.position="relative";this._gcCorr=20;break;case"modern":case"light":this.forceDivInHeader=true;this._sizeFix=1;break;case"xp":this.forceDivInHeader=true;this._srdh=22;this._sizeFix=1;break;case"mt":this._srdh=22;this._sizeFix=1;this._borderFix=(_isIE?1:0);break;case"gray":if((_isIE)&&(document.compatMode!="BackCompat")){this._srdh=22}this._sizeFix=1;this._borderFix=(_isIE?1:0);break;case"sbdark":if(_isFF){this._gcCorr=1}break}if(_isIE&&this.hdr){var d=this.hdr.parentNode;d.removeChild(this.hdr);d.appendChild(this.hdr)}this.setSizes()};if(_isIE){this.preventIECaching(true)}this.dragger=new dhtmlDragAndDropObject();this._doOnScroll=function(e,mode){this.callEvent("onScroll",[this.objBox.scrollLeft,this.objBox.scrollTop]);this.doOnScroll(e,mode)};this.doOnScroll=function(e,mode){this.hdrBox.scrollLeft=this.objBox.scrollLeft;if(this.ftr){this.ftr.parentNode.scrollLeft=this.objBox.scrollLeft}if(mode){return}if(this._srnd){if(this._dLoadTimer){window.clearTimeout(this._dLoadTimer)}this._dLoadTimer=window.setTimeout(function(){self._update_srnd_view()},100)}};this.attachToObject=function(obj){obj.appendChild(this.entBox);this.objBox.style.height=this.entBox.style.height};this.init=function(fl){if((this.isTreeGrid())&&(!this._h2)){this._h2=new dhtmlxHierarchy();if((this._fake)&&(!this._realfake)){this._fake._h2=this._h2}this._tgc={imgURL:null}}if(!this._hstyles){return}this.editStop();this.lastClicked=null;this.resized=null;this.fldSorted=this.r_fldSorted=null;this.gridWidth=0;this.gridHeight=0;this.cellWidthPX=new Array(0);this.cellWidthPC=new Array(0);if(this.hdr.rows.length>0){this.clearAll(true)}var hdrRow=this.hdr.insertRow(0);for(var i=0;i<this.hdrLabels.length;i++){hdrRow.appendChild(document.createElement("TH"));hdrRow.childNodes[i]._cellIndex=i;hdrRow.childNodes[i].style.height="0px"}if(_isIE){hdrRow.style.position="absolute"}else{hdrRow.style.height="auto"}var hdrRow=this.hdr.insertRow(_isKHTML?2:1);hdrRow._childIndexes=new Array();var col_ex=0;for(var i=0;i<this.hdrLabels.length;i++){hdrRow._childIndexes[i]=i-col_ex;if((this.hdrLabels[i]==this.splitSign)&&(i!=0)){if(_isKHTML){hdrRow.insertCell(i-col_ex)}hdrRow.cells[i-col_ex-1].colSpan=(hdrRow.cells[i-col_ex-1].colSpan||1)+1;hdrRow.childNodes[i-col_ex-1]._cellIndex++;col_ex++;hdrRow._childIndexes[i]=i-col_ex;continue}hdrRow.insertCell(i-col_ex);hdrRow.childNodes[i-col_ex]._cellIndex=i;hdrRow.childNodes[i-col_ex]._cellIndexS=i;this.setColumnLabel(i,this.hdrLabels[i])}if(col_ex==0){hdrRow._childIndexes=null}this._cCount=this.hdrLabels.length;if(_isIE){window.setTimeout(function(){self.setSizes()},1)}if(!this.obj.firstChild){this.obj.appendChild(document.createElement("TBODY"))}var tar=this.obj.firstChild;if(!tar.firstChild){tar.appendChild(document.createElement("TR"));tar=tar.firstChild;if(_isIE){tar.style.position="absolute"}else{tar.style.height="auto"}for(var i=0;i<this.hdrLabels.length;i++){tar.appendChild(document.createElement("TH"));tar.childNodes[i].style.height="0px"}}this._c_order=null;if(this.multiLine!=true){this.obj.className+=" row20px"}this.sortImg.style.position="absolute";this.sortImg.style.display="none";this.sortImg.src=this.imgURL+"sort_desc.gif";this.sortImg.defLeft=0;this.entCnt.rows[0].style.display="";if(this.noHeader){this.entCnt.rows[0].style.display="none"}else{this.noHeader=false}if(this._ivizcol){this.setColHidden()}this.attachHeader();this.attachHeader(0,0,"_aFoot");this.setSizes();if(fl){this.parseXML()}this.obj.scrollTop=0;if(this.dragAndDropOff){this.dragger.addDragLanding(this.entBox,this)}if(this._initDrF){this._initD()}if(this._init_point){this._init_point()}};this.setSizes=function(fl){if((!this.hdr.rows[0])){return}if(!this.entBox.offsetWidth){if(this._sizeTime){window.clearTimeout(this._sizeTime)}this._sizeTime=window.setTimeout(function(){self.setSizes()},250);return}if(((_isFF)&&(this.entBox.style.height=="100%"))||(this._fixLater)){this.entBox.style.height=this.entBox.parentNode.clientHeight;this._fixLater=true}if(fl&&this.gridWidth==this.entBox.offsetWidth&&this.gridHeight==this.entBox.offsetHeight){return false}else{if(fl){this.gridWidth=this.entBox.offsetWidth;this.gridHeight=this.entBox.offsetHeight}}if((!this.hdrBox.offsetHeight)&&(this.hdrBox.offsetHeight>0)){this.entCnt.rows[0].cells[0].height=this.hdrBox.offsetHeight+"px"}var gridWidth=parseInt(this.entBox.offsetWidth)-(this._gcCorr||0);var gridHeight=parseInt(this.entBox.offsetHeight)-(this._sizeFix||0);var _isVSroll=(this.objBox.scrollHeight>this.objBox.offsetHeight);if(((!this._ahgr)&&(_isVSroll))||((this._ahgrM)&&(this._ahgrM<this.objBox.scrollHeight))){gridWidth-=(this._scrFix||(_isFF?17:17))}var len=this.hdr.rows[0].cells.length;for(var i=0;i<this._cCount;i++){if(this.cellWidthType=="px"&&this.cellWidthPX.length<len){this.cellWidthPX[i]=this.initCellWidth[i]-this._wcorr}else{if(this.cellWidthType=="%"&&this.cellWidthPC.length<len){this.cellWidthPC[i]=this.initCellWidth[i]}}if(this.cellWidthType=="%"&&this.cellWidthPC.length!=0&&this.cellWidthPC[i]){this.cellWidthPX[i]=parseInt(gridWidth*this.cellWidthPC[i]/100)}}var wcor=this.entBox.offsetWidth-this.entBox.clientWidth;var summ=0;var fcols=new Array();for(var i=0;i<this._cCount;i++){if((this.initCellWidth[i]=="*")&&((!this._hrrar)||(!this._hrrar[i]))){fcols[fcols.length]=i}else{summ+=parseInt(this.cellWidthPX[i])}}if(fcols.length){var ms=Math.floor((gridWidth-summ-wcor)/fcols.length);if(ms<0){ms=1}for(var i=0;i<fcols.length;i++){var min=(this._drsclmW?this._drsclmW[fcols[i]]:0);this.cellWidthPX[fcols[i]]=(min?(min>ms?min:ms):ms)-this._wcorr;summ+=ms}}var summ=0;for(var i=0;i<this._cCount;i++){summ+=parseInt(this.cellWidthPX[i])}if(_isOpera){summ-=1}this.chngCellWidth();if((this._awdth)&&(this._awdth[0])){if(this.cellWidthType=="%"){this.cellWidthType="px";this.cellWidthPC=[]}var gs=(summ>this._awdth[1]?this._awdth[1]:(summ<this._awdth[2]?this._awdth[2]:summ))+this._borderFix*2;if(this._fake){for(var i=0;i<this._fake._cCount;i++){gs+=parseInt(this._fake.cellWidthPX[i])}}this.entBox.style.width=gs+((_isVSroll&&!this._ahgr)?(_isFF?20:18):0)+"px";if(this._fake&&!this._realfake){this._fake._correctSplit()}}this.objBuf.style.width=summ+"px";if((this.ftr)&&(!this._realfake)){this.ftr.style.width=summ+"px"}this.objBuf.childNodes[0].style.width=summ+"px";this.doOnScroll(0,1);this.hdr.style.border="0px solid gray";var zheight=this.hdr.offsetHeight+(this._borderFix?this._borderFix:0);if(this.ftr){zheight+=this.ftr.offsetHeight}if(this._ahgr){if(this.objBox.scrollHeight){if(_isIE){var z2=this.objBox.scrollHeight}else{var z2=this.objBox.childNodes[0].scrollHeight}var scrfix=this.parentGrid?1:((this.objBox.offsetWidth<this.objBox.scrollWidth)?(_isFF?20:18):1);if(this._ahgrMA){z2=this.entBox.parentNode.offsetHeight-zheight-scrfix-(this._sizeFix?this._sizeFix:0)*2}if(((this._ahgrM)&&((this._ahgrF?(z2+zheight+scrfix):z2)>this._ahgrM))){gridHeight=this._ahgrM*1+(this._ahgrF?0:(zheight+scrfix))}else{gridHeight=z2+zheight+scrfix}this.entBox.style.height=gridHeight+"px"}}if(this.ftr){zheight-=this.ftr.offsetHeight}var aRow=this.entCnt.rows[1].cells[0].childNodes[0];if(!this.noHeader){aRow.style.top=(zheight-this.hdrBox.offsetHeight+((_isIE&&!window.XMLHttpRequest)?(-wcor):0))+"px"}if(this._topMb){this._topMb.style.top=(zheight||0)+"px";this._topMb.style.width=(gridWidth+20)+"px"}if(this._botMb){this._botMb.style.top=(gridHeight-3)+"px";this._botMb.style.width=(gridWidth+20)+"px"}aRow.style.height=(((gridHeight-zheight-1)<0&&_isIE)?20:(gridHeight-zheight-1))-(this.ftr?this.ftr.offsetHeight:0)+"px";if(this.ftr&&this.entBox.offsetHeight>this.ftr.offsetHeight){this.entCnt.style.height=this.entBox.offsetHeight-this.ftr.offsetHeight+"px"}if(this._srdh){this.doOnScroll()}};this.chngCellWidth=function(){if((_isOpera)&&(this.ftr)){this.ftr.width=this.objBox.scrollWidth+"px"}var l=this._cCount;for(var i=0;i<l;i++){this.hdr.rows[0].cells[i].style.width=this.cellWidthPX[i]+"px";this.obj.rows[0].childNodes[i].style.width=this.cellWidthPX[i]+"px";if(this.ftr){this.ftr.rows[0].cells[i].style.width=this.cellWidthPX[i]+"px"}}};this.setDelimiter=function(delim){this.delim=delim};this.setInitWidthsP=function(wp){this.cellWidthType="%";this.initCellWidth=wp.split(this.delim.replace(/px/gi,""));this._setAutoResize()};this._setAutoResize=function(){var el=window;var self=this;if(el.addEventListener){if((_isFF)&&(_FFrv<1.8)){el.addEventListener("resize",function(){if(!self.entBox){return}var z=self.entBox.style.width;self.entBox.style.width="1px";window.setTimeout(function(){self.entBox.style.width=z;self.setSizes();if(self._fake){self._fake._correctSplit()}},10)},false)}else{el.addEventListener("resize",function(){if(self.setSizes){self.setSizes()}if(self._fake){self._fake._correctSplit()}},false)}}else{if(el.attachEvent){el.attachEvent("onresize",function(){if(self._resize_timer){window.clearTimeout(self._resize_timer)}if(self.setSizes){self._resize_timer=window.setTimeout(function(){self.setSizes();if(self._fake){self._fake._correctSplit()}},500)}})}}this._setAutoResize=function(){}};this.setInitWidths=function(wp){this.cellWidthType="px";this.initCellWidth=wp.split(this.delim);if(_isFF){for(var i=0;i<this.initCellWidth.length;i++){if(this.initCellWidth[i]!="*"){this.initCellWidth[i]=parseInt(this.initCellWidth[i])-2}}}};this.enableMultiline=function(state){this.multiLine=convertStringToBoolean(state)};this.enableMultiselect=function(state){this.selMultiRows=convertStringToBoolean(state)};this.setImagePath=function(path){this.imgURL=path};this.changeCursorState=function(ev){var el=ev.target||ev.srcElement;if(el.tagName!="TD"){el=this.getFirstParentOfType(el,"TD")}if((el.tagName=="TD")&&(this._drsclmn)&&(!this._drsclmn[el._cellIndex])){return el.style.cursor="default"}var check=ev.layerX+(((!_isIE)&&(ev.target.tagName=="DIV"))?el.offsetLeft:0);if((el.offsetWidth-(ev.offsetX||(parseInt(this.getPosition(el,this.hdrBox))-check)*-1))<10){el.style.cursor="E-resize"}else{el.style.cursor="default"}if(_isOpera){this.hdrBox.scrollLeft=this.objBox.scrollLeft}};this.startColResize=function(ev){this.resized=null;var el=ev.target||ev.srcElement;if(el.tagName!="TD"){el=this.getFirstParentOfType(el,"TD")}var x=ev.clientX;var tabW=this.hdr.offsetWidth;var startW=parseInt(el.offsetWidth);if(el.tagName=="TD"&&el.style.cursor!="default"){if((this._drsclmn)&&(!this._drsclmn[el._cellIndex])){return}this.entBox.onmousemove=function(e){this.grid.doColResize(e||window.event,el,startW,x,tabW)};document.body.onmouseup=new Function("","document.getElementById('"+this.entBox.id+"').grid.stopColResize()")}};this.stopColResize=function(){this.entBox.onmousemove="";document.body.onmouseup="";this.setSizes();this.doOnScroll(0,1);this.callEvent("onResizeEnd",[this])};this.doColResize=function(ev,el,startW,x,tabW){el.style.cursor="E-resize";this.resized=el;var fcolW=startW+(ev.clientX-x);var wtabW=tabW+(ev.clientX-x);if(!(this.callEvent("onResize",[el._cellIndex,fcolW,this]))){return}if(_isIE){this.objBox.scrollLeft=this.hdrBox.scrollLeft}if(el.colSpan>1){var a_sizes=new Array();for(var i=0;i<el.colSpan;i++){a_sizes[i]=Math.round(fcolW*this.hdr.rows[0].childNodes[el._cellIndexS+i].offsetWidth/el.offsetWidth)}for(var i=0;i<el.colSpan;i++){this._setColumnSizeR(el._cellIndexS+i*1,a_sizes[i])}}else{this._setColumnSizeR(el._cellIndex,fcolW)}this.doOnScroll(0,1);if(_isOpera){this.setSizes()}this.objBuf.childNodes[0].style.width=""};this._setColumnSizeR=function(ind,fcolW){if(fcolW>((this._drsclmW&&!this._notresize)?(this._drsclmW[ind]||10):10)){this.obj.firstChild.firstChild.childNodes[ind].style.width=fcolW+"px";this.hdr.rows[0].childNodes[ind].style.width=fcolW+"px";if(this.ftr){this.ftr.rows[0].childNodes[ind].style.width=fcolW+"px"}if(this.cellWidthType=="px"){this.cellWidthPX[ind]=fcolW}else{var gridWidth=parseInt(this.entBox.offsetWidth);if(this.objBox.scrollHeight>this.objBox.offsetHeight){gridWidth-=(this._scrFix||(_isFF?17:17))}var pcWidth=Math.round(fcolW/gridWidth*100);this.cellWidthPC[ind]=pcWidth}}};this.setSortImgState=function(state,ind,order,row){order=(order||"asc").toLowerCase();if(!convertStringToBoolean(state)){this.sortImg.style.display="none";this.fldSorted=null;return}if(order=="asc"){this.sortImg.src=this.imgURL+"sort_asc.gif"}else{this.sortImg.src=this.imgURL+"sort_desc.gif"}this.sortImg.style.display="";this.fldSorted=this.hdr.rows[0].childNodes[ind];var r=this.hdr.rows[row||1];for(var i=0;i<r.childNodes.length;i++){if(r.childNodes[i]._cellIndex==ind){this.r_fldSorted=r.childNodes[i]}}this.setSortImgPos()};this.setSortImgPos=function(ind,mode,hRowInd,el){if(!el){if(!ind){var el=this.r_fldSorted}else{var el=this.hdr.rows[hRowInd||0].cells[ind]}}if(el!=null){var pos=this.getPosition(el,this.hdrBox);var wdth=el.offsetWidth;this.sortImg.style.left=Number(pos[0]+wdth-13)+"px";this.sortImg.defLeft=parseInt(this.sortImg.style.left);this.sortImg.style.top=Number(pos[1]+5)+"px";if((!this.useImagesInHeader)&&(!mode)){this.sortImg.style.display="inline"}this.sortImg.style.left=this.sortImg.defLeft+"px"}};this.setActive=function(fl){if(arguments.length==0){var fl=true}if(fl==true){if(globalActiveDHTMLGridObject&&(globalActiveDHTMLGridObject!=this)){globalActiveDHTMLGridObject.editStop()}globalActiveDHTMLGridObject=this;this.isActive=true}else{this.isActive=false}};this._doClick=function(ev){var selMethod=0;var el=this.getFirstParentOfType(_isIE?ev.srcElement:ev.target,"TD");var fl=true;if(this.markedCells){var markMethod=0;if(ev.shiftKey||ev.metaKey){markMethod=1}if(ev.ctrlKey){markMethod=2}this.doMark(el,markMethod);return true}if(this.selMultiRows!=false){if(ev.shiftKey&&this.row!=null){selMethod=1}if(ev.ctrlKey||ev.metaKey){selMethod=2}}this.doClick(el,fl,selMethod)};this._doContClick=function(ev){var el=this.getFirstParentOfType(_isIE?ev.srcElement:ev.target,"TD");if((!el)||(typeof(el.parentNode.idd)=="undefined")){return true}if(ev.button==2||(_isMacOS&&ev.ctrlKey)){if(!this.callEvent("onRightClick",[el.parentNode.idd,el._cellIndex,ev])){var z=function(e){document.body.oncontextmenu=Function("return true;");(e||event).cancelBubble=true;return false};if(_isIE){ev.srcElement.oncontextmenu=z}else{if(!_isMacOS){document.body.oncontextmenu=z}}return false}if(this._ctmndx){if(!(this.callEvent("onBeforeContextMenu",[el.parentNode.idd,el._cellIndex,this]))){return true}el.contextMenuId=el.parentNode.idd+"_"+el._cellIndex;el.contextMenu=this._ctmndx;el.a=this._ctmndx._contextStart;if(_isIE){ev.srcElement.oncontextmenu=function(){event.cancelBubble=true;return false}}el.a(el,ev);el.a=null}}else{if(this._ctmndx){this._ctmndx._contextEnd()}}return true};this.doClick=function(el,fl,selMethod,show){var psid=this.row?this.row.idd:0;this.setActive(true);if(!selMethod){selMethod=0}if(this.cell!=null){this.cell.className=this.cell.className.replace(/cellselected/g,"")}if(el.tagName=="TD"){if(this.checkEvent("onSelectStateChanged")){var initial=this.getSelectedId()}var prow=this.row;if(selMethod==1){var elRowIndex=this.rowsCol._dhx_find(el.parentNode);var lcRowIndex=this.rowsCol._dhx_find(this.lastClicked);if(elRowIndex>lcRowIndex){var strt=lcRowIndex;var end=elRowIndex}else{var strt=elRowIndex;var end=lcRowIndex}for(var i=0;i<this.rowsCol.length;i++){if((i>=strt&&i<=end)){if(this.rowsCol[i]&&(!this.rowsCol[i]._sRow)){if(this.rowsCol[i].className.indexOf("rowselected")==-1&&this.callEvent("onBeforeSelect",[this.rowsCol[i].idd,psid])){this.rowsCol[i].className+=" rowselected";this.selectedRows[this.selectedRows.length]=this.rowsCol[i]}}else{this.clearSelection();return this.doClick(el,fl,0,show)}}}}else{if(selMethod==2){if(el.parentNode.className.indexOf("rowselected")!=-1){el.parentNode.className=el.parentNode.className.replace(/rowselected/g,"");this.selectedRows._dhx_removeAt(this.selectedRows._dhx_find(el.parentNode));var skipRowSelection=true}}}this.editStop();if(typeof(el.parentNode.idd)=="undefined"){return true}if((!skipRowSelection)&&(!el.parentNode._sRow)){if(this.callEvent("onBeforeSelect",[el.parentNode.idd,psid])){if(selMethod==0){this.clearSelection()}this.cell=el;if((prow==el.parentNode)&&(this._chRRS)){fl=false}this.row=el.parentNode;this.row.className+=" rowselected";if(this.selectedRows._dhx_find(this.row)==-1){this.selectedRows[this.selectedRows.length]=this.row}}}if(this.cell&&this.cell.parentNode.className.indexOf("rowselected")!=-1){this.cell.className=this.cell.className.replace(/cellselected/g,"")+" cellselected"}if(selMethod!=1){if(!this.row){return}}this.lastClicked=el.parentNode;var rid=this.row.idd;var cid=this.cell._cellIndex;if(fl&&typeof(rid)!="undefined"){self.onRowSelectTime=setTimeout(function(){self.callEvent("onRowSelect",[rid,cid])},100)}if(this.checkEvent("onSelectStateChanged")){var afinal=this.getSelectedId();if(initial!=afinal){this.callEvent("onSelectStateChanged",[afinal])}}}this.isActive=true;if(show!==false&&this.cell&&this.cell.parentNode.id){this.moveToVisible(this.cell)}};this.selectAll=function(){this.clearSelection();this.selectedRows=dhtmlxArray([].concat(this.rowsCol));for(var i=this.rowsCol.length-1;i>=0;i--){if(this.rowsCol[i]._cntr){this.selectedRows.splice(i,1)}else{this.rowsCol[i].className+=" rowselected"}}if(this.selectedRows.length){this.row=this.selectedRows[0];this.cell=this.row.cells[0]}if((this._fake)&&(!this._realfake)){this._fake.selectAll()}};this.selectCell=function(r,cInd,fl,preserve,edit,show){if(!fl){fl=false}if(typeof(r)!="object"){r=this.rowsCol[r]}if(!r){return null}if(r._childIndexes){var c=r.childNodes[r._childIndexes[cInd]]}else{var c=r.childNodes[cInd]}if(!c){c=r.childNodes[0]}if(preserve){this.doClick(c,fl,3,show)}else{this.doClick(c,fl,0,show)}if(edit){this.editCell()}};this.moveToVisible=function(cell_obj,onlyVScroll){if(!cell_obj.offsetHeight){var h=this.rowsBuffer._dhx_find(cell_obj.parentNode)*this._srdh;return this.objBox.scrollTop=h}try{var distance=cell_obj.offsetLeft+cell_obj.offsetWidth+20;var scrollLeft=0;if(distance>(this.objBox.offsetWidth+this.objBox.scrollLeft)){if(cell_obj.offsetLeft>this.objBox.scrollLeft){scrollLeft=cell_obj.offsetLeft-5}}else{if(cell_obj.offsetLeft<this.objBox.scrollLeft){distance-=cell_obj.offsetWidth*2/3;if(distance<this.objBox.scrollLeft){scrollLeft=cell_obj.offsetLeft-5}}}if((scrollLeft)&&(!onlyVScroll)){this.objBox.scrollLeft=scrollLeft}var distance=cell_obj.offsetTop+cell_obj.offsetHeight+20;if(distance>(this.objBox.offsetHeight+this.objBox.scrollTop)){var scrollTop=distance-this.objBox.offsetHeight}else{if(cell_obj.offsetTop<this.objBox.scrollTop){var scrollTop=cell_obj.offsetTop-5}}if(scrollTop){this.objBox.scrollTop=scrollTop}}catch(er){}};this.editCell=function(){if(this.editor&&this.cell==this.editor.cell){return}this.editStop();if((this.isEditable!=true)||(!this.cell)){return false}var c=this.cell;if(c.parentNode._locked){return false}this.editor=this.cells4(c);if(this.editor!=null){if(this.editor.isDisabled()){this.editor=null;return false}if(this.callEvent("onEditCell",[0,this.row.idd,this.cell._cellIndex])!=false&&this.editor.edit){this._Opera_stop=(new Date).valueOf();c.className+=" editable";this.editor.edit();this.callEvent("onEditCell",[1,this.row.idd,this.cell._cellIndex])}else{this.editor=null}}};this.editStop=function(mode){if(_isOpera){if(this._Opera_stop){if((this._Opera_stop*1+50)>(new Date).valueOf()){return}this._Opera_stop=null}}if(this.editor&&this.editor!=null){this.editor.cell.className=this.editor.cell.className.replace("editable","");if(mode){var t=this.editor.val;this.editor.detach();this.editor.setValue(t);this.editor=null;return}if(this.editor.detach()){this.cell.wasChanged=true}var g=this.editor;this.editor=null;var z=this.callEvent("onEditCell",[2,this.row.idd,this.cell._cellIndex,g.getValue(),g.val]);if((typeof(z)=="string")||(typeof(z)=="number")){g[g.setImage?"setLabel":"setValue"](z)}else{if(!z){g[g.setImage?"setLabel":"setValue"](g.val)}}}};this._nextRowCell=function(row,dir,pos){row=this._nextRow(this.rowsCol._dhx_find(row),dir);if(!row){return null}return row.childNodes[row._childIndexes?row._childIndexes[pos]:pos]};this._getNextCell=function(acell,dir,i){acell=acell||this.cell;var arow=acell.parentNode;if(this._tabOrder){i=this._tabOrder[acell._cellIndex];if(typeof i!="undefined"){if(i<0){acell=this._nextRowCell(arow,dir,Math.abs(i)-1)}else{acell=arow.childNodes[i]}}}else{var i=acell._cellIndex+dir;if(i>=0&&i<this._cCount){if(arow._childIndexes){i=arow._childIndexes[acell._cellIndex]+dir}acell=arow.childNodes[i]}else{acell=this._nextRowCell(arow,dir,(dir==1?0:(this._cCount-1)))}}if(!acell){if((dir==1)&&this.tabEnd){this.tabEnd.focus();this.tabEnd.focus()}if((dir==-1)&&this.tabStart){this.tabStart.focus();this.tabStart.focus()}return null}if(acell.style.display!="none"&&(!this.smartTabOrder||!this.cells(acell.parentNode.idd,acell._cellIndex).isDisabled())){return acell}return this._getNextCell(acell,dir)};this._nextRow=function(ind,dir){var r=this.rowsCol[ind+dir];if(r&&r.style.display=="none"){return this._nextRow(ind+dir,dir)}return r};this.scrollPage=function(dir){var new_ind=Math.floor((this.getRowIndex(this.row.idd)||0)+(dir)*this.objBox.offsetHeight/(this._srdh||20));if(new_ind<0){new_ind=0}if(this._srnd&&!this.rowsCol[new_ind]){this.objBox.scrollTop+=this.objBox.offsetHeight*dir}else{if(new_ind>=this.rowsCol.length){new_ind=this.rowsCol.length-1}this.selectCell(new_ind,this.cell._cellIndex,true)}};this.doKey=function(ev){if(!ev){return true}if((ev.target||ev.srcElement).value!==window.undefined){var zx=(ev.target||ev.srcElement);if((!zx.parentNode)||(zx.parentNode.className.indexOf("editable")==-1)){return true}}if((globalActiveDHTMLGridObject)&&(this!=globalActiveDHTMLGridObject)){return globalActiveDHTMLGridObject.doKey(ev)}if(this.isActive==false){return true}if(this._htkebl){return true}if(!this.callEvent("onKeyPress",[ev.keyCode,ev.ctrlKey,ev.shiftKey,ev])){return false}var code="k"+ev.keyCode+"_"+(ev.ctrlKey?1:0)+"_"+(ev.shiftKey?1:0);if(this.cell){if(this._key_events[code]){if(false===this._key_events[code].call(this)){return true}if(ev.preventDefault){ev.preventDefault()}ev.cancelBubble=true;return false}if(this._key_events.k_other){this._key_events.k_other.call(this,ev)}}return true};this.getRow=function(cell){if(!cell){cell=window.event.srcElement}if(cell.tagName!="TD"){cell=cell.parentElement}r=cell.parentElement;if(this.cellType[cell._cellIndex]=="lk"){eval(this.onLink+"('"+this.getRowId(r.rowIndex)+"',"+cell._cellIndex+")")}this.selectCell(r,cell._cellIndex,true)};this.selectRow=function(r,fl,preserve,show){if(typeof(r)!="object"){r=this.rowsCol[r]}this.selectCell(r,0,fl,preserve,false,show)};this.wasDblClicked=function(ev){var el=this.getFirstParentOfType(_isIE?ev.srcElement:ev.target,"TD");if(el){var rowId=el.parentNode.idd;return this.callEvent("onRowDblClicked",[rowId,el._cellIndex])}};this._onHeaderClick=function(e,el){var that=this.grid;el=el||that.getFirstParentOfType(_isIE?event.srcElement:e.target,"TD");if(this.grid.resized==null){if(!(this.grid.callEvent("onHeaderClick",[el._cellIndexS,(e||window.event)]))){return false}that.sortField(el._cellIndexS,false,el)}};this.deleteSelectedRows=function(){var num=this.selectedRows.length;if(num==0){return}var tmpAr=this.selectedRows;this.selectedRows=dhtmlxArray();for(var i=num-1;i>=0;i--){var node=tmpAr[i];if(!this.deleteRow(node.idd,node)){this.selectedRows[this.selectedRows.length]=node}else{if(node==this.row){var ind=i}}}if(ind){try{if(ind+1>this.rowsCol.length){ind--}this.selectCell(ind,0,true)}catch(er){this.row=null;this.cell=null}}};this.getSelectedRowId=function(){var selAr=new Array(0);var uni={};for(var i=0;i<this.selectedRows.length;i++){var id=this.selectedRows[i].idd;if(uni[id]){continue}selAr[selAr.length]=id;uni[id]=true}if(selAr.length==0){return null}else{return selAr.join(this.delim)}};this.getSelectedCellIndex=function(){if(this.cell!=null){return this.cell._cellIndex}else{return -1}};this.getColWidth=function(ind){return parseInt(this.cellWidthPX[ind])+((_isFF)?2:0)};this.setColWidth=function(ind,value){if(this.cellWidthType=="px"){this.cellWidthPX[ind]=parseInt(value)-+((_isFF)?2:0)}else{this.cellWidthPC[ind]=parseInt(value)}this.setSizes()};this.getRowIndex=function(row_id){for(var i=0;i<this.rowsBuffer.length;i++){if(this.rowsBuffer[i]&&this.rowsBuffer[i].idd==row_id){return i}}};this.getRowId=function(ind){return this.rowsBuffer[ind]?this.rowsBuffer[ind].idd:this.undefined};this.setRowId=function(ind,row_id){var r=this.rowsCol[ind];this.changeRowId(r.idd,row_id)};this.changeRowId=function(oldRowId,newRowId){if(oldRowId==newRowId){return}var row=this.rowsAr[oldRowId];row.idd=newRowId;if(this.UserData[oldRowId]){this.UserData[newRowId]=this.UserData[oldRowId];this.UserData[oldRowId]=null}if(this._h2&&this._h2.get[oldRowId]){this._h2.get[newRowId]=this._h2.get[oldRowId];this._h2.get[newRowId].id=newRowId;delete this._h2.get[oldRowId]}this.rowsAr[oldRowId]=null;this.rowsAr[newRowId]=row;for(var i=0;i<row.childNodes.length;i++){if(row.childNodes[i]._code){row.childNodes[i]._code=this._compileSCL(row.childNodes[i]._val,row.childNodes[i])}}};this.setColumnIds=function(ids){this.columnIds=ids.split(this.delim)};this.setColumnId=function(ind,id){this.columnIds[ind]=id};this.getColIndexById=function(id){for(var i=0;i<this.columnIds.length;i++){if(this.columnIds[i]==id){return i}}};this.getColumnId=function(cin){return this.columnIds[cin]};this.getColumnLabel=function(cin,ind){var z=this.hdr.rows[(ind||0)+1];var n=z.cells[z._childIndexes?z._childIndexes[parseInt(cin)]:cin];return(_isIE?n.innerText:n.textContent)};this.setRowTextBold=function(row_id){var r=this.getRowById(row_id);if(r){r.style.fontWeight="bold"}};this.setRowTextStyle=function(row_id,styleString){var r=this.getRowById(row_id);if(!r){return}for(var i=0;i<r.childNodes.length;i++){var pfix="";if((this._hrrar)&&(this._hrrar[i])){pfix="display:none;"}if(_isIE){r.childNodes[i].style.cssText=pfix+"width:"+r.childNodes[i].style.width+";"+styleString}else{r.childNodes[i].style.cssText=pfix+"width:"+r.childNodes[i].style.width+";"+styleString}}};this.setRowColor=function(row_id,color){var r=this.getRowById(row_id);for(var i=0;i<r.childNodes.length;i++){r.childNodes[i].bgColor=color}};this.setCellTextStyle=function(row_id,ind,styleString){var r=this.getRowById(row_id);if(!r){return}var cell=r.childNodes[r._childIndexes?r._childIndexes[ind]:ind];if(!cell){return}var pfix="";if((this._hrrar)&&(this._hrrar[ind])){pfix="display:none;"}if(_isIE){cell.style.cssText=pfix+"width:"+cell.style.width+";"+styleString}else{cell.style.cssText=pfix+"width:"+cell.style.width+";"+styleString}};this.setRowTextNormal=function(row_id){var r=this.getRowById(row_id);if(r){r.style.fontWeight="normal"}};this.doesRowExist=function(row_id){if(this.getRowById(row_id)!=null){return true}else{return false}};this.getColumnsNum=function(){return this._cCount};this.moveRowUp=function(row_id){var r=this.getRowById(row_id);if(this.isTreeGrid()){return this.moveRowUDTG(row_id,-1)}var rInd=this.rowsCol._dhx_find(r);if((r.previousSibling)&&(rInd!=0)){r.parentNode.insertBefore(r,r.previousSibling);this.rowsCol._dhx_swapItems(rInd,rInd-1);this.setSizes();var bInd=this.rowsBuffer._dhx_find(r);this.rowsBuffer._dhx_swapItems(bInd,bInd-1);if(this._cssEven){this._fixAlterCss(rInd-1)}}};this.moveRowDown=function(row_id){var r=this.getRowById(row_id);if(this.isTreeGrid()){return this.moveRowUDTG(row_id,1)}var rInd=this.rowsCol._dhx_find(r);if(r.nextSibling){this.rowsCol._dhx_swapItems(rInd,rInd+1);if(r.nextSibling.nextSibling){r.parentNode.insertBefore(r,r.nextSibling.nextSibling)}else{r.parentNode.appendChild(r)}this.setSizes();var bInd=this.rowsBuffer._dhx_find(r);this.rowsBuffer._dhx_swapItems(bInd,bInd+1);if(this._cssEven){this._fixAlterCss(rInd)}}};this.getCombo=function(col_ind){if(!this.combos[col_ind]){this.combos[col_ind]=new dhtmlXGridComboObject()}return this.combos[col_ind]};this.setUserData=function(row_id,name,value){try{if(row_id==""){row_id="gridglobaluserdata"}if(!this.UserData[row_id]){this.UserData[row_id]=new Hashtable()}this.UserData[row_id].put(name,value)}catch(er){alert("UserData Error:"+er.description)}};this.getUserData=function(row_id,name){this.getRowById(row_id);if(row_id==""){row_id="gridglobaluserdata"}var z=this.UserData[row_id];return(z?z.get(name):"")};this.setEditable=function(fl){this.isEditable=convertStringToBoolean(fl)};this.selectRowById=function(row_id,multiFL,show,call){if(!call){call=false}this.selectCell(this.getRowById(row_id),0,call,multiFL,false,show)};this.clearSelection=function(){this.editStop();for(var i=0;i<this.selectedRows.length;i++){var r=this.rowsAr[this.selectedRows[i].idd];if(r){r.className=r.className.replace(/rowselected/g,"")}}this.selectedRows=dhtmlxArray();this.row=null;if(this.cell!=null){this.cell.className=this.cell.className.replace(/cellselected/g,"");this.cell=null}};this.copyRowContent=function(from_row_id,to_row_id){var frRow=this.getRowById(from_row_id);if(!this.isTreeGrid()){for(var i=0;i<frRow.cells.length;i++){this.cells(to_row_id,i).setValue(this.cells(from_row_id,i).getValue())}}else{this._copyTreeGridRowContent(frRow,from_row_id,to_row_id)}if(!_isIE){this.getRowById(from_row_id).cells[0].height=frRow.cells[0].offsetHeight}};this.setColumnLabel=function(c,label,ind){var z=this.hdr.rows[ind||1];var col=(z._childIndexes?z._childIndexes[c]:c);if(!this.useImagesInHeader){var hdrHTML="<div class='hdrcell'>";if(label.indexOf("img:[")!=-1){var imUrl=label.replace(/.*\[([^>]+)\].*/,"$1");label=label.substr(label.indexOf("]")+1,label.length);hdrHTML+="<img align='absmiddle' src='"+imUrl+"'>"}if(this.editHints.enabledOnColumns){if(this._cellTypeIsEditable(this.cellType[col])){hdrHTML+="<img align='absmiddle' src='"+this.editHints.imageColumn+"'>"}}hdrHTML+=label;hdrHTML+="</div>";z.cells[col].innerHTML=hdrHTML;if(this._hstyles[col]){z.cells[col].style.cssText=this._hstyles[col]}}else{z.cells[col].style.textAlign="left";z.cells[col].innerHTML="<img src='"+this.imgURL+""+label+"' onerror='this.src = \""+this.imgURL+"imageloaderror.gif\"'>";var a=new Image();a.src=this.imgURL+""+label.replace(/(\.[a-z]+)/,".desc$1");this.preloadImagesAr[this.preloadImagesAr.length]=a;var b=new Image();b.src=this.imgURL+""+label.replace(/(\.[a-z]+)/,".asc$1");this.preloadImagesAr[this.preloadImagesAr.length]=b}if((label||"").indexOf("#")!=-1){var t=label.match(/(^|{)#([^}]+)(}|$)/);if(t){var tn="_in_header_"+t[2];if(this[tn]){this[tn]((this.forceDivInHeader?z.cells[col].firstChild:z.cells[col]),col,label.split(t[0]))}}}};this.clearAll=function(header){if(this._h2){this._h2=new dhtmlxHierarchy();if(this._fake){if(this._realfake){this._h2=this._fake._h2}else{this._fake._h2=this._h2}}}this.limit=this._limitC=0;this.editStop(true);if(this._dLoadTimer){window.clearTimeout(this._dLoadTimer)}if(this._dload){this.objBox.scrollTop=0;this.limit=this._limitC||0;this._initDrF=true}var len=this.rowsCol.length;len=this.obj.rows.length;for(var i=len-1;i>0;i--){var t_r=this.obj.rows[i];t_r.parentNode.removeChild(t_r)}if(header&&this.obj.rows[0]){this._master_row=null;this.obj.rows[0].parentNode.removeChild(this.obj.rows[0]);for(var i=this.hdr.rows.length-1;i>=0;i--){var t_r=this.hdr.rows[i];t_r.parentNode.removeChild(t_r)}if(this.ftr){this.ftr.parentNode.removeChild(this.ftr);this.ftr=null}this._aHead=this.ftr=this._aFoot=null;this._hrrar=[];this.columnIds=[]}this.row=null;this.cell=null;this.rowsCol=dhtmlxArray();this.rowsAr=[];this.rowsBuffer=dhtmlxArray();this.UserData=[];this.selectedRows=dhtmlxArray();if(this.pagingOn||this._srnd){this.xmlFileUrl=""}if(this.pagingOn){this.changePage(1)}if(this._contextCallTimer){window.clearTimeout(this._contextCallTimer)}if(this._sst){this.enableStableSorting(true)}this._fillers=this.undefined;this.setSortImgState(false);this.setSizes();this.callEvent("onClearAll",[])};this.sortField=function(ind,repeatFl,r_el){if(this.getRowsNum()==0){return false}var el=this.hdr.rows[0].cells[ind];if(!el){return}if(el.tagName=="TH"&&(this.fldSort.length-1)>=el._cellIndex&&this.fldSort[el._cellIndex]!="na"){if((((this.sortImg.src.indexOf("_desc.gif")==-1)&&(!repeatFl))||((this.sortImg.style.filter!="")&&(repeatFl)))&&(this.fldSorted==el)){var sortType="des"}else{var sortType="asc"}if(!this.callEvent("onBeforeSorting",[ind,this.fldSort[ind],sortType])){return}this.sortImg.src=this.imgURL+"sort_"+(sortType=="asc"?"asc":"desc")+".gif";if(this.useImagesInHeader){var cel=this.hdr.rows[1].cells[el._cellIndex].firstChild;if(this.fldSorted!=null){var celT=this.hdr.rows[1].cells[this.fldSorted._cellIndex].firstChild;celT.src=celT.src.replace(/\.[ascde]+\./,".")}cel.src=cel.src.replace(/(\.[a-z]+)/,"."+sortType+"$1")}this.sortRows(el._cellIndex,this.fldSort[el._cellIndex],sortType);this.fldSorted=el;this.r_fldSorted=r_el;var c=this.hdr.rows[1];var c=r_el.parentNode;var real_el=c._childIndexes?c._childIndexes[el._cellIndex]:el._cellIndex;this.setSortImgPos(false,false,false,r_el);this.callEvent("onAfterSorting",[ind,this.fldSort[ind],sortType])}};this.setCustomSorting=function(func,col){if(!this._customSorts){this._customSorts=new Array()}this._customSorts[col]=(typeof(func)=="string")?eval(func):func;this.fldSort[col]="cus"};this.enableHeaderImages=function(fl){this.useImagesInHeader=fl};this.setHeader=function(hdrStr,splitSign,styles){if(typeof(hdrStr)!="object"){var arLab=this._eSplit(hdrStr)}else{arLab=[].concat(hdrStr)}var arWdth=new Array(0);var arTyp=new dhtmlxArray(0);var arAlg=new Array(0);var arVAlg=new Array(0);var arSrt=new Array(0);for(var i=0;i<arLab.length;i++){arWdth[arWdth.length]=Math.round(100/arLab.length);arTyp[arTyp.length]="ed";arAlg[arAlg.length]="left";arVAlg[arVAlg.length]="";arSrt[arSrt.length]="na"}this.splitSign=splitSign||"#cspan";this.hdrLabels=arLab;this.cellWidth=arWdth;this.cellType=arTyp;this.cellAlign=arAlg;this.cellVAlign=arVAlg;this.fldSort=arSrt;this._hstyles=styles||[]};this._eSplit=function(str){if(![].push){return str.split(this.delim)}var a="r"+(new Date()).valueOf();var z=this.delim.replace(/([\|\+\*\^])/g,"\\$1");return(str||"").replace(RegExp(z,"g"),a).replace(RegExp("\\\\"+a,"g"),this.delim).split(a)};this.getColType=function(cInd){return this.cellType[cInd]};this.getColTypeById=function(cID){return this.cellType[this.getColIndexById(cID)]};this.setColTypes=function(typeStr){this.cellType=dhtmlxArray(typeStr.split(this.delim));this._strangeParams=new Array();for(var i=0;i<this.cellType.length;i++){if((this.cellType[i].indexOf("[")!=-1)){var z=this.cellType[i].split(/[\[\]]+/g);this.cellType[i]=z[0];this.defVal[i]=z[1];if(z[1].indexOf("=")==0){this.cellType[i]="math";this._strangeParams[i]=z[0]}}}};this.setColSorting=function(sortStr){this.fldSort=sortStr.split(this.delim);for(var i=0;i<this.fldSort.length;i++){if(((this.fldSort[i]).length>4)&&(typeof(window[this.fldSort[i]])=="function")){if(!this._customSorts){this._customSorts=new Array()}this._customSorts[i]=window[this.fldSort[i]];this.fldSort[i]="cus"}}};this.setColAlign=function(alStr){this.cellAlign=alStr.split(this.delim)};this.setColVAlign=function(valStr){this.cellVAlign=valStr.split(this.delim)};this.setNoHeader=function(fl){this.noHeader=convertStringToBoolean(fl)};this.showRow=function(rowID){this.getRowById(rowID);if(this.pagingOn){this.changePage(Math.floor(this.getRowIndex(rowID)/this.rowsBufferOutSize)+1)}if(this._h2){this.openItem(this._h2.get[rowID].parent.id)}var c=this.getRowById(rowID).cells[0];while(c&&c.style.display=="none"){c=c.nextSibling}if(c){this.moveToVisible(c,true)}};this.setStyle=function(ss_header,ss_grid,ss_selCell,ss_selRow){this.ssModifier=[ss_header,ss_grid,ss_selCell,ss_selCell,ss_selRow];var prefs=["#"+this.entBox.id+" table.hdr td","#"+this.entBox.id+" table.obj td","#"+this.entBox.id+" table.obj tr.rowselected td.cellselected","#"+this.entBox.id+" table.obj td.cellselected","#"+this.entBox.id+" table.obj tr.rowselected td"];for(var i=0;i<prefs.length;i++){if(this.ssModifier[i]){if(_isIE){document.styleSheets[0].addRule(prefs[i],this.ssModifier[i])}else{document.styleSheets[0].insertRule(prefs[i]+" { "+this.ssModifier[i]+" } ",0)}}}};this.setColumnColor=function(clr){this.columnColor=clr.split(this.delim)};this.enableAlterCss=function(cssE,cssU,perLevel,levelUnique){if(cssE||cssU){this.attachEvent("onGridReconstructed",function(){if(!this._cssSP){this._fixAlterCss();if(this._fake){this._fake._fixAlterCss()}}})}this._cssSP=perLevel;this._cssSU=levelUnique;this._cssEven=cssE;this._cssUnEven=cssU};this._fixAlterCss=function(ind){if(this._cssSP&&this._h2){return this._fixAlterCssTGR(ind)}if(!this._cssEven&&!this._cssUnEven){return}ind=ind||0;var j=ind;for(var i=ind;i<this.rowsCol.length;i++){if(!this.rowsCol[i]){continue}if(this.rowsCol[i].style.display!="none"){if(this.rowsCol[i].className.indexOf("rowselected")!=-1){if(j%2==1){this.rowsCol[i].className=this._cssUnEven+" rowselected"+(this.rowsCol[i]._css||"")}else{this.rowsCol[i].className=this._cssEven+" rowselected"+(this.rowsCol[i]._css||"")}}else{if(j%2==1){this.rowsCol[i].className=this._cssUnEven+(this.rowsCol[i]._css||"")}else{this.rowsCol[i].className=this._cssEven+(this.rowsCol[i]._css||"")}}j++}}};this.clearChangedState=function(){for(var i=0;i<this.rowsCol.length;i++){var row=this.rowsCol[i];var cols=row.childNodes.length;for(var j=0;j<cols;j++){row.childNodes[j].wasChanged=false}}};this.getChangedRows=function(){var res=new Array();this.forEachRow(function(id){var row=this.rowsAr[id];var cols=row.childNodes.length;for(var j=0;j<cols;j++){if(row.childNodes[j].wasChanged){res[res.length]=row.idd;break}}});return res.join(this.delim)};this._sUDa=false;this._sAll=false;this.setSerializationLevel=function(userData,fullXML,config,changedAttr,onlyChanged,asCDATA){this._sUDa=userData;this._sAll=fullXML;this._sConfig=config;this._chAttr=changedAttr;this._onlChAttr=onlyChanged;this._asCDATA=asCDATA};this.setSerializableColumns=function(list){if(!list){this._srClmn=null;return}this._srClmn=(list||"").split(",");for(var i=0;i<this._srClmn.length;i++){this._srClmn[i]=convertStringToBoolean(this._srClmn[i])}};this._serialise=function(rCol,inner,closed){this.editStop();var out=[];var close="</"+this.xml.s_row+">";if(this.isTreeGrid()){this._h2.forEachChildF(0,function(el){var temp=this._serializeRow(this.render_row_tree(-1,el.id));out.push(temp);if(temp){return true}else{return false}},this,function(){out.push(close)})}else{for(var i=0;i<this.rowsBuffer.length;i++){if(this.rowsBuffer[i]){var temp=this._serializeRow(this.render_row(i));out.push(temp);if(temp){out.push(close)}}}}return[out.join("")]};this._serializeRow=function(r,i){var out=[];var ra=this.xml.row_attrs;var ca=this.xml.cell_attrs;out.push("<"+this.xml.s_row);out.push(" id='"+r.idd+"'");if((this._sAll)&&this.selectedRows._dhx_find(r)!=-1){out.push("selected='1'")}if(this._h2&&this._h2.get[r.idd].state=="minus"){out.push("open='1'")}if(ra.length){for(var i=0;i<ra.length;i++){out.push(" "+ra[i]+"='"+r._attrs[ra[i]]+"'")}}out.push(">");if(this._sUDa&&this.UserData[r.idd]){keysAr=this.UserData[r.idd].getKeys();for(var ii=0;ii<keysAr.length;ii++){out.push("<userdata name='"+keysAr[ii]+"'>"+this.UserData[r.idd].get(keysAr[ii])+"</userdata>")}}var changeFl=false;for(var jj=0;jj<this._cCount;jj++){if((!this._srClmn)||(this._srClmn[jj])){var zx=this.cells3(r,jj);out.push("<cell");if(ca.length){for(var i=0;i<ca.length;i++){out.push(" "+ca[i]+"='"+zx.cell._attrs[ca[i]]+"'")}}zxVal=zx[this._agetm]();if(this._asCDATA){zxVal="<![CDATA["+zxVal+"]]>"}if((this._ecspn)&&(zx.cell.colSpan)&&cvx.colSpan>1){out.push(' colspan="'+cvx.colSpan+'" ')}if(this._chAttr){if(zx.wasChanged()){out.push(' changed="1"');changeFl=true}}else{if((this._onlChAttr)&&(zx.wasChanged())){changeFl=true}}if(this._sAll){out.push((this._h2?(" image='"+this._h2.get[r.idd].image+"'"):"")+">"+zxVal+"</cell>")}else{out.push(">"+zxVal+"</cell>")}if((this._ecspn)&&(zx.cell.colSpan)){for(var u=0;u<zx.cell.colSpan-1;u++){out.push("<cell/>");jj++}}}}if((this._onlChAttr)&&(!changeFl)&&(!r._added)){return""}return out.join("")};this._serialiseConfig=function(){var out="<head>";for(var i=0;i<this.hdr.rows[0].cells.length;i++){out+="<column width='"+this.cellWidthPX[i]+"' align='"+this.cellAlign[i]+"' type='"+this.cellType[i]+"' sort='"+this.fldSort[i]+"' color='"+this.columnColor[i]+"'"+(this.columnIds[i]?(" id='"+this.columnIds[i]+"'"):"")+">";out+=this.getHeaderCol(i);var z=this.getCombo(i);if(z){for(var j=0;j<z.keys.length;j++){out+="<option value='"+z.keys[j]+"'>"+z.values[j]+"</option>"}}out+="</column>"}return out+="</head>"};this.serialize=function(){var out='<?xml version="1.0"?><rows>';if(this._mathSerialization){this._agetm="getMathValue"}else{this._agetm="getValue"}if(this._sUDa&&this.UserData.gridglobaluserdata){var keysAr=this.UserData.gridglobaluserdata.getKeys();for(var i=0;i<keysAr.length;i++){out+="<userdata name='"+keysAr[i]+"'>"+this.UserData.gridglobaluserdata.get(keysAr[i])+"</userdata>"}}if(this._sConfig){out+=this._serialiseConfig()}out+=this._serialise();out+="</rows>";return out};this.getPosition=function(oNode,pNode){if(!pNode){var pNode=document.body}var oCurrentNode=oNode;var iLeft=0;var iTop=0;while((oCurrentNode)&&(oCurrentNode!=pNode)){iLeft+=oCurrentNode.offsetLeft-oCurrentNode.scrollLeft;iTop+=oCurrentNode.offsetTop-oCurrentNode.scrollTop;oCurrentNode=oCurrentNode.offsetParent}if(pNode==document.body){if(_isIE&&(navigator.userAgent.indexOf("MSIE 8.0")==-1)){if(document.documentElement.scrollTop){iTop+=document.documentElement.scrollTop}if(document.documentElement.scrollLeft){iLeft+=document.documentElement.scrollLeft}}else{if(!_isFF){iLeft+=document.body.offsetLeft;iTop+=document.body.offsetTop}}}return new Array(iLeft,iTop)};this.getFirstParentOfType=function(obj,tag){while(obj&&obj.tagName!=tag&&obj.tagName!="BODY"){obj=obj.parentNode}return obj};this.objBox.onscroll=function(){this.grid._doOnScroll()};if((!_isOpera)||(_OperaRv>8.5)){this.hdr.onmousemove=function(e){this.grid.changeCursorState(e||window.event)};this.hdr.onmousedown=function(e){return this.grid.startColResize(e||window.event)}}this.obj.onmousemove=this._drawTooltip;this.obj.onclick=function(e){this.grid._doClick(e||window.event);if(this.grid._sclE){this.grid.editCell(e||window.event)}(e||event).cancelBubble=true};if(_isMacOS){this.entBox.oncontextmenu=function(e){return this.grid._doContClick(e||window.event)}}this.entBox.onmousedown=function(e){return this.grid._doContClick(e||window.event)};this.obj.ondblclick=function(e){if(!this.grid.wasDblClicked(e||window.event)){return false}if(this.grid._dclE){this.grid.editCell(e||window.event)}(e||event).cancelBubble=true};this.hdr.onclick=this._onHeaderClick;this.sortImg.onclick=function(){self._onHeaderClick.apply({grid:self},[null,self.r_fldSorted])};this.hdr.ondblclick=this._onHeaderDblClick;if(!document.body._dhtmlxgrid_onkeydown){dhtmlxEvent(document,"keydown",function(e){if(globalActiveDHTMLGridObject){return globalActiveDHTMLGridObject.doKey(e||window.event)}});document.body._dhtmlxgrid_onkeydown=true}dhtmlxEvent(document.body,"click",function(){if(self.editStop){self.editStop()}});this.entBox.onbeforeactivate=function(){this._still_active=null;this.grid.setActive();event.cancelBubble=true};this.entBox.onbeforedeactivate=function(){if(this.grid._still_active){this.grid._still_active=null}else{this.grid.isActive=false}event.cancelBubble=true};if(this.entBox.style.height.toString().indexOf("%")!=-1){this._setAutoResize()}this.setColHidden=this.setColumnsVisibility;this.enableCollSpan=this.enableColSpan;this.setMultiselect=this.enableMultiselect;this.setMultiLine=this.enableMultiline;this.deleteSelectedItem=this.deleteSelectedRows;this.getSelectedId=this.getSelectedRowId;this.getHeaderCol=this.getColumnLabel;this.isItemExists=this.doesRowExist;this.getColumnCount=this.getColumnsNum;this.setSelectedRow=this.selectRowById;this.setHeaderCol=this.setColumnLabel;this.preventIECashing=this.preventIECaching;this.enableAutoHeigth=this.enableAutoHeight;this.getUID=this.uid;return this}dhtmlXGridObject.prototype={getRowAttribute:function(e,d){return this.getRowById(e)._attrs[d]},setRowAttribute:function(f,d,e){this.getRowById(f)._attrs[d]=e},isTreeGrid:function(){return(this.cellType._dhx_find("tree")!=-1)},setRowHidden:function(l,g){var e=convertStringToBoolean(g);var k=this.getRowById(l);if(!k){return}if(k.expand===""){this.collapseKids(k)}if((g)&&(k.style.display!="none")){k.style.display="none";var h=this.selectedRows._dhx_find(k);if(h!=-1){k.className=k.className.replace("rowselected","");for(var d=0;d<k.childNodes.length;d++){k.childNodes[d].className=k.childNodes[d].className.replace(/cellselected/g,"")}this.selectedRows._dhx_removeAt(h)}this.callEvent("onGridReconstructed",[])}if((!g)&&(k.style.display=="none")){k.style.display="";this.callEvent("onGridReconstructed",[])}this.setSizes()},setColumnHidden:function(g,e){if(!this.hdr.rows.length){if(!this._ivizcol){this._ivizcol=[]}return this._ivizcol[g]=e}if((this.fldSorted)&&(this.fldSorted.cellIndex==g)&&(e)){this.sortImg.style.display="none"}var d=convertStringToBoolean(e);if(d){if(!this._hrrar){this._hrrar=new Array()}else{if(this._hrrar[g]){return}}this._hrrar[g]="display:none;";this._hideShowColumn(g,"none")}else{if((!this._hrrar)||(!this._hrrar[g])){return}this._hrrar[g]="";this._hideShowColumn(g,"")}if((this.fldSorted)&&(this.fldSorted.cellIndex==g)&&(!e)){this.sortImg.style.display="inline"}},isColumnHidden:function(d){if((this._hrrar)&&(this._hrrar[d])){return true}return false},setColumnsVisibility:function(e){if(e){this._ivizcol=e.split(",")}if(this.hdr.rows.length&&this._ivizcol){for(var d=0;d<this._ivizcol.length;d++){this.setColumnHidden(d,this._ivizcol[d])}}},_fixHiddenRowsAll:function(g,k,m,h){var l=g.rows.length;for(var f=0;f<l;f++){var d=g.rows[f].cells;if(d.length!=this._cCount){for(var e=0;e<d.length;e++){if(d[e]._cellIndex==k){d[e].style[m]=h;break}}}else{d[k].style[m]=h}}},_hideShowColumn:function(g,f){var d=g;if((this.hdr.rows[1]._childIndexes)&&(this.hdr.rows[1]._childIndexes[g]!=g)){d=this.hdr.rows[1]._childIndexes[g]}if(f=="none"){this.hdr.rows[0].cells[g]._oldWidth=this.hdr.rows[0].cells[g].style.width;this.hdr.rows[0].cells[g]._oldWidthP=this.cellWidthPC[g];this.obj.rows[0].cells[g].style.width="0px";this._fixHiddenRowsAll(this.obj,g,"display","none");if(this._fixHiddenRowsAllTG){this._fixHiddenRowsAllTG(g,"none")}if((_isOpera&&_OperaRv<9)||_isKHTML||(_isFF)){this._fixHiddenRowsAll(this.hdr,g,"display","none");if(this.ftr){this._fixHiddenRowsAll(this.ftr.childNodes[0],g,"display","none")}}this._fixHiddenRowsAll(this.hdr,g,"whiteSpace","nowrap");if(!this.cellWidthPX.length&&!this.cellWidthPC.length){this.cellWidthPX=[].concat(this.initCellWidth)}if(this.cellWidthPX[g]){this.cellWidthPX[g]=0}if(this.cellWidthPC[g]){this.cellWidthPC[g]=0}}else{if(this.hdr.rows[0].cells[g]._oldWidth){var e=this.hdr.rows[0].cells[g];if(_isOpera||_isKHTML||(_isFF)){this._fixHiddenRowsAll(this.hdr,g,"display","")}if(this.ftr){this._fixHiddenRowsAll(this.ftr.childNodes[0],g,"display","")}this.obj.rows[0].cells[g].style.width=this.hdr.rows[0].cells[g]._oldWidth;this._fixHiddenRowsAll(this.obj,g,"display","");if(this._fixHiddenRowsAllTG){this._fixHiddenRowsAllTG(g,"")}e.style.width=e._oldWidth;this._fixHiddenRowsAll(this.hdr,g,"whiteSpace","normal");if(e._oldWidthP){this.cellWidthPC[g]=e._oldWidthP}if(e._oldWidth){this.cellWidthPX[g]=parseInt(e._oldWidth)}}}this.setSizes();if((!_isIE)&&(!_isFF)){this.obj.border=1;this.obj.border=0}},enableColSpan:function(d){this._ecspn=convertStringToBoolean(d)},enableRowsHover:function(e,d){this._hvrCss=d;if(convertStringToBoolean(e)){if(!this._elmnh){this.obj._honmousemove=this.obj.onmousemove;this.obj.onmousemove=this._setRowHover;if(_isIE){this.obj.onmouseleave=this._unsetRowHover}else{this.obj.onmouseout=this._unsetRowHover}this._elmnh=true}}else{if(this._elmnh){this.obj.onmousemove=this.obj._honmousemove;if(_isIE){this.obj.onmouseleave=null}else{this.obj.onmouseout=null}this._elmnh=false}}},enableEditEvents:function(e,f,d){this._sclE=convertStringToBoolean(e);this._dclE=convertStringToBoolean(f);this._f2kE=convertStringToBoolean(d)},enableLightMouseNavigation:function(d){if(convertStringToBoolean(d)){if(!this._elmn){this.entBox._onclick=this.entBox.onclick;this.entBox.onclick=function(){return true};this.obj._onclick=this.obj.onclick;this.obj.onclick=function(f){var g=this.grid.getFirstParentOfType(f?f.target:event.srcElement,"TD");this.grid.editStop();this.grid.doClick(g);this.grid.editCell();(f||event).cancelBubble=true};this.obj._onmousemove=this.obj.onmousemove;this.obj.onmousemove=this._autoMoveSelect;this._elmn=true}}else{if(this._elmn){this.entBox.onclick=this.entBox._onclick;this.obj.onclick=this.obj._onclick;this.obj.onmousemove=this.obj._onmousemove;this._elmn=false}}},_unsetRowHover:function(f,g){if(g){that=this}else{that=this.grid}if((that._lahRw)&&(that._lahRw!=g)){for(var d=0;d<that._lahRw.childNodes.length;d++){that._lahRw.childNodes[d].className=that._lahRw.childNodes[d].className.replace(that._hvrCss,"")}that._lahRw=null}},_setRowHover:function(f){var g=this.grid.getFirstParentOfType(f?f.target:event.srcElement,"TD");if(g&&g.parentNode!=this.grid._lahRw){this.grid._unsetRowHover(0,g);g=g.parentNode;for(var d=0;d<g.childNodes.length;d++){g.childNodes[d].className+=" "+this.grid._hvrCss}this.grid._lahRw=g}this._honmousemove(f)},_autoMoveSelect:function(d){if(!this.grid.editor){var f=this.grid.getFirstParentOfType(d?d.target:event.srcElement,"TD");if(f.parentNode.idd){this.grid.doClick(f,true,0)}}this._onmousemove(d)},enableDistributedParsing:function(f,d,e){if(convertStringToBoolean(f)){this._ads_count=d||10;this._ads_time=e||250}else{this._ads_count=0}},destructor:function(){if(this._sizeTime){this._sizeTime=window.clearTimeout(this._sizeTime)}if(this.formInputs){for(var e=0;e<this.formInputs.length;e++){this.parentForm.removeChild(this.formInputs[e])}}var d;this.xmlLoader=this.xmlLoader.destructor();for(var e=0;e<this.rowsCol.length;e++){if(this.rowsCol[e]){this.rowsCol[e].grid=null}}for(e in this.rowsAr){if(this.rowsAr[e]){this.rowsAr[e]=null}}this.rowsCol=new dhtmlxArray();this.rowsAr=new Array();this.entBox.innerHTML="";this.entBox.onclick=function(){};this.entBox.onmousedown=function(){};this.entBox.onbeforeactivate=function(){};this.entBox.onbeforedeactivate=function(){};this.entBox.onbeforedeactivate=function(){};this.entBox.onselectstart=function(){};this.entBox.grid=null;for(d in this){if((this[d])&&(this[d].m_obj)){this[d].m_obj=null}this[d]=null}if(this==globalActiveDHTMLGridObject){globalActiveDHTMLGridObject=null}return null},getSortingState:function(){var d=new Array();if(this.fldSorted){d[0]=this.fldSorted._cellIndex;d[1]=(this.sortImg.src.indexOf("sort_desc.gif")!=-1)?"des":"asc"}return d},enableAutoHeight:function(f,e,d){this._ahgr=convertStringToBoolean(f);this._ahgrF=convertStringToBoolean(d);this._ahgrM=e||null;if(e=="auto"){this._ahgrM=null;this._ahgrMA=true;this._setAutoResize()}},enableStableSorting:function(d){this._sst=convertStringToBoolean(d);this.rowsCol.stablesort=function(k){var h=this.length-1;for(var g=0;g<this.length-1;g++){for(var f=0;f<h;f++){if(k(this[f],this[f+1])>0){var e=this[f];this[f]=this[f+1];this[f+1]=e}}h--}}},enableKeyboardSupport:function(d){this._htkebl=!convertStringToBoolean(d)},enableContextMenu:function(d){this._ctmndx=d},setScrollbarWidthCorrection:function(d){this._scrFix=parseInt(d)},enableTooltips:function(e){this._enbTts=e.split(",");for(var d=0;d<this._enbTts.length;d++){this._enbTts[d]=convertStringToBoolean(this._enbTts[d])}},enableResizing:function(e){this._drsclmn=e.split(",");for(var d=0;d<this._drsclmn.length;d++){this._drsclmn[d]=convertStringToBoolean(this._drsclmn[d])}},setColumnMinWidth:function(d,e){if(arguments.length==2){if(!this._drsclmW){this._drsclmW=new Array()}this._drsclmW[e]=d}else{this._drsclmW=d.split(",")}},enableCellIds:function(d){this._enbCid=convertStringToBoolean(d)},lockRow:function(d,f){var e=this.getRowById(d);if(e){e._locked=convertStringToBoolean(f);if((this.cell)&&(this.cell.parentNode.idd==d)){this.editStop()}}},_getRowArray:function(g){var f=new Array();for(var e=0;e<g.childNodes.length;e++){var d=this.cells3(g,e);if(d.cell._code){f[e]=d.cell._val}else{f[e]=d.getValue()}}return f},setDateFormat:function(d){this._dtmask=d},setNumberFormat:function(m,f,h,l){var g=m.replace(/[^0\,\.]*/g,"");var d=g.indexOf(".");if(d>-1){d=g.length-d-1}var e=g.indexOf(",");if(e>-1){e=g.length-d-2-e}if(typeof h!="string"){h=this.i18n.decimal_separator}if(typeof l!="string"){l=this.i18n.group_separator}var n=m.split(g)[0];var k=m.split(g)[1];this._maskArr[f]=[d,e,n,k,h,l]},_aplNFb:function(g,f){var d=this._maskArr[f];if(!d){return g}var e=parseFloat(g.toString().replace(/[^0-9]*/g,""));if(g.toString().substr(0,1)=="-"){e=e*-1}if(d[0]>0){e=e/Math.pow(10,d[0])}return e},_aplNF:function(g,f){var d=this._maskArr[f];if(!d){return g}var h=(parseFloat(g)<0?"-":"")+d[2];g=Math.abs(Math.round(parseFloat(g)*Math.pow(10,d[0]>0?d[0]:0))).toString();g=(g.length<d[0]?Math.pow(10,d[0]+1-g.length).toString().substr(1,d[0]+1)+g.toString():g).split("").reverse();g[d[0]]=(g[d[0]]||"0")+d[4];if(d[1]>0){for(var e=(d[0]>0?0:1)+d[0]+d[1];e<g.length;e+=d[1]){g[e]+=d[5]}}return h+g.reverse().join("")+d[3]},_launchCommands:function(d){for(var g=0;g<d.length;g++){var f=new Array();for(var e=0;e<d[g].childNodes.length;e++){if(d[g].childNodes[e].nodeType==1){f[f.length]=d[g].childNodes[e].firstChild.data}}this[d[g].getAttribute("command")].apply(this,f)}},_parseHead:function(u){var k=this.xmlLoader.doXPath("//rows/head",u);if(k.length){var e=this.xmlLoader.doXPath("//rows/head/column",k[0]);var m=this.xmlLoader.doXPath("//rows/head/settings",k[0]);var n="setInitWidths";var q=false;if(m[0]){for(var v=0;v<m[0].childNodes.length;v++){switch(m[0].childNodes[v].tagName){case"colwidth":if(m[0].childNodes[v].firstChild&&m[0].childNodes[v].firstChild.data=="%"){n="setInitWidthsP"}break;case"splitat":q=(m[0].childNodes[v].firstChild?m[0].childNodes[v].firstChild.data:false);break}}}this._launchCommands(this.xmlLoader.doXPath("//rows/head/beforeInit/call",k[0]));if(e.length>0){var p=[[],[],[],[],[],[],[],[],[]];var r=["","width","type","align","sort","color","format","hidden","id"];var t=["setHeader",n,"setColTypes","setColAlign","setColSorting","setColumnColor","","","setColumnIds"];for(var l=0;l<e.length;l++){for(var h=1;h<r.length;h++){p[h].push(e[l].getAttribute(r[h]))}p[0].push((e[l].firstChild?e[l].firstChild.data:"").replace(/^\s*((.|\n)*.+)\s*$/gi,"$1"))}for(var l=0;l<t.length;l++){if(t[l]){this[t[l]](p[l].join(this.delim))}}for(var l=0;l<e.length;l++){if((this.cellType[l].indexOf("co")==0)||(this.cellType[l]=="clist")){var g=this.xmlLoader.doXPath("./option",e[l]);if(g.length){var d=new Array();if(this.cellType[l]=="clist"){for(var h=0;h<g.length;h++){d[d.length]=g[h].firstChild?g[h].firstChild.data:""}this.registerCList(l,d)}else{var f=this.getCombo(l);for(var h=0;h<g.length;h++){f.put(g[h].getAttribute("value"),g[h].firstChild?g[h].firstChild.data:"")}}}}else{if(p[6][l]){if((this.cellType[l]=="calendar")||(this.fldSort[l]=="date")){this.setDateFormat(p[6][l],l)}else{this.setNumberFormat(p[6][l],l)}}}}this.init();if(this.setColHidden){this.setColHidden(p[7].join(this.delim))}if((q)&&(this.splitAt)){this.splitAt(q)}}this._launchCommands(this.xmlLoader.doXPath("//rows/head/afterInit/call",k[0]))}var o=this.xmlLoader.doXPath("//rows/userdata",u);if(o.length>0){if(!this.UserData.gridglobaluserdata){this.UserData.gridglobaluserdata=new Hashtable()}for(var h=0;h<o.length;h++){this.UserData.gridglobaluserdata.put(o[h].getAttribute("name"),o[h].firstChild?o[h].firstChild.data:"")}}},getCheckedRows:function(e){var f=new Array();this.forEachRow(function(d){if(this.cells(d,e).getValue()!=0){f.push(d)}});return f.join(",")},_drawTooltip:function(h){var k=this.grid.getFirstParentOfType(h?h.target:event.srcElement,"TD");if((this.grid.editor)&&(this.grid.editor.cell==k)){return true}var g=k.parentNode;if(!g.idd||g.idd=="__filler__"){return}var f=(h?h.target:event.srcElement);if(g.idd==window.unknown){return true}if(!this.grid.callEvent("onMouseOver",[g.idd,k._cellIndex])){return true}if((this.grid._enbTts)&&(!this.grid._enbTts[k._cellIndex])){if(f.title){f.title=""}return true}if(k._cellIndex>=this.grid._cCount){return}var d=this.grid.cells(g.idd,k._cellIndex);if(!d){return}if(f._title){d.cell.title=""}if(!d.cell._attrs.title){f._title=true}if(d){f.title=d.cell._attrs.title||(d.getTitle?d.getTitle():(d.getValue()||"").toString().replace(/<[^>]*>/gi,""))}return true},enableCellWidthCorrection:function(d){if(_isFF){this._wcorr=parseInt(d)}},getAllRowIds:function(f){var d=[];for(var e=0;e<this.rowsBuffer.length;e++){if(this.rowsBuffer[e]){d.push(this.rowsBuffer[e].idd)}}return d.join(f||this.delim)},getAllItemIds:function(){return this.getAllRowIds()},setColspan:function(e,s,f){if(!this._ecspn){return}var d=this.getRowById(e);if((d._childIndexes)&&(d.childNodes[d._childIndexes[s]])){var k=d._childIndexes[s];var g=d.childNodes[k];var h=g.colSpan;g.colSpan=1;if((h)&&(h!=1)){for(var o=1;o<h;o++){var q=document.createElement("TD");if(g.nextSibling){d.insertBefore(q,g.nextSibling)}else{d.appendChild(q)}d._childIndexes[s+o]=k+o;q._cellIndex=s+o;q.align=this.cellAlign[o];q.style.verticalAlign=this.cellVAlign[o];g=q;this.cells3(d,k+o-1).setValue("")}}for(var p=s*1+1*h;p<d._childIndexes.length;p++){d._childIndexes[p]+=(h-1)*1}}if((f)&&(f>1)){if(d._childIndexes){var k=d._childIndexes[s]}else{var k=s;d._childIndexes=new Array();for(var p=0;p<d.childNodes.length;p++){d._childIndexes[p]=p}}d.childNodes[k].colSpan=f;for(var p=1;p<f;p++){d._childIndexes[d.childNodes[k+1]._cellIndex]=k;d.removeChild(d.childNodes[k+1])}var l=d.childNodes[d._childIndexes[s]]._cellIndex;for(var p=l*1+1*f;p<d._childIndexes.length;p++){d._childIndexes[p]-=(f-1)}}},preventIECaching:function(d){this.no_cashe=convertStringToBoolean(d);this.xmlLoader.rSeed=this.no_cashe},enableColumnAutoSize:function(d){this._eCAS=convertStringToBoolean(d)},_onHeaderDblClick:function(g){var f=this.grid;var d=f.getFirstParentOfType(_isIE?event.srcElement:g.target,"TD");if(!f._eCAS){return false}f.adjustColumnSize(d._cellIndexS)},adjustColumnSize:function(h,n){this._notresize=true;var d=0;this._setColumnSizeR(h,20);for(var g=1;g<this.hdr.rows.length;g++){var f=this.hdr.rows[g];f=f.childNodes[(f._childIndexes)?f._childIndexes[h]:h];if((f)&&((!f.colSpan)||(f.colSpan<2))){if((f.childNodes[0])&&(f.childNodes[0].className=="hdrcell")){f=f.childNodes[0]}d=Math.max(d,((_isFF||_isOpera)?(f.textContent.length*7):f.scrollWidth))}}var e=this.obj.rows.length;for(var k=1;k<e;k++){var o=this.obj.rows[k];if(o._childIndexes&&o._childIndexes[h]!=h||!o.childNodes[h]){continue}if(_isFF||_isOpera||n){o=o.childNodes[h].textContent.length*7}else{o=o.childNodes[h].scrollWidth}if(o>d){d=o}}d+=20+(n||0);this._setColumnSizeR(h,d);this._notresize=false;this.setSizes()},detachHeader:function(d,f){f=f||this.hdr;var e=f.rows[d+1];if(e){e.parentNode.removeChild(e)}this.setSizes()},detachFooter:function(d){this.detachHeader(d,this.ftr)},attachHeader:function(d,g,e){if(typeof(d)=="string"){d=this._eSplit(d)}if(typeof(g)=="string"){g=g.split(this.delim)}e=e||"_aHead";if(this.hdr.rows.length){if(d){this._createHRow([d,g],this[(e=="_aHead")?"hdr":"ftr"])}else{if(this[e]){for(var f=0;f<this[e].length;f++){this.attachHeader.apply(this,this[e][f])}}}}else{if(!this[e]){this[e]=new Array()}this[e][this[e].length]=[d,g,e]}},_createHRow:function(f,o){if(!o){this.entBox.style.position="relative";var l=document.createElement("DIV");l.className="c_ftr".substr(2);this.entBox.appendChild(l);var r=document.createElement("TABLE");r.cellPadding=r.cellSpacing=0;if(!_isIE){r.width="100%";r.style.paddingRight="20px"}r.style.tableLayout="fixed";l.appendChild(r);r.appendChild(document.createElement("TBODY"));this.ftr=o=r;var k=r.insertRow(0);var d=((this.hdrLabels.length<=1)?f[0].length:this.hdrLabels.length);for(var g=0;g<d;g++){k.appendChild(document.createElement("TH"));k.childNodes[g]._cellIndex=g}if(_isIE){k.style.position="absolute"}else{k.style.height="auto"}}var h=f[1];var l=document.createElement("TR");o.rows[0].parentNode.appendChild(l);for(var g=0;g<f[0].length;g++){if(f[0][g]=="#cspan"){var m=l.cells[l.cells.length-1];m.colSpan=(m.colSpan||1)+1;continue}if((f[0][g]=="#rspan")&&(o.rows.length>1)){var u=o.rows.length-2;var s=false;var m=null;while(!s){var m=o.rows[u];for(var e=0;e<m.cells.length;e++){if(m.cells[e]._cellIndex==g){s=e+1;break}}u--}m=m.cells[s-1];m.rowSpan=(m.rowSpan||1)+1;continue}var n=document.createElement("TD");n._cellIndex=n._cellIndexS=g;if(this._hrrar&&this._hrrar[g]&&!_isIE){n.style.display="none"}if(this.forceDivInHeader){n.innerHTML="<div class='hdrcell'>"+f[0][g]+"</div>"}else{n.innerHTML=f[0][g]}if((f[0][g]||"").indexOf("#")!=-1){var r=f[0][g].match(/(^|{)#([^}]+)(}|$)/);if(r){var p="_in_header_"+r[2];if(this[p]){this[p]((this.forceDivInHeader?n.firstChild:n),g,f[0][g].split(r[0]))}}}if(h){n.style.cssText=h[g]}l.appendChild(n)}var q=o;if(_isKHTML){if(o._kTimer){window.clearTimeout(o._kTimer)}o._kTimer=window.setTimeout(function(){o.rows[1].style.display="none";window.setTimeout(function(){o.rows[1].style.display=""},1)},500)}},attachFooter:function(d,e){this.attachHeader(d,e,"_aFoot")},setCellExcellType:function(f,d,e){this.changeCellType(this.rowsAr[f],d,e)},changeCellType:function(g,h,f){f=f||this.cellType[h];var k=this.cells3(g,h);var e=k.getValue();var d=k.cell._cellType||this.cellType[k.cell._cellIndex];this._removeClassFromCellType(k.cell,d);k.cell._cellType=f;var k=this.cells3(g,h);k.setValue(e);if(this.editHints.enabledOnCells){this._addClassFromCellType(k.cell,f)}},setRowExcellType:function(f,e){var g=this.rowsAr[f];for(var d=0;d<g.childNodes.length;d++){this.changeCellType(g,d,e)}},setColumnExcellType:function(d,f){for(var e=0;e<this.rowsCol.length;e++){this.changeCellType(this.rowsCol[e],d,f)}},dhx_Event:function(){this.dhx_SeverCatcherPath="";this.attachEvent=function(original,catcher,CallObj){CallObj=CallObj||this;original="ev_"+original;if((!this[original])||(!this[original].addEvent)){var z=new this.eventCatcher(CallObj);z.addEvent(this[original]);this[original]=z}return(original+":"+this[original].addEvent(catcher))};this.callEvent=function(name,arg0){if(this["ev_"+name]){return this["ev_"+name].apply(this,arg0)}return true};this.checkEvent=function(name){if(this["ev_"+name]){return true}return false};this.eventCatcher=function(obj){var dhx_catch=new Array();var m_obj=obj;var z=function(){if(dhx_catch){var res=true}for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]!=null){var zr=dhx_catch[i].apply(m_obj,arguments);res=res&&zr}}return res};z.addEvent=function(ev){if(typeof(ev)!="function"){ev=eval(ev)}if(ev){return dhx_catch.push(ev)-1}return false};z.removeEvent=function(id){dhx_catch[id]=null};return z};this.detachEvent=function(id){if(id!=false){var list=id.split(":");this[list[0]].removeEvent(list[1])}}},forEachRow:function(d){for(a in this.rowsAr){if(this.rowsAr[a]&&this.rowsAr[a].idd){d.apply(this,[this.rowsAr[a].idd])}}},forEachCell:function(f,e){var g=this.rowsAr[f];if(!g){return}for(var d=0;d<this._cCount;d++){e(this.cells3(g,d),d)}},enableAutoWidth:function(f,d,e){this._awdth=[convertStringToBoolean(f),(d||99999),(e||0)]},updateFromXML:function(d,g,e,f){if(typeof g=="undefined"){g=true}this._refresh_mode=[true,g,e];this.load(d,f)},_refreshFromXML:function(g){if(window.eXcell_tree){eXcell_tree.prototype.setValueX=eXcell_tree.prototype.setValue;eXcell_tree.prototype.setValue=function(n){if(this.grid._h2.get[this.cell.parentNode.idd]){this.setLabel(n[1]);if(n[3]){this.setImage(n[3])}}else{this.setValueX(n)}}}var d=this.cellType._dhx_find("tree");g.getXMLTopNode("rows");var f=g.doXPath("//rows")[0].getAttribute("parent")||0;var e={};if(this._refresh_mode[2]){if(d!=-1){this._h2.forEachChild(f,function(n){e[n.id]=true},this)}else{this.forEachRow(function(n){e[n]=true})}}var k=g.doXPath("//row");for(var h=0;h<k.length;h++){var l=k[h];var m=l.getAttribute("id");e[m]=false;var f=l.parentNode.getAttribute("id")||f;if(this.rowsAr[m]&&this.rowsAr[m].tagName!="TR"){this.rowsAr[m].data=l}else{if(this.rowsAr[m]){this._process_xml_row(this.rowsAr[m],l,-1);this._postRowProcessing(this.rowsAr[m])}else{if(this._refresh_mode[1]){this.rowsBuffer.push({idd:m,data:l,_parser:this._process_xml_row,_locator:this._get_xml_data});this.rowsAr[m]=l;l=this.render_row(this.rowsBuffer.length-1);this._insertRowAt(l,-1)}}}}if(this._refresh_mode[2]){for(m in e){if(e[m]&&this.rowsAr[m]){this.deleteRow(m)}}}this._refresh_mode=null;if(window.eXcell_tree){eXcell_tree.prototype.setValue=eXcell_tree.prototype.setValueX}this.callEvent("onXLE",[this,k.length])},getCustomCombo:function(f,e){var d=this.cells(f,e).cell;if(!d._combo){d._combo=new dhtmlXGridComboObject()}return d._combo},setTabOrder:function(d){var f=d.split(this.delim);this._tabOrder=[];for(var e=0;e<this._cCount;e++){f[e]={c:parseInt(f[e]),ind:e}}f.sort(function(h,g){return(h.c>g.c?1:-1)});for(var e=0;e<this._cCount;e++){if(!f[e+1]||(typeof f[e].c=="undefined")){this._tabOrder[f[e].ind]=(f[0].ind+1)*-1}else{this._tabOrder[f[e].ind]=f[e+1].ind}}},i18n:{loading:"Loading",decimal_separator:".",group_separator:","},_key_events:{k13_1_0:function(){var d=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[d+1],this.cell._cellIndex,true)},k13_0_1:function(){var d=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[d-1],this.cell._cellIndex,true)},k13_0_0:function(){this.editStop();this.callEvent("onEnter",[(this.row?this.row.idd:null),(this.cell?this.cell._cellIndex:null)]);this._still_active=true},k9_0_0:function(){this.editStop();var d=this._getNextCell(null,1);if(d){this.selectCell(d.parentNode,d._cellIndex,(this.row!=d.parentNode),false,true);this._still_active=true}},k9_0_1:function(){this.editStop();var d=this._getNextCell(null,-1);if(d){this.selectCell(d.parentNode,d._cellIndex,(this.row!=d.parentNode),false,true);this._still_active=true}},k113_0_0:function(){if(this._f2kE){this.editCell()}},k32_0_0:function(){var d=this.cells4(this.cell);if(!d.changeState||(d.changeState()===false)){return false}},k27_0_0:function(){this.editStop(true)},k33_0_0:function(){if(this.pagingOn){this.changePage(this.currentPage-1)}else{this.scrollPage(-1)}},k34_0_0:function(){if(this.pagingOn){this.changePage(this.currentPage+1)}else{this.scrollPage(1)}},k37_0_0:function(){if(!this.editor&&this.isTreeGrid()){this.collapseKids(this.row)}else{return false}},k39_0_0:function(){if(!this.editor&&this.isTreeGrid()){this.expandKids(this.row)}else{return false}},k40_0_0:function(){if(this.editor&&this.editor.combo){this.editor.shiftNext()}else{var d=this.rowsCol._dhx_find(this.row)+1;if(d!=this.rowsCol.length&&d!=this.obj.rows.length-1){var e=this._nextRow(d-1,1);this.selectCell(e,this.cell._cellIndex,true)}else{this._key_events.k34_0_0.apply(this,[]);if(this.pagingOn&&this.rowsCol[0]){this.selectCell(0,0,true)}}}this._still_active=true},k38_0_0:function(){if(this.editor&&this.editor.combo){this.editor.shiftPrev()}else{var d=this.rowsCol._dhx_find(this.row)+1;if(d!=-1&&(!this.pagingOn||(d!=1))){var e=this._nextRow(d-1,-1);this.selectCell(e,this.cell._cellIndex,true)}else{this._key_events.k33_0_0.apply(this,[]);if(this.pagingOn&&this.rowsCol[this.rowsBufferOutSize-1]){this.selectCell(this.rowsBufferOutSize-1,0,true)}}}this._still_active=true}},_build_master_row:function(){var f=document.createElement("DIV");var e=["<table><tr>"];for(var d=0;d<this._cCount;d++){e.push("<td></td>")}e.push("</tr></table>");f.innerHTML=e.join("");this._master_row=f.firstChild.rows[0]},_cellTypeIsEditable:function(d){switch(d){case"ed":case"coro":case"co":case"dhxCalendar":case"txt":return true;break}return false},_classNameFromCellType:function(d){var e="";switch(d){case"ed":case"dhxCalendar":e="hintEditable";break;case"coro":e="hintSelectboxSelectable";break;case"co":e="hintComboboxSelectable";break;case"txt":e="hintTextareaEditable";break}return e},_removeClassFromCellType:function(f,d){var e=this._classNameFromCellType(d);f.className=f.className.replace(e,"")},_addClassFromCellType:function(f,d){var e=this._classNameFromCellType(d);f.className+=" "+e},_prepareRow:function(d){if(!this._master_row){this._build_master_row()}var f=this._master_row.cloneNode(true);for(var e=0;e<f.childNodes.length;e++){if(this.editHints.enabledOnCells){this._addClassFromCellType(f.childNodes[e],this.cellType[e])}f.childNodes[e]._cellIndex=e;if(this.dragAndDropOff){this.dragger.addDraggableItem(f.childNodes[e],this)}}f.idd=d;f.grid=this;return f},_process_jsarray_row:function(e,f){e._attrs={};for(var d=0;d<e.childNodes.length;d++){e.childNodes[d]._attrs={}}this._fillRow(e,(this._c_order?this._swapColumns(f):f));return e},_get_jsarray_data:function(e,d){return e[d]},_process_json_row:function(e,f){e._attrs={};for(var d=0;d<e.childNodes.length;d++){e.childNodes[d]._attrs={}}this._fillRow(e,(this._c_order?this._swapColumns(f.data):f.data));return e},_get_json_data:function(e,d){return e.data[d]},_process_csv_row:function(e,f){e._attrs={};for(var d=0;d<e.childNodes.length;d++){e.childNodes[d]._attrs={}}this._fillRow(e,(this._c_order?this._swapColumns(f.split(this.csv.cell)):f.split(this.csv.cell)));return e},_get_csv_data:function(e,d){return e.split(this.csv.cell)[d]},_process_xml_row:function(d,h){var n=this.xmlLoader.doXPath("./cell",h);var l=[];d._attrs=this._xml_attrs(h);if(this._ud_enabled){var m=this.xmlLoader.doXPath("./userdata",h);for(var f=m.length-1;f>=0;f--){this.setUserData(d.idd,m[f].getAttribute("name"),m[f].firstChild?m[f].firstChild.data:"")}}for(var e=0;e<n.length;e++){var g=n[e];var k=g.getAttribute("type");if(d.childNodes[e]){if(k){d.childNodes[e]._cellType=k}d.childNodes[e]._attrs=this._xml_attrs(n[e])}if(g.getAttribute("xmlcontent")){g=n[e]}else{if(g.firstChild){g=g.firstChild.data}else{g=""}}l.push(g)}for(e<n.length;e<d.childNodes.length;e++){d.childNodes[e]._attrs={}}if(d.parentNode&&d.parentNode.tagName=="row"){d._attrs.parent=d.parentNode.getAttribute("idd")}this._fillRow(d,(this._c_order?this._swapColumns(l):l));return d},_get_xml_data:function(e,d){e=e.firstChild;while(true){if(!e){return""}if(e.tagName=="cell"){d--}if(d<0){break}e=e.nextSibling}return(e.firstChild?e.firstChild.data:"")},_fillRow:function(f,h){if(this.editor){this.editStop()}for(var e=0;e<f.childNodes.length;e++){if((e<h.length)||(this.defVal[e])){var g=h[e];var d=this.cells5(f.childNodes[e],(f.childNodes[e]._cellType||this.cellType[e]));if((this.defVal[e])&&((g=="")||(typeof(g)=="undefined"))){g=this.defVal[e]}d.setValue(g)}else{var g="&nbsp;";f.childNodes[e].innerHTML=g;f.childNodes[e]._clearCell=true}}return f},_postRowProcessing:function(g){if(g._attrs["class"]){g.className=g._attrs["class"]}if(g._attrs.locked){g._locked=true}if(g._attrs.bgColor){g.bgColor=g._attrs.bgColor}var h=0;for(var e=0;e<g.childNodes.length;e++){c=g.childNodes[e+h];var f=c._attrs.style||g._attrs.style;if(f){c.style.cssText+=";"+f}if(c._attrs["class"]){c.className=c._attrs["class"]}f=c._attrs.align||this.cellAlign[e];if(f){c.align=f}c.style.verticalAlign=c._attrs.valign||this.cellVAlign[e];var d=c._attrs.bgColor||this.columnColor[e];if(d){c.bgColor=d}if(c._attrs.colspan){this.setColspan(g.idd,e,c._attrs.colspan);h+=(1-c._attrs.colspan);e-=(1-c._attrs.colspan)}if(this._hrrar&&this._hrrar[e]){c.style.display="none"}}this.callEvent("onRowCreated",[g.idd,g,null])},load:function(d,f,e){this.callEvent("onXLS",[this]);if(arguments.length==2&&typeof f!="function"){e=f;f=null}e=e||"xml";if(!this.xmlFileUrl){this.xmlFileUrl=d}this._data_type=e;this.xmlLoader.onloadAction=function(k,g,m,l,h){h=k["_process_"+e](h);if(!k._contextCallTimer){k.callEvent("onXLE",[k,0,0,h])}if(f){f();f=null}};this.xmlLoader.loadXML(d)},loadXMLString:function(f,e){var d=new dtmlXMLLoaderObject(function(){});d.loadXMLString(f);this.parse(d,e,"xml")},loadXML:function(d,e){this.load(d,e,"xml")},parse:function(f,e,d){if(arguments.length==2&&typeof e!="function"){d=e;e=null}d=d||"xml";this._data_type=d;f=this["_process_"+d](f);if(!this._contextCallTimer){this.callEvent("onXLE",[this,0,0,f])}if(e){e()}},xml:{top:"rows",row:"./row",cell:"./cell",s_row:"row",s_cell:"cell",row_attrs:[],cell_attrs:[]},csv:{row:"\n",cell:","},_xml_attrs:function(e){var f={};if(e.attributes.length){for(var d=0;d<e.attributes.length;d++){f[e.attributes[d].name]=e.attributes[d].value}}return f},_process_xml:function(d){if(this._refresh_mode){return this._refreshFromXML(d)}if(!d.doXPath){var f=new dtmlXMLLoaderObject(function(){});if(typeof d=="string"){f.loadXMLString(d)}else{if(d.responseXML){f.xmlDoc=d}else{f.xmlDoc={}}f.xmlDoc.responseXML=d}d=f}this._parsing=true;var l=d.getXMLTopNode(this.xml.top);if(l.tagName.toLowerCase()!=this.xml.top){return}this._parseHead(l);var k=d.doXPath(this.xml.row,l);var h=parseInt(d.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0);var g=parseInt(d.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0);if(g&&!this.rowsBuffer[g-1]){this.rowsBuffer[g-1]=null}if(this.isTreeGrid()){return this._process_tree_xml(d)}for(var e=0;e<k.length;e++){if(this.rowsBuffer[e+h]){continue}var m=k[e].getAttribute("id");this.rowsBuffer[e+h]={idd:m,data:k[e],_parser:this._process_xml_row,_locator:this._get_xml_data};this.rowsAr[m]=k[e]}this.render_dataset();this._parsing=false;return d.xmlDoc.responseXML?d.xmlDoc.responseXML:d.xmlDoc},_process_jsarray:function(data){this._parsing=true;if(data&&data.xmlDoc){eval("data="+data.xmlDoc.responseText+";")}for(var i=0;i<data.length;i++){var id=i+1;this.rowsBuffer.push({idd:id,data:data[i],_parser:this._process_jsarray_row,_locator:this._get_jsarray_data});this.rowsAr[id]=data[i]}this.render_dataset();this._parsing=false},_process_csv:function(f){this._parsing=true;if(f.xmlDoc){f=f.xmlDoc.responseText}f=f.replace(/\r/g,"");f=f.split(this.csv.row);if(this._csvHdr){this.clearAll();this.setHeader(f.splice(0,1).split(this.csv.cell).join(this.delim));this.init()}for(var e=0;e<f.length;e++){if(this._csvAID){var g=e+1;this.rowsBuffer.push({idd:g,data:f[e],_parser:this._process_csv_row,_locator:this._get_csv_data})}else{var d=f[e].split(this.csv.cell);var g=d.splice(0,1)[0];this.rowsBuffer.push({idd:g,data:d,_parser:this._process_jsarray_row,_locator:this._get_jsarray_data})}this.rowsAr[g]=f[e]}this.render_dataset();this._parsing=false},_process_json:function(data){this._parsing=true;if(data&&data.xmlDoc){eval("data="+data.xmlDoc.responseText+";")}for(var i=0;i<data.rows.length;i++){var id=data.rows[i].id;this.rowsBuffer.push({idd:id,data:data.rows[i],_parser:this._process_json_row,_locator:this._get_json_data});this.rowsAr[id]=data[i]}this.render_dataset();this._parsing=false},render_dataset:function(f,d){if(this._srnd){if(this._fillers){return this._update_srnd_view()}d=Math.min(this._get_view_size(),this.rowsBuffer.length)}if(this.pagingOn){f=(this.currentPage-1)*this.rowsBufferOutSize;d=Math.min(f+this.rowsBufferOutSize,this.rowsBuffer.length)}else{f=f||0;d=d||this.rowsBuffer.length}for(var e=f;e<d;e++){var h=this.render_row(e);if(h==-1){if(this.xmlFileUrl){this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+e+"&count="+(this._dpref?this._dpref:(d-e)),this._data_type)}d=e;break}if(!h.parentNode||!h.parentNode.tagName){this._insertRowAt(h,e);if(h._attrs.selected){this.selectRow(h,false,true);delete h._attrs.selected}}if(this._ads_count&&e-f==this._ads_count){var g=this;return this._contextCallTimer=window.setTimeout(function(){g._contextCallTimer=null;g.render_dataset(e,d);if(!g._contextCallTimer){g.callEvent("onXLE",[])}},this._ads_time)}}if(this._srnd&&!this._fillers){this._fillers=[this._add_filler(d,this.rowsBuffer.length-d)]}this.setSizes()},render_row:function(e){if(!this.rowsBuffer[e]){return -1}if(this.rowsBuffer[e]._parser){var d=this.rowsBuffer[e];var f=this._prepareRow(d.idd);this.rowsBuffer[e]=f;this.rowsAr[d.idd]=f;d._parser.call(this,f,d.data);this._postRowProcessing(f);return f}return this.rowsBuffer[e]},_get_cell_value:function(e,d,f){if(e._locator){if(this._c_order){d=this._c_order[d]}return e._locator.call(this,e.data,d)}return this.cells3(e,d)[f?f:"getValue"]()},sortRows:function(f,k,e){e=(e||"asc").toLowerCase();k=(k||this.fldSort[f]);f=f||0;if(this.isTreeGrid()){return this.sortTreeRows(f,k,e)}var d={};var h=this.cellType[f];var l="getValue";if(h=="link"){l="getContent"}if(h=="dhxCalendar"||h=="dhxCalendarA"){l="getDate"}for(var g=0;g<this.rowsBuffer.length;g++){d[this.rowsBuffer[g].idd]=this._get_cell_value(this.rowsBuffer[g],f,l)}this._sortRows(f,k,e,d)},_sortCore:function(f,k,e,d,h){var g="sort";if(this._sst){h.stablesort=this.rowsCol.stablesort;g="stablesort"}if(k.length>4){k=window[k]}if(k=="cus"){var l=this._customSorts[f];h[g](function(n,m){return l(d[n.idd],d[m.idd],e,n.idd,m.idd)})}else{if(typeof(k)=="function"){h[g](function(n,m){return k(d[n.idd],d[m.idd],e,n.idd,m.idd)})}else{if(k=="str"){h[g](function(n,m){if(e=="asc"){return d[n.idd]>d[m.idd]?1:-1}else{return d[n.idd]<d[m.idd]?1:-1}})}else{if(k=="int"){h[g](function(o,n){var m=parseFloat(d[o.idd]);m=isNaN(m)?-99999999999999:m;var p=parseFloat(d[n.idd]);p=isNaN(p)?-99999999999999:p;if(e=="asc"){return m-p}else{return p-m}})}else{if(k=="date"){h[g](function(o,n){var m=Date.parse(d[o.idd])||(Date.parse("01/01/1900"));var p=Date.parse(d[n.idd])||(Date.parse("01/01/1900"));if(e=="asc"){return m-p}else{return p-m}})}}}}}},_sortRows:function(f,g,e,d){this._sortCore(f,g,e,d,this.rowsBuffer);this._reset_view();this.callEvent("onGridReconstructed",[])},_reset_view:function(f){var d=this.obj.rows[0].parentNode;var g=d.removeChild(d.childNodes[0],true);if(_isKHTML){for(var e=d.parentNode.childNodes.length-1;e>=0;e--){if(d.parentNode.childNodes[e].tagName=="TR"){d.parentNode.removeChild(d.parentNode.childNodes[e],true)}}}else{if(_isIE){for(var e=d.childNodes.length-1;e>=0;e--){d.childNodes[e].removeNode(true)}}else{d.innerHTML=""}}d.appendChild(g);this.rowsCol=dhtmlxArray();this._fillers=this.undefined;if(!f){this.render_dataset()}},deleteRow:function(d,g){if(!g){g=this.getRowById(d)}if(!g){return}this.editStop();if(this.callEvent("onBeforeRowDeleted",[d])==false){return false}if(this.cellType._dhx_find("tree")!=-1){this._removeTrGrRow(g)}else{if(g.parentNode){g.parentNode.removeChild(g)}var k=this.rowsCol._dhx_find(g);if(k!=-1){this.rowsCol._dhx_removeAt(k)}for(var e=0;e<this.rowsBuffer.length;e++){if(this.rowsBuffer[e]&&this.rowsBuffer[e].idd==d){this.rowsBuffer._dhx_removeAt(e);k=e;break}}}this.rowsAr[d]=null;for(var e=0;e<this.selectedRows.length;e++){if(this.selectedRows[e].idd==d){this.selectedRows._dhx_removeAt(e)}}if(this._srnd){for(var e=0;e<this._fillers.length;e++){var h=this._fillers[e];if(h[0]>=k){h[0]=h[0]-1}else{if(h[1]>=k){h[1]=h[1]-1}}}this._update_srnd_view()}if(this.pagingOn){this.changePage()}this.callEvent("onGridReconstructed",[]);return true},_addRow:function(d,n,l){if(l==-1||typeof l=="undefined"){l=this.rowsBuffer.length}if(typeof n=="string"){n=n.split(this.delim)}var m=this._prepareRow(d);m._attrs={};for(var e=0;e<m.childNodes.length;e++){m.childNodes[e]._attrs={}}this.rowsAr[m.idd]=m;this._fillRow(m,n);this._postRowProcessing(m);if(this._skipInsert){this._skipInsert=false;return this.rowsAr[m.idd]=m}if(this.pagingOn){this.rowsBuffer._dhx_insertAt(l,m);this.rowsAr[m.idd]=m;return m}if(this._fillers){this.rowsCol._dhx_insertAt(l,null);this.rowsBuffer._dhx_insertAt(l,m);this.rowsAr[m.idd]=m;var k=false;for(var g=0;g<this._fillers.length;g++){var h=this._fillers[g];if(h&&h[0]<=l&&(h[0]+h[1])>=l){h[1]=h[1]+1;k=true}if(h&&h[0]>=l){h[0]=h[0]+1}}if(!k){this._fillers.push(this._add_filler(l,1,(l==0?{parentNode:this.obj.rows[0].parentNode,nextSibling:(this.rowsCol[1])}:this.rowsCol[l-1])))}return m}this.rowsBuffer._dhx_insertAt(l,m);return this._insertRowAt(m,l)},addRow:function(d,g,f){var e=this._addRow(d,g,f);if(!this.dragContext){this.callEvent("onRowAdded",[d])}if(this.pagingOn){this.changePage(this.currentPage)}if(this._srnd){this._update_srnd_view()}e._added=true;if(this._ahgr){this.setSizes()}this.callEvent("onGridReconstructed",[]);return e},_insertRowAt:function(e,f,d){this.rowsAr[e.idd]=e;if(this._skipInsert){this._skipInsert=false;return e}if((f<0)||((!f)&&(parseInt(f)!==0))){f=this.rowsCol.length}else{if(f>this.rowsCol.length){f=this.rowsCol.length}}if(this._cssEven){if((this._cssSP?this.getLevel(e.idd):f)%2==1){e.className+=" "+this._cssUnEven+(this._cssSU?(this._cssUnEven+"_"+this.getLevel(e.idd)):"")}else{e.className+=" "+this._cssEven+(this._cssSU?(" "+this._cssEven+"_"+this.getLevel(e.idd)):"")}}if(!d){if((f==(this.obj.rows.length-1))||(!this.rowsCol[f])){if(_isKHTML){this.obj.appendChild(e)}else{this.obj.firstChild.appendChild(e)}}else{this.rowsCol[f].parentNode.insertBefore(e,this.rowsCol[f])}}this.rowsCol._dhx_insertAt(f,e);return e},getRowById:function(f){var e=this.rowsAr[f];if(e){if(e.tagName!="TR"){for(var d=0;d<this.rowsBuffer.length;d++){if(this.rowsBuffer[d]&&this.rowsBuffer[d].idd==f){return this.render_row(d)}}if(this._h2){return this.render_row(null,e.idd)}}return e}return null},cellById:function(e,d){return this.cells(e,d)},cells:function(f,e){if(arguments.length==0){return this.cells4(this.cell)}else{var g=this.getRowById(f)}var d=(g._childIndexes?g.childNodes[g._childIndexes[e]]:g.childNodes[e]);return this.cells4(d)},cellByIndex:function(e,d){return this.cells2(e,d)},cells2:function(f,e){var g=this.render_row(f);var d=(g._childIndexes?g.childNodes[g._childIndexes[e]]:g.childNodes[e]);return this.cells4(d)},cells3:function(f,e){var d=(f._childIndexes?f.childNodes[f._childIndexes[e]]:f.childNodes[e]);return this.cells4(d)},cells4:function(d){var e=window["eXcell_"+(d._cellType||this.cellType[d._cellIndex])];if(e){return new e(d)}},cells5:function(d,f){var f=f||(d._cellType||this.cellType[d._cellIndex]);if(!this._ecache[f]){if(!window["eXcell_"+f]){var e=eXcell_ro}else{var e=window["eXcell_"+f]}this._ecache[f]=new e(d)}this._ecache[f].cell=d;return this._ecache[f]},dma:function(d){if(!this._ecache){this._ecache={}}if(d&&!this._dma){this._dma=this.cells4;this.cells4=this.cells5}else{if(!d&&this._dma){this.cells4=this._dma;this._dma=null}}},getRowsNum:function(){return this.rowsBuffer.length},enableEditTabOnly:function(d){if(arguments.length>0){this.smartTabOrder=convertStringToBoolean(d)}else{this.smartTabOrder=true}},setExternalTabOrder:function(f,d){var e=this;this.tabStart=(typeof(f)=="object")?f:document.getElementById(f);this.tabStart.onkeydown=function(h){var g=(h||window.event);g.cancelBubble=true;if(g.keyCode==9){e.selectCell(0,0,0,0,1);if(e.cells2(0,0).isDisabled()){e._key_events.k9_0_0.call(e)}return false}};this.tabEnd=(typeof(d)=="object")?d:document.getElementById(d);this.tabEnd.onkeydown=function(h){var g=(h||window.event);g.cancelBubble=true;if((g.keyCode==9)&&g.shiftKey){e.selectCell((e.getRowsNum()-1),(e.getColumnCount()-1),0,0,1);if(e.cells2((e.getRowsNum()-1),(e.getColumnCount()-1)).isDisabled()){e._key_events.k9_0_1.call(e)}return false}}},uid:function(){if(!this._ui_seed){this._ui_seed=(new Date()).valueOf()}return this._ui_seed++},clearAndLoad:function(){var d=this._pgn_skin;this._pgn_skin=null;this.clearAll();this._pgn_skin=d;this.load.apply(this,arguments)},getStateOfView:function(){if(this.pagingOn){return[this.currentPage,(this.currentPage-1)*this.rowsBufferOutSize,(this.currentPage-1)*this.rowsBufferOutSize+this.rowsCol.length,this.rowsBuffer.length]}return[Math.floor(this.objBox.scrollTop/this._srdh),Math.ceil(parseInt(this.objBox.offsetHeight)/this._srdh),this.limit]}};function dhtmlXGridCellObject(d){this.destructor=function(){this.cell.obj=null;this.cell=null;this.grid=null;this.base=null;return null};this.cell=d;this.getValue=function(){if((this.cell.firstChild)&&(this.cell.firstChild.tagName=="TEXTAREA")){return this.cell.firstChild.value}else{return this.cell.innerHTML._dhx_trim()}};this.getMathValue=function(){if(this.cell._val){return this.cell._val}else{return this.getValue()}};this.getFont=function(){arOut=new Array(3);if(this.cell.style.fontFamily){arOut[0]=this.cell.style.fontFamily}if(this.cell.style.fontWeight=="bold"||this.cell.parentNode.style.fontWeight=="bold"){arOut[1]="bold"}if(this.cell.style.fontStyle=="italic"||this.cell.parentNode.style.fontWeight=="italic"){arOut[1]+="italic"}if(this.cell.style.fontSize){arOut[2]=this.cell.style.fontSize}else{arOut[2]=""}return arOut.join("-")};this.getTextColor=function(){if(this.cell.style.color){return this.cell.style.color}else{return"#000000"}};this.getBgColor=function(){if(this.cell.bgColor){return this.cell.bgColor}else{return"#FFFFFF"}};this.getHorAlign=function(){if(this.cell.style.textAlign){return this.cell.style.textAlign}else{if(this.cell.align){return this.cell.align}else{return"left"}}};this.getWidth=function(){return this.cell.scrollWidth};this.setFont=function(e){fntAr=e.split("-");this.cell.style.fontFamily=fntAr[0];this.cell.style.fontSize=fntAr[fntAr.length-1];if(fntAr.length==3){if(/bold/.test(fntAr[1])){this.cell.style.fontWeight="bold"}if(/italic/.test(fntAr[1])){this.cell.style.fontStyle="italic"}if(/underline/.test(fntAr[1])){this.cell.style.textDecoration="underline"}}};this.setTextColor=function(e){this.cell.style.color=e};this.setBgColor=function(e){if(e==""){e=null}this.cell.bgColor=e};this.setHorAlign=function(e){if(e.length==1){if(e=="c"){this.cell.style.textAlign="center"}else{if(e=="l"){this.cell.style.textAlign="left"}else{this.cell.style.textAlign="right"}}}else{this.cell.style.textAlign=e}};this.wasChanged=function(){if(this.cell.wasChanged){return true}else{return false}};this.isCheckbox=function(){var e=this.cell.firstChild;if(e&&e.tagName=="INPUT"){type=e.type;if(type=="radio"||type=="checkbox"){return true}else{return false}}else{return false}};this.isChecked=function(){if(this.isCheckbox()){return this.cell.firstChild.checked}};this.isDisabled=function(){return this.cell._disabled};this.setChecked=function(e){if(this.isCheckbox()){if(e!="true"&&e!=1){e=false}this.cell.firstChild.checked=e}};this.setDisabled=function(e){if(e!="true"&&e!=1){e=false}if(this.isCheckbox()){this.cell.firstChild.disabled=e;if(this.disabledF){this.disabledF(e)}}this.cell._disabled=e}}dhtmlXGridCellObject.prototype={getAttribute:function(d){return this.cell._attrs[d]},setAttribute:function(d,e){this.cell._attrs[d]=e}};dhtmlXGridCellObject.prototype.setValue=function(d){if((typeof(d)!="number")&&(!d||d.toString()._dhx_trim()=="")){d="&nbsp;";this.cell._clearCell=true}else{this.cell._clearCell=false}this.setCValue(d)};dhtmlXGridCellObject.prototype.getTitle=function(){return(_isIE?this.cell.innerText:this.cell.textContent)};dhtmlXGridCellObject.prototype.setCValue=function(e,d){this.cell.innerHTML=e;this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,(arguments.length>1?d:e)])};dhtmlXGridCellObject.prototype.setCTxtValue=function(d){this.cell.innerHTML="";this.cell.appendChild(document.createTextNode(d));this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,d])};dhtmlXGridCellObject.prototype.setLabel=function(d){this.cell.innerHTML=d};dhtmlXGridCellObject.prototype.getMath=function(){if(this._val){return this.val}else{return this.getValue()}};function eXcell(){this.obj=null;this.val=null;this.changeState=function(){return false};this.edit=function(){this.val=this.getValue()};this.detach=function(){return false};this.getPosition=function(g){var d=g;var f=0;var e=0;while(d.tagName!="BODY"){f+=d.offsetLeft;e+=d.offsetTop;d=d.offsetParent}return new Array(f,e)}}eXcell.prototype=new dhtmlXGridCellObject;function eXcell_ed(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid}this.edit=function(){this.cell.atag=((!this.grid.multiLine)&&(_isKHTML||_isMacOS||_isFF))?"INPUT":"TEXTAREA";this.val=this.getValue();this.obj=document.createElement(this.cell.atag);this.obj.setAttribute("autocomplete","off");this.obj.style.height=(this.cell.offsetHeight-(_isIE?4:2))+"px";this.obj.className="dhx_combo_edit";this.obj.wrap="soft";this.obj.style.textAlign=this.cell.align;this.obj.onclick=function(f){(f||event).cancelBubble=true};this.obj.onmousedown=function(f){(f||event).cancelBubble=true};this.obj.value=this.val;this.cell.innerHTML="";this.cell.appendChild(this.obj);if(_isFF){this.obj.style.overflow="visible";if((this.grid.multiLine)&&(this.obj.offsetHeight>=18)&&(this.obj.offsetHeight<40)){this.obj.style.height="36px";this.obj.style.overflow="scroll"}}this.obj.onselectstart=function(f){if(!f){f=event}f.cancelBubble=true;return true};this.obj.focus();this.obj.focus()};this.getValue=function(){if((this.cell.firstChild)&&((this.cell.atag)&&(this.cell.firstChild.tagName==this.cell.atag))){return this.cell.firstChild.value}if(this.cell._clearCell){return""}return this.cell.innerHTML.toString()._dhx_trim()};this.detach=function(){this.setValue(this.obj.value);return this.val!=this.getValue()}}eXcell_ed.prototype=new eXcell;function eXcell_edtxt(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid}this.getValue=function(){if((this.cell.firstChild)&&((this.cell.atag)&&(this.cell.firstChild.tagName==this.cell.atag))){return this.cell.firstChild.value}if(this.cell._clearCell){return""}return(_isIE?this.cell.innerText:this.cell.textContent)};this.setValue=function(e){if(!e||e.toString()._dhx_trim()==""){e=" ";this.cell._clearCell=true}else{this.cell._clearCell=false}this.setCTxtValue(e)}}eXcell_edtxt.prototype=new eXcell_ed;function eXcell_edn(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid}this.getValue=function(){if((this.cell.firstChild)&&(this.cell.firstChild.tagName=="TEXTAREA")){return this.cell.firstChild.value}if(this.cell._clearCell){return""}return this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex)};this.detach=function(){var e=this.obj.value;this.setValue(e);return this.val!=this.getValue()}}eXcell_edn.prototype=new eXcell_ed;eXcell_edn.prototype.setValue=function(d){if(!d||d.toString()._dhx_trim()==""){d="0";this.cell._clearCell=true}else{this.cell._clearCell=false}this.setCValue(this.grid._aplNF(d,this.cell._cellIndex))};function eXcell_ch(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid;this.cell.obj=this}this.disabledF=function(e){if((e==true)||(e==1)){this.cell.innerHTML=this.cell.innerHTML.replace("item_chk0.","item_chk0_dis.").replace("item_chk1.","item_chk1_dis.")}else{this.cell.innerHTML=this.cell.innerHTML.replace("item_chk0_dis.","item_chk0.").replace("item_chk1_dis.","item_chk1.")}};this.changeState=function(){if((!this.grid.isEditable)||(this.cell.parentNode._locked)||(this.isDisabled())){return}if(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])){this.val=this.getValue();if(this.val=="1"){this.setValue("0")}else{this.setValue("1")}this.cell.wasChanged=true;this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]);this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,(this.val!="1")]);this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,(this.val!="1")])}else{this.editor=null}};this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"};this.isCheckbox=function(){return true};this.isChecked=function(){if(this.getValue()=="1"){return true}else{return false}};this.setChecked=function(e){this.setValue(e.toString())};this.detach=function(){return this.val!=this.getValue()};this.edit=null}eXcell_ch.prototype=new eXcell;eXcell_ch.prototype.setValue=function(e){this.cell.style.verticalAlign="middle";if(e){e=e.toString()._dhx_trim();if((e=="false")||(e=="0")){e=""}}if(e){e="1";this.cell.chstate="1"}else{e="0";this.cell.chstate="0"}var d=this;this.setCValue("<img src='"+this.grid.imgURL+"item_chk"+e+".gif' onclick='new eXcell_ch(this.parentNode).changeState(); (arguments[0]||event).cancelBubble=true; '>",this.cell.chstate)};function eXcell_ra(d){this.base=eXcell_ch;this.base(d);this.grid=d.parentNode.grid;this.disabledF=function(e){if((e==true)||(e==1)){this.cell.innerHTML=this.cell.innerHTML.replace("radio_chk0.","radio_chk0_dis.").replace("radio_chk1.","radio_chk1_dis.")}else{this.cell.innerHTML=this.cell.innerHTML.replace("radio_chk0_dis.","radio_chk0.").replace("radio_chk1_dis.","radio_chk1.")}};this.changeState=function(){if((!this.grid.isEditable)||(this.cell.parentNode._locked)){return}if(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])!=false){this.val=this.getValue();if(this.val=="1"){this.setValue("0")}else{this.setValue("1")}this.cell.wasChanged=true;this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]);this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,(this.val!="1")]);this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,(this.val!="1")])}else{this.editor=null}};this.edit=null}eXcell_ra.prototype=new eXcell_ch;eXcell_ra.prototype.setValue=function(f){this.cell.style.verticalAlign="middle";if(f){f=f.toString()._dhx_trim();if((f=="false")||(f=="0")){f=""}}if(f){if(!this.grid._RaSeCol){this.grid._RaSeCol=[]}if(this.grid._RaSeCol[this.cell._cellIndex]){var e=this.grid.cells4(this.grid._RaSeCol[this.cell._cellIndex]);e.setValue("0");if(this.grid.rowsAr[e.cell.parentNode.idd]){this.grid.callEvent("onEditCell",[1,e.cell.parentNode.idd,e.cell._cellIndex])}}this.grid._RaSeCol[this.cell._cellIndex]=this.cell;f="1";this.cell.chstate="1"}else{f="0";this.cell.chstate="0"}var d=this;this.setCValue("<img src='"+this.grid.imgURL+"radio_chk"+f+".gif' onclick='this.parentNode.obj.changeState()'>",this.cell.chstate)};function eXcell_txt(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid}this.edit=function(){this.val=this.getValue();this.obj=document.createElement("TEXTAREA");this.obj.className="dhx_textarea";this.obj.onclick=function(h){(h||event).cancelBubble=true};var f=this.grid.getPosition(this.cell);if(!this.cell._clearCell){this.obj.value=this.val}this.obj.style.display="";this.obj.style.textAlign=this.cell.align;if(_isFF){var e=document.createElement("DIV");e.appendChild(this.obj);e.style.overflow="auto";e.className="dhx_textarea";this.obj.style.margin="0px 0px 0px 0px";this.obj.style.border="0px";this.obj=e}document.body.appendChild(this.obj);this.obj.onkeydown=function(k){var h=(k||event);if(h.keyCode==9){globalActiveDHTMLGridObject.entBox.focus();globalActiveDHTMLGridObject.doKey({keyCode:h.keyCode,shiftKey:h.shiftKey,srcElement:"0"});return false}};this.obj.style.left=f[0]+"px";this.obj.style.top=f[1]+this.cell.offsetHeight+"px";if(this.cell.scrollWidth<200){var g=200}else{var g=this.cell.scrollWidth}this.obj.style.width=g+(_isFF?18:16)+"px";if(_isFF){this.obj.firstChild.style.width=parseInt(this.obj.style.width)+"px";this.obj.firstChild.style.height=this.obj.offsetHeight-3+"px"}if(_isFF){this.obj.firstChild.focus()}else{this.obj.focus();this.obj.focus()}};this.detach=function(){var e="";if(_isFF){e=this.obj.firstChild.value}else{e=this.obj.value}if(e==""){this.cell._clearCell=true}else{this.cell._clearCell=false}this.setValue(e);document.body.removeChild(this.obj);return this.val!=this.getValue()};this.getValue=function(){if(this.cell.firstChild){if(this.cell.firstChild.tagName=="TEXTAREA"){return this.obj.firstChild.value}else{if(this.cell.firstChild.tagName=="DIV"){return this.obj.firstChild.firstChild.value}}}if(this.cell._clearCell){return""}if((!this.grid.multiLine)){return this.cell._brval||this.cell.innerHTML}else{return this.cell.innerHTML.replace(/<br[^>]*>/gi,"\n")._dhx_trim()}}}eXcell_txt.prototype=new eXcell;function eXcell_txttxt(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid}this.getValue=function(){if((this.cell.firstChild)&&(this.cell.firstChild.tagName=="TEXTAREA")){return this.cell.firstChild.value}if(this.cell._clearCell){return""}if((!this.grid.multiLine)&&this.cell._brval){return this.cell._brval}return(_isIE?this.cell.innerText:this.cell.textContent)};this.setValue=function(e){this.cell._brval=e;if(!e||e.toString()._dhx_trim()==""){e=" "}this.setCTxtValue(e)}}eXcell_txttxt.prototype=new eXcell_txt;eXcell_txt.prototype.setValue=function(d){if(!d||d.toString()._dhx_trim()==""){d="&nbsp;";this.cell._clearCell=true}else{this.cell._clearCell=false}this.cell._brval=d;if((!this.grid.multiLine)){this.setCValue(d,d)}else{this.setCValue(d.replace(/\n/g,"<br/>"),d)}};function eXcell_co(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid;this.combo=(this.cell._combo||this.grid.getCombo(this.cell._cellIndex));this.editable=true}this.shiftNext=function(){var e=this.list.options[this.list.selectedIndex+1];if(e){e.selected=true}this.obj.value=this.list.options[this.list.selectedIndex].text;return true};this.shiftPrev=function(){if(this.list.selectedIndex!=0){var e=this.list.options[this.list.selectedIndex-1];if(e){e.selected=true}this.obj.value=this.list.options[this.list.selectedIndex].text}return true};this.edit=function(){this.val=this.getValue();this.text=this.getText()._dhx_trim();var g=this.grid.getPosition(this.cell);this.obj=document.createElement("TEXTAREA");this.obj.className="dhx_combo_edit";this.obj.style.height=(this.cell.offsetHeight-4)+"px";this.obj.wrap="soft";this.obj.style.textAlign=this.cell.align;this.obj.onclick=function(n){(n||event).cancelBubble=true};this.obj.value=this.text;this.obj.onselectstart=function(n){if(!n){n=event}n.cancelBubble=true;return true};var k=this;this.obj.onkeyup=function(o){var p=this.readonly?String.fromCharCode((o||event).keyCode):this.value;var q=k.list.options;for(var n=0;n<q.length;n++){if(q[n].text.indexOf(p)==0){return q[n].selected=true}}};this.list=document.createElement("SELECT");this.list.className="dhx_combo_select";this.list.style.width=this.cell.offsetWidth+"px";this.list.style.left=g[0]+"px";this.list.style.top=g[1]+this.cell.offsetHeight+"px";this.list.onclick=function(p){var o=p||window.event;var n=o.target||o.srcElement;if(n.tagName=="OPTION"){n=n.parentNode}k.setValue(n.value);k.editable=false;k.grid.editStop()};var e=this.combo.getKeys();var h=false;var m=0;for(var f=0;f<e.length;f++){var l=this.combo.get(e[f]);this.list.options[this.list.options.length]=new Option(l,e[f]);if(e[f]==this.val){m=this.list.options.length-1;h=true}}if(h==false){this.list.options[this.list.options.length]=new Option(this.text,this.val===null?"":this.val);m=this.list.options.length-1}document.body.appendChild(this.list);this.list.size="6";this.cstate=1;if(this.editable){this.cell.innerHTML=""}else{this.obj.style.width="1px";this.obj.style.height="1px"}this.cell.appendChild(this.obj);this.list.options[m].selected=true;if((!_isFF)||(this.editable)){this.obj.focus();this.obj.focus()}if(!this.editable){this.obj.style.visibility="hidden";this.list.focus();this.list.onkeydown=function(n){n=n||window.event;k.grid.setActive(true);if(n.keyCode<30){return k.grid.doKey({target:k.cell,keyCode:n.keyCode,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey})}}}};this.getValue=function(){return((this.cell.combo_value==window.undefined)?"":this.cell.combo_value)};this.detach=function(){if(this.val!=this.getValue()){this.cell.wasChanged=true}if(this.list.parentNode!=null){if(this.editable){if(this.obj.value._dhx_trim()!=this.text){if(this.list.selectedIndex&&this.list.options[this.list.selectedIndex].text==this.obj.value){this.setValue(this.list.value)}else{this.setValue(this.obj.value)}}else{this.setValue(this.val)}}else{this.setValue(this.list.value)}}if(this.list.parentNode){this.list.parentNode.removeChild(this.list)}if(this.obj.parentNode){this.obj.parentNode.removeChild(this.obj)}return this.val!=this.getValue()}}eXcell_co.prototype=new eXcell;eXcell_co.prototype.getText=function(){return this.cell.innerHTML};eXcell_co.prototype.setValue=function(f){if(typeof(f)=="object"){var e=this.grid.xmlLoader.doXPath("./option",f);if(e.length){this.cell._combo=new dhtmlXGridComboObject()}for(var d=0;d<e.length;d++){this.cell._combo.put(e[d].getAttribute("value"),e[d].firstChild?e[d].firstChild.data:"")}f=f.firstChild.data}if((f||"").toString()._dhx_trim()==""){f=null}if(f!==null){this.setCValue((this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(f)||f,f)}else{this.setCValue("&nbsp;",f)}this.cell.combo_value=f};function eXcell_coro(d){this.base=eXcell_co;this.base(d);this.editable=false}eXcell_coro.prototype=new eXcell_co;function eXcell_cotxt(d){this.base=eXcell_co;this.base(d)}eXcell_cotxt.prototype=new eXcell_co;eXcell_cotxt.prototype.getText=function(){return(_isIE?this.cell.innerText:this.cell.textContent)};eXcell_cotxt.prototype.setValue=function(f){if(typeof(f)=="object"){var e=this.grid.xmlLoader.doXPath("./option",f);if(e.length){this.cell._combo=new dhtmlXGridComboObject()}for(var d=0;d<e.length;d++){this.cell._combo.put(e[d].getAttribute("value"),e[d].firstChild?e[d].firstChild.data:"")}f=f.firstChild.data}if((f||"").toString()._dhx_trim()==""){f=null}if(f!==null){this.setCTxtValue((this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(f)||f,f)}else{this.setCTxtValue(" ",f)}this.cell.combo_value=f};function eXcell_corotxt(d){this.base=eXcell_co;this.base(d);this.editable=false}eXcell_corotxt.prototype=new eXcell_cotxt;function eXcell_cp(d){try{this.cell=d;this.grid=this.cell.parentNode.grid}catch(e){}this.edit=function(){this.val=this.getValue();this.obj=document.createElement("SPAN");this.obj.style.border="1px solid black";this.obj.style.position="absolute";var f=this.grid.getPosition(this.cell);this.colorPanel(4,this.obj);document.body.appendChild(this.obj);this.obj.style.left=f[0]+"px";this.obj.style.top=f[1]+this.cell.offsetHeight+"px"};this.toolDNum=function(f){if(f.length==1){f="0"+f}return f};this.colorPanel=function(o,s){var l=document.createElement("TABLE");s.appendChild(l);l.cellSpacing=0;l.editor_obj=this;l.style.cursor="default";l.style.cursor="table-layout:fixed";l.onclick=function(u){var t=u||window.event;var n=t.target||t.srcElement;var r=n.parentNode.parentNode.parentNode.editor_obj;r.setValue(n.style.backgroundColor);r.grid.editStop()};var h=256/o;for(var k=0;k<=(256/h);k++){var f=l.insertRow(k);for(var m=0;m<=(256/h);m++){for(var g=0;g<=(256/h);g++){R=new Number(h*k)-(k==0?0:1);G=new Number(h*m)-(m==0?0:1);B=new Number(h*g)-(g==0?0:1);var q=this.toolDNum(R.toString(16))+""+this.toolDNum(G.toString(16))+""+this.toolDNum(B.toString(16));var p=f.insertCell(m);p.width="10px";p.innerHTML="&nbsp;";p.title=q.toUpperCase();p.style.backgroundColor="#"+q;if(this.val!=null&&"#"+q.toUpperCase()==this.val.toUpperCase()){p.style.border="2px solid white"}}}}};this.getValue=function(){return this.cell.firstChild.style?this.cell.firstChild.style.backgroundColor:""};this.getRed=function(){return Number(parseInt(this.getValue().substr(1,2),16))};this.getGreen=function(){return Number(parseInt(this.getValue().substr(3,2),16))};this.getBlue=function(){return Number(parseInt(this.getValue().substr(5,2),16))};this.detach=function(){if(this.obj.offsetParent!=null){document.body.removeChild(this.obj)}return this.val!=this.getValue()}}eXcell_cp.prototype=new eXcell;eXcell_cp.prototype.setValue=function(d){this.setCValue("<div style='width:100%;height:"+(this.cell.offsetHeight-2)+";background-color:"+(d||"")+";border:0px;'>&nbsp;</div>",d)};function eXcell_img(d){try{this.cell=d;this.grid=this.cell.parentNode.grid}catch(e){}this.getValue=function(){if(this.cell.firstChild.tagName=="IMG"){return this.cell.firstChild.src+(this.cell.titFl!=null?"^"+this.cell.tit:"")}else{if(this.cell.firstChild.tagName=="A"){var f=this.cell.firstChild.firstChild.src+(this.cell.titFl!=null?"^"+this.cell.tit:"");f+="^"+this.cell.lnk;if(this.cell.trg){f+="^"+this.cell.trg}return f}}}}eXcell_img.prototype=new eXcell;eXcell_img.prototype.getTitle=function(){return this.cell.tit};eXcell_img.prototype.setValue=function(f){var e=f;if(f.indexOf("^")!=-1){var d=f.split("^");f=d[0];e=d[1];if(d.length>2){this.cell.lnk=d[2];if(d[3]){this.cell.trg=d[3]}}this.cell.titFl="1"}this.setCValue("<img src='"+(f||"")._dhx_trim()+"' border='0'>",f);if(this.cell.lnk){this.cell.innerHTML="<a href='"+this.cell.lnk+"' target='"+this.cell.trg+"'>"+this.cell.innerHTML+"</a>"}this.cell.tit=e};function eXcell_price(d){this.base=eXcell_ed;this.base(d);this.getValue=function(){if(this.cell.childNodes.length>1){return this.cell.childNodes[1].innerHTML.toString()._dhx_trim()}else{return"0"}}}eXcell_price.prototype=new eXcell_ed;eXcell_price.prototype.setValue=function(e){if(isNaN(parseFloat(e))){e=this.val||0}var d="green";if(e<0){d="red"}this.setCValue("<span>$</span><span style='padding-right:2px;color:"+d+";'>"+e+"</span>",e)};function eXcell_dyn(d){this.base=eXcell_ed;this.base(d);this.getValue=function(){return this.cell.firstChild.childNodes[1].innerHTML.toString()._dhx_trim()}}eXcell_dyn.prototype=new eXcell_ed;eXcell_dyn.prototype.setValue=function(f){if(!f||isNaN(Number(f))){f=0}if(f>0){var e="green";var d="dyn_up.gif"}else{if(f==0){var e="black";var d="dyn_.gif"}else{var e="red";var d="dyn_down.gif"}}this.setCValue("<div style='position:relative;padding-right:2px; width:100%;'><img src='"+this.grid.imgURL+""+d+"' height='15' style='position:absolute;top:0px;left:0px;'><span style='width:100%;color:"+e+";'>"+f+"</span></div>",f)};function eXcell_ro(d){if(d){this.cell=d;this.grid=this.cell.parentNode.grid}this.edit=function(){};this.isDisabled=function(){return true}}eXcell_ro.prototype=new eXcell;function eXcell_ron(d){this.cell=d;this.grid=this.cell.parentNode.grid;this.edit=function(){};this.isDisabled=function(){return true};this.getValue=function(){return this.cell._clearCell?"":this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex)}}eXcell_ron.prototype=new eXcell;eXcell_ron.prototype.setValue=function(d){if(d===0){d="0"}else{if(!d||d.toString()._dhx_trim()==""){this.setCValue("&nbsp;");return this.cell._clearCell=true}}this.setCValue(this.grid._aplNF(d,this.cell._cellIndex));this.cell._clearCell=false};function eXcell_rotxt(d){this.cell=d;this.grid=this.cell.parentNode.grid;this.edit=function(){};this.isDisabled=function(){return true};this.setValue=function(e){if(!e||e.toString()._dhx_trim()==""){e=" "}this.setCTxtValue(e)}}eXcell_rotxt.prototype=new eXcell;function dhtmlXGridComboObject(){this.keys=new dhtmlxArray();this.values=new dhtmlxArray();this.put=function(e,f){for(var d=0;d<this.keys.length;d++){if(this.keys[d]==e){this.values[d]=f;return true}}this.values[this.values.length]=f;this.keys[this.keys.length]=e};this.get=function(e){for(var d=0;d<this.keys.length;d++){if(this.keys[d]==e){return this.values[d]}}return null};this.clear=function(){this.keys=new dhtmlxArray();this.values=new dhtmlxArray()};this.remove=function(e){for(var d=0;d<this.keys.length;d++){if(this.keys[d]==e){this.keys._dhx_removeAt(d);this.values._dhx_removeAt(d);return true}}};this.size=function(){var d=0;for(var e=0;e<this.keys.length;e++){if(this.keys[e]!=null){d++}}return d};this.getKeys=function(){var d=new Array(0);for(var e=0;e<this.keys.length;e++){if(this.keys[e]!=null){d[d.length]=this.keys[e]}}return d};this.save=function(){this._save=new Array();for(var d=0;d<this.keys.length;d++){this._save[d]=[this.keys[d],this.values[d]]}};this.restore=function(){if(this._save){this.keys[d]=new Array();this.values[d]=new Array();for(var d=0;d<this._save.length;d++){this.keys[d]=this._save[d][0];this.values[d]=this._save[d][1]}}};return this}function Hashtable(){this.keys=new dhtmlxArray();this.values=new dhtmlxArray();return this}Hashtable.prototype=new dhtmlXGridComboObject;function dhtmlXWindowsSngl(){}function dhtmlXWindowsBtn(){}function dhtmlXWindows(){this.imagePath="codebase/imgs/";this.setImagePath=function(e){this.imagePath=e};this.skin="standard";this.skinParams={standard:{header_height:32,border_left_width:6,border_right_width:7,border_bottom_height:6},web:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2},modern_black:{header_height:39,border_left_width:2,border_right_width:2,border_bottom_height:2},modern_blue:{header_height:39,border_left_width:2,border_right_width:2,border_bottom_height:2},modern_red:{header_height:39,border_left_width:2,border_right_width:2,border_bottom_height:2},clear_blue:{header_height:32,border_left_width:6,border_right_width:6,border_bottom_height:6},clear_green:{header_height:32,border_left_width:6,border_right_width:6,border_bottom_height:6},clear_silver:{header_height:32,border_left_width:14,border_right_width:14,border_bottom_height:43},aqua_dark:{header_height:31,border_left_width:3,border_right_width:3,border_bottom_height:3},aqua_orange:{header_height:31,border_left_width:3,border_right_width:3,border_bottom_height:3},aqua_sky:{header_height:31,border_left_width:3,border_right_width:3,border_bottom_height:3}};this.setSkin=function(e){this.skin=e;this._redrawSkin()};this._redrawSkin=function(){var f=this.skinParams[this.skin];for(var e in this.wins){var g=this.wins[e];g.childNodes[0].className="dhtmlx_wins_"+this.skin;g.childNodes[1].className="dhtmlx_wins_icon_"+this.skin;this._restoreWindowIcons(g);g.childNodes[2].className="dhtmlx_wins_title_"+this.skin;g.childNodes[3].className="dhtmlx_wins_buttons_"+this.skin;this._redrawWindow(g)}};this.isWindow=function(f){var e=(this.wins[f]!=null);return e};this.findByText=function(g){var f=new Array();for(var e in this.wins){if(this.wins[e].getText().search(g,"gi")>=0){f[f.lentgh]=this.wins[e]}}return f};this.window=function(f){var e=null;if(this.wins[f]!=null){e=this.wins[f]}return e};this.forEachWindow=function(f){for(var e in this.wins){f(this.wins[e])}};this.getTopmostWindow=function(g){var f={zi:0};for(var e in this.wins){if(this.wins[e].zi>f.zi){if(g==true&&!this._isWindowHidden(this.wins[e])){f=this.wins[e]}if(g!=true){f=this.wins[e]}}}return(f.zi!=0?f:null)};this.getBottommostWindow=function(){var e=this.getTopmostWindow();for(var f in this.wins){if(this.wins[f].zi<e.zi){e=this.wins[f]}}return(e.zi!=0?e:null)};this.wins={};this.autoViewport=true;this._createViewport=function(){this.vp=document.body;this.modalCoverI=document.createElement("IFRAME");this.modalCoverI.frameBorder="0";this.modalCoverI.className="dhx_modal_cover_ifr";this.modalCoverI.style.display="none";this.modalCoverI.style.zIndex=0;this.vp.appendChild(this.modalCoverI);this.modalCoverD=document.createElement("DIV");this.modalCoverD.className="dhx_modal_cover_dv";this.modalCoverD.style.display="none";this.modalCoverD.style.zIndex=0;this.vp.appendChild(this.modalCoverD)};this._autoResizeViewport=function(){if(this.vp==document.body){return}if(this.autoViewport==false){return}this.vp.style.width=(_isIE?document.body.offsetWidth-4:window.innerWidth)+"px";this.vp.style.height=(_isIE?document.body.offsetHeight-4:window.innerHeight)+"px";for(var e in this.wins){var h=this.wins[e];var g=false;var f=false;if(h.x>this.vp.offsetWidth-10){h.x=this.vp.offsetWidth-10;g=true}if(h.y+this.skinParams[this.skin]["header_height"]>this.vp.offsetHeight){h.y=this.vp.offsetHeight-this.skinParams[this.skin]["header_height"];f=true}if(g||f){this._redrawWindow(h)}}};this.enableAutoViewport=function(f){if(this.vp!=document.body){return}this.autoViewport=f;if(f==false){this.vp=document.createElement("DIV");this.vp.className="dhtmlx_winviewport";this.vp.style.left="0px";this.vp.style.top="0px";document.body.appendChild(this.vp);this.vp.ax=0;this.vp.ay=0;this._autoResizeViewport();var e=this;if(_isIE){window.attachEvent("onresize",function(){e._autoResizeViewport()})}else{window.addEventListener("resize",function(){e._autoResizeViewport()},false)}this.vp.appendChild(this.modalCoverI);this.vp.appendChild(this.modalCoverD)}};this.setViewport=function(f,k,g,e,h){if(this.autoViewport==false){this.vp.style.left=f+"px";this.vp.style.top=k+"px";this.vp.style.width=g+"px";this.vp.style.height=e+"px";if(h!=null){h.appendChild(this.vp)}this.vp.ax=getAbsoluteLeft(this.vp);this.vp.ay=getAbsoluteTop(this.vp)}};this.createWindow=function(e,n,l,f,p){var h=document.createElement("DIV");h.className="dhtmlx_window_inactive";for(var m in this.wins){this.wins[m].zi+=this.zIndexStep;this.wins[m].style.zIndex=this.wins[m].zi}h.zi=this.zIndexStep;h.style.zIndex=h.zi;h.active=false;var k=this;h.w=f;h.h=p;h.x=n;h.y=l;this._fixWindowPositionInViewport(h);h.style.width=h.w+"px";h.style.height=h.h+"px";h.style.left=h.x+"px";h.style.top=h.y+"px";h._isModal=false;h._allowResize=true;h.maxW="auto";h.maxH="auto";h.minW=200;h.minH=140;h.iconsPresent=true;h.icons=new Array(this.imagePath+this.skin+"/active/icon_normal.gif",this.imagePath+this.skin+"/inactive/icon_normal.gif");h._allowMove=true;h._allowMoveGlobal=true;h._allowResizeGlobal=true;h._keepInViewport=false;var q=this.skinParams[this.skin];h.idd=e;h.innerHTML="<table border='0' cellspacing='0' cellpadding='0' width='100%' height='"+h.h+"' class='dhtmlx_wins_"+this.skin+"'><tr><td class='dhtmlx_wins_td_header_full' clearonselect='yes'><table border='0' cellspacing='0' cellpadding='0' width='100%' class='dhtmlx_wins_header' clearonselect='yes'><tr><td class='dhtmlx_wins_td_header_left' clearonselect='yes'>&nbsp;</td><td class='dhtmlx_wins_td_header_middle' clearonselect='yes'>&nbsp;</td><td class='dhtmlx_wins_td_header_right' clearonselect='yes'>&nbsp;</td></tr></table></td></tr><tr><td class='dhtmlx_wins_td_body_full' height='"+(h.h-q.header_height)+"'><table border='0' cellspacing='0' cellpadding='0' width='100%' height='"+(h.h-q.header_height)+"' class='dhtmlx_wins_body'><tr><td class='dhtmlx_wins_body_border_middle_left' clearonselect='yes'>&nbsp;</td><td class='dhtmlx_wins_body_content' align='left' valign='top'><div class='dhtmlx_wins_body_content' style='width: "+(h.w-q.border_left_width-q.border_right_width)+"px; height:"+(h.h-q.header_height-q.border_bottom_height)+"px;'>&nbsp;</div></td><td class='dhtmlx_wins_body_border_middle_right' clearonselect='yes'>&nbsp;</td></tr><tr clearonselect='yes'><td class='dhtmlx_wins_body_border_bottom_left' clearonselect='yes'>&nbsp;</td><td class='dhtmlx_wins_body_border_bottom_middle' clearonselect='yes'>&nbsp;</td><td class='dhtmlx_wins_body_border_bottom_right' clearonselect='yes'>&nbsp;</td></tr></table></td></tr></table><img clearonselect='yes' class='dhtmlx_wins_icon_"+this.skin+"' src='"+h.icons[0]+"'><div clearonselect='yes' class='dhtmlx_wins_title_"+this.skin+"'>Untitled dhtmlxWindow</div><div clearonselect='yes' class='dhtmlx_wins_buttons_"+this.skin+"'><table border='0' cellspacing='0' cellpadding='0'><tr></tr></table></div><div clearonselect='yes' class='dhtmlx_wins_progress_"+this.skin+"'></div>";this.vp.appendChild(h);h._content=h.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0];this._diableOnSelectInWin(h,true);this.wins[e]=h;h.dhx_Event=this.dhx_Event;h.dhx_Event();this._makeActive(h);var o=h.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0];o.onmousedown=function(r){if(!h._allowMove||!h._allowMoveGlobal){return}r=r||event;h.oldMoveX=h.x;h.oldMoveY=h.y;h.moveOffsetX=h.x-r.clientX;h.moveOffsetY=h.y-r.clientY;k.movingWin=h;k._blockSwitcher("none");k.movingWin.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].style.cursor="move";k.movingWin.childNodes[2].style.cursor="move"};o.ondblclick=function(){if(h._isParkedAllowed&&h.button("park").isEnabled()){k._parkWindow(h)}};var g=h.childNodes[2];g.onmousedown=o.onmousedown;g.ondblclick=o.ondblclick;h.setText=function(r){this.childNodes[2].innerHTML=r};h.getText=function(){return this.childNodes[2].innerHTML};h.getId=function(){return this.idd};h.show=function(){k._showWindow(this)};h.hide=function(){k._hideWindow(this)};h.minimize=function(){k._restoreWindow(this)};h.maximize=function(){k._maximizeWindow(this)};h.close=function(){k._closeWindow(this)};h.park=function(){if(this._isParkedAllowed){k._parkWindow(this)}};h.stick=function(){k._stickWindow(this)};h.unstick=function(){k._unstickWindow(this)};h.isSticked=function(){return this._isSticked};h.setIcon=function(s,r){k._setWindowIcon(h,s,r)};h.getIcon=function(){return k._getWindowIcon(this)};h.clearIcon=function(){k._clearWindowIcons(this)};h.restoreIcon=function(){k._restoreWindowIcons(this)};h.keepInViewport=function(r){this._keepInViewport=r};h.setModal=function(r){if(r==true){if(k.modalWin!=null||k.modalWin==this){return}k._setWindowModal(this,true)}else{if(k.modalWin!=this){return}k._setWindowModal(this,false)}};h.isModal=function(){return this._isModal};h.isHidden=function(){return k._isWindowHidden(this)};h.isMaximized=function(){return this._isMaximized};h.isParked=function(){return this._isParked};h.allowPark=function(){k._allowParking(this)};h.denyPark=function(){k._denyParking(this)};h.isParkable=function(){return this._isParkedAllowed};h.allowResize=function(){k._allowReszieGlob(this)};h.denyResize=function(){k._denyResize(this)};h.isResizable=function(){return this._allowResizeGlobal};h.allowMove=function(){if(!this._isMaximized){this._allowMove=true}this._allowMoveGlobal=true};h.denyMove=function(){this._allowMoveGlobal=false};h.isMovable=function(){return this._allowMoveGlobal};h.bringToTop=function(){k._bringOnTop(this);k._makeActive(this)};h.bringToBottom=function(){k._bringOnBottom(this)};h.isOnTop=function(){return k._isWindowOnTop(this)};h.isOnBottom=function(){return k._isWindowOnBottom(this)};h.setPosition=function(r,s){this.x=r;this.y=s;k._fixWindowPositionInViewport(this);if(_isFF){this.h++;k._redrawWindow(this);this.h--}k._redrawWindow(this)};h.getPosition=function(){return new Array(this.x,this.y)};h.setDimension=function(s,r){this.w=s;this.h=r;k._fixWindowDimensionInViewport(this);k._fixWindowPositionInViewport(this);k._redrawWindow(this)};h.getDimension=function(){return new Array(this.w,this.h)};h.setMaxDimension=function(s,r){this.minW="auto";this.minH="auto";k._redrawWindow(this)};h.getMaxDimension=function(){return new Array(this.maxW,this.maxH)};h.setMinDimension=function(r,s){this.minW=r;this.minH=s;k._fixWindowDimensionInViewport(this);k._redrawWindow(this)};h.getMinDimension=function(){return new Array(this.minW,this.minH)};h.addUserButton=function(v,u,t,r){var s=k._addUserButton(this,v,u,t,r);return s};h.removeUserButton=function(s){if(!((s=="minmax1")||(s=="minmax2")||(s=="park")||(s=="close")||(s=="stick")||(s=="unstick")||(s=="help"))){var r=this.button(s);if(r!=null){k._removeUserButton(this,s,r)}}};h.progressOn=function(){k._switchProgress(this,true)};h.progressOff=function(){k._switchProgress(this,false)};h.attachStatusBar=function(t,r){var s=document.getElementById(t);k._attachStatusBar(this,s,r)};h.attachWebMenu=function(){return k._attachWebMenu(this)};h.attachWebToolbar=function(){return k._attachWebToolbar(this)};h.progressOff();h.canStartResize=false;h.onmousemove=function(A){if((!this._allowResize)||(this._allowResizeGlobal==false)){this.canStartResize=false;this.style.cursor="";return}if(k.resizingWin!=null){return}if(this._isParked){return}A=A||event;var v=A.target||A.srcElement;var t=true;this.canStartResize=true;var y=k.skinParams[k.skin];var u=y.header_height;var r=y.border_left_width+2;var w=y.border_right_width+2;var s=y.border_bottom_height+2;if(v.className=="dhtmlx_wins_body_border_middle_left"){k.resizingDirs="border_left";this.style.cursor="w-resize";this.resizeOffsetX=this.x-A.clientX;t=false}if(v.className=="dhtmlx_wins_body_border_middle_right"){k.resizingDirs="border_right";this.style.cursor="e-resize";this.resizeOffsetXW=this.x+this.w-A.clientX;t=false}if(v.className=="dhtmlx_wins_body_border_bottom_middle"){k.resizingDirs="border_bottom";this.style.cursor="n-resize";this.resizeOffsetYH=this.y+this.h-A.clientY;t=false}if(v.className=="dhtmlx_wins_body_border_bottom_left"){k.resizingDirs="corner_left";this.style.cursor="sw-resize";this.resizeOffsetX=this.x-A.clientX;this.resizeOffsetYH=this.y+this.h-A.clientY;t=false}if(v.className=="dhtmlx_wins_body_border_bottom_right"){k.resizingDirs="corner_right";this.style.cursor="nw-resize";this.resizeOffsetXW=this.x+this.w-A.clientX;this.resizeOffsetYH=this.y+this.h-A.clientY;t=false}if(t){this.canStartResize=false;this.style.cursor=""}};h.onmousedown=function(){k._makeActive(this);k._bringOnTop(this);if(this.canStartResize){k._blockSwitcher("none");k.resizingWin=this}};this._addDefaultButtons(h);h.button=function(s){var r=null;if(this.btns[s]!=null){r=this.btns[s]}return r};h.attachObject=function(r,s){k._attachContent(this,"obj",document.getElementById(r),s)};h.attachURL=function(r){k._attachContent(this,"url",r,false)};h.center=function(){k._centerWindow(this)};this._attachContent(h,"empty",null,false);h.bringToTop();return this.wins[e]};this._diableOnSelectInWin=function(g,f){for(var e=0;e<g.childNodes.length;e++){var h=g.childNodes[e];if((h.tagName=="TD")||(h.tagName=="TR")||(h.tagName=="TABLE")||(h.tagName=="DIV")){if(h.getAttribute("clearonselect")!=null){if(f){h.onselectstart=function(k){k=k||event;k.returnValue=false}}else{h.onselectstart=null}}}if(h.childNodes.length>0){this._diableOnSelectInWin(h)}}};this._redrawWindow=function(l){l.style.left=l.x+"px";l.style.top=l.y+"px";l.style.width=(l.w=="100%"?l.w:l.w+"px");l.style.height=(l.h=="100%"?l.h:l.h+"px");if(l.w=="100%"){var m="100%";l.w=l.offsetWidth}if(l.h=="100%"){var f="100%";l.h=l.offsetHeight}l.childNodes[0].style.height=l.h+"px";var e=l.childNodes[0].childNodes[0].childNodes[1].childNodes[0];var q=this.skinParams[this.skin];e.style.height=l.h-q.header_height+"px";e.childNodes[0].style.height=l.h-q.header_height+"px";var n=l.childNodes[3].offsetLeft-l.childNodes[2].offsetLeft-5;if(n<0){n=0}l.childNodes[2].style.width=n+"px";var o=l.w-q.border_left_width-q.border_right_width;var g=l.h-q.header_height-q.border_bottom_height;if(o<0){o=0}if(g<0){g=0}var k=e.childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(l._manageAddons){l._manageAddons(o,g)}else{k.style.width=o+"px";k.style.height=g+"px"}if(m!=null){l.w=m}if(f!=null){l.h=f}};this.zIndexStep=50;this._getTopZIndex=function(f){var g=0;for(var e in this.wins){if(f==true){if(this.wins[e].zi>g){g=this.wins[e].zi}}else{if(this.wins[e].zi>g&&!this.wins[e]._isSticked){g=this.wins[e].zi}}}return g};this.movingWin=null;this._moveWindow=function(h){if(this.movingWin!=null){if(!this.movingWin._allowMove||!this.movingWin._allowMoveGlobal){return}this.movingWin.oldMoveX=this.movingWin.x;this.movingWin.oldMoveY=this.movingWin.y;this.movingWin.x=h.clientX+this.movingWin.moveOffsetX;this.movingWin.y=h.clientY+this.movingWin.moveOffsetY;this._fixWindowPositionInViewport(this.movingWin);this._redrawWindow(this.movingWin);if(this._compoEnabled){this._compoFixMove(this.movingWin)}}if(this.resizingWin!=null){if(!this.resizingWin._allowResize){return}if(this.resizingDirs=="border_left"||this.resizingDirs=="corner_left"){var g=h.clientX+this.resizingWin.resizeOffsetX;var f=(g>this.resizingWin.x?-1:1);newW=this.resizingWin.w+Math.abs(g-this.resizingWin.x)*f;if((newW<this.resizingWin.minW)&&(f<0)){this.resizingWin.x=this.resizingWin.x+this.resizingWin.w-this.resizingWin.minW;this.resizingWin.w=this.resizingWin.minW}else{this.resizingWin.w=newW;this.resizingWin.x=g}this._redrawWindow(this.resizingWin)}if(this.resizingDirs=="border_right"||this.resizingDirs=="corner_right"){var g=h.clientX-(this.resizingWin.x+this.resizingWin.w)+this.resizingWin.resizeOffsetXW;newW=this.resizingWin.w+g;if(newW<this.resizingWin.minW){newW=this.resizingWin.minW}this.resizingWin.w=newW;this._redrawWindow(this.resizingWin)}if(this.resizingDirs=="border_bottom"||this.resizingDirs=="corner_left"||this.resizingDirs=="corner_right"){var g=h.clientY-(this.resizingWin.y+this.resizingWin.h)+this.resizingWin.resizeOffsetYH;newH=this.resizingWin.h+g;if(newH<this.resizingWin.minH){newH=this.resizingWin.minH}this.resizingWin.h=newH;if(this._compoEnabled){this._compoFixResize(this.resizingWin,this.resizingDirs)}else{this._redrawWindow(this.resizingWin)}}}};this._fixWindowPositionInViewport=function(e){if(e._keepInViewport){if(e.x<0){e.x=0}if(e.x+e.w>this.vp.offsetWidth){e.x=this.vp.offsetWidth-e.w}if(e.y<0){e.y=0}if(e.y+e.h>this.vp.offsetHeight){e.y=this.vp.offsetHeight-e.h}}else{if(e.y<0){e.y=0}if(e.y+this.skinParams[this.skin]["header_height"]>this.vp.offsetHeight){e.y=this.vp.offsetHeight-this.skinParams[this.skin]["header_height"]}if(e.x+e.w-10<0){e.x=10-e.w}if(e.x>this.vp.offsetWidth-10){e.x=this.vp.offsetWidth-10}}};this._fixWindowDimensionInViewport=function(e){if(e.w<e.minW){e.w=e.minW}if(e.h<e.minH){e.h=e.minH}};this._stopMove=function(){if(this.movingWin!=null){var e=this.movingWin;this.movingWin=null;this._blockSwitcher("");e.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].style.cursor="";e.childNodes[2].style.cursor="";if(_isFF){e.h++;this._redrawWindow(e);e.h--;this._redrawWindow(e)}if(!(e.oldMoveX==e.x&&e.oldMoveY==e.y)){if(e.checkEvent("onMoveFinish")){e.callEvent("onMoveFinish",[e])}else{this.callEvent("onMoveFinish",[e])}}}if(this.resizingWin!=null){var e=this.resizingWin;this.resizingWin=null;this._blockSwitcher("");if(e.checkEvent("onResizeFinish")){e.callEvent("onResizeFinish",[e])}else{this.callEvent("onResizeFinish",[e])}}};this._bringOnTop=function(h){var f=h.zi;var g=this._getTopZIndex(h._isSticked);for(var e in this.wins){if(this.wins[e]!=h){if(h._isSticked||(!h._isSticked&&!this.wins[e]._isSticked)){if(this.wins[e].zi>f){this.wins[e].zi=this.wins[e].zi-this.zIndexStep;this.wins[e].style.zIndex=this.wins[e].zi}}}}h.zi=g;h.style.zIndex=h.zi};this._makeActive=function(f){for(var e in this.wins){if(this.wins[e]==f){var g=false;if(this.wins[e].className!="dhtmlx_window_active"){g=true}this.wins[e].className="dhtmlx_window_active";this.wins[e].childNodes[1].src=this.wins[e].icons[0];if(g==true){if(f.checkEvent("onFocus")){f.callEvent("onFocus",[f])}else{this.callEvent("onFocus",[f])}}}else{this.wins[e].className="dhtmlx_window_inactive";this.wins[e].childNodes[1].src=this.wins[e].icons[1]}}};this._getActive=function(){var f=null;for(var e in this.wins){if(this.wins[e].className=="dhtmlx_window_active"){f=this.wins[e]}}return f};this._centerWindow=function(g){if(g._isMaximized==true){return}if(g._isParked==true){return}var e=(this.vp==document.body?document.body.offsetWidth:parseInt(this.vp.style.width));var k=(this.vp==document.body?document.body.offsetHeight:parseInt(this.vp.style.height));var h=Math.round((e/2)-(g.w/2));var f=Math.round((k/2)-(g.h/2));g.x=h;g.y=f;this._fixWindowPositionInViewport(g);this._redrawWindow(g)};this._switchProgress=function(f,e){if(e==true){f.childNodes[1].style.display="none";f.childNodes[4].style.display=""}else{f.childNodes[4].style.display="none";f.childNodes[1].style.display=""}};this._addDefaultButtons=function(o){var p=this;var m=document.createElement("DIV");m.className="button_stick_default";m.title="Stick";m.isVisible=false;m._isEnabled=true;m.isPressed=false;o._isSticked=false;m.label="stick";m._doOnClick=function(){this.isPressed=true;p._stickWindow(o)};var g=document.createElement("DIV");g.className="button_sticked_default";g.title="Unstick";g.isVisible=false;g._isEnabled=true;g.isPressed=false;g.label="sticked";g._doOnClick=function(){this.isPressed=false;p._unstickWindow(o)};var e=document.createElement("DIV");e.className="button_help_default";e.title="Help";e.isVisible=false;e._isEnabled=true;e.isPressed=false;e.label="help";e.that=this;e._doOnClick=function(){p._needHelp(o)};var l=document.createElement("DIV");l.className="button_park_default";l.titleIfParked="Park Down";l.titleIfNotParked="Park Up";l.title=l.titleIfNotParked;l.isVisible=true;l._isEnabled=true;l.isPressed=false;l.label="park";o._isParked=false;o._isParkedAllowed=true;l._doOnClick=function(){p._parkWindow(o)};var h=document.createElement("DIV");h.className="button_minmax1_default";h.title="Maximize";h.isVisible=true;h._isEnabled=true;h.isPressed=false;h.label="minmax1";o._isMaximized=false;h._doOnClick=function(){p._maximizeWindow(o)};var f=document.createElement("DIV");f.className="button_minmax2_default";f.title="Restore";f.isVisible=false;f._isEnabled=true;f.isPressed=false;f.label="minmax2";f._doOnClick=function(){p._restoreWindow(o)};var q=document.createElement("DIV");q.className="button_close_default";q.title="Close";q.isVisible=true;q._isEnabled=true;q.isPressed=false;q.label="close";q._doOnClick=function(){p._closeWindow(o)};o.btns={};o.btns.stick=m;o.btns.sticked=g;o.btns.help=e;o.btns.park=l;o.btns.minmax1=h;o.btns.minmax2=f;o.btns.close=q;var r=o.childNodes[3].childNodes[0].childNodes[0].childNodes[0];for(var s in o.btns){var k=o.btns[s];var n=document.createElement("TD");n.className="dhtmlx_wins_btn_"+(k.isVisible?"visible":"hidden");r.appendChild(n);n.appendChild(k);this._attachEventsOnButton(o,k)}};this._attachEventsOnButton=function(g,e){e.onmouseover=function(){if(this._isEnabled){this.className="button_"+this.label+"_over_"+(this.isPressed?"pressed":"default")}else{this.className="button_"+this.label+"_disabled"}};e.onmouseout=function(){if(this._isEnabled){this.isPressed=false;this.className="button_"+this.label+"_default"}else{this.className="button_"+this.label+"_disabled"}};e.onmousedown=function(){if(this._isEnabled){this.isPressed=true;this.className="button_"+this.label+"_over_pressed"}else{this.className="button_"+this.label+"_disabled"}};e.onmouseup=function(){if(this._isEnabled){var h=this.isPressed;this.isPressed=false;this.className="button_"+this.label+"_over_default";if(h){if(this.checkEvent("onClick")){this.callEvent("onClick",[this.win,this])}else{this._doOnClick()}}}else{this.className="button_"+this.label+"_disabled"}};var f=this;e.show=function(){f._showButton(g,this.label)};e.hide=function(){f._hideButton(g,this.label)};e.enable=function(){f._enableButton(g,this.label)};e.disable=function(){f._disableButton(g,this.label)};e.isEnabled=function(){return this._isEnabled};e.isHidden=function(){return(!this.isVisible)};e.dhx_Event=this.dhx_Event;e.dhx_Event()};this._parkWindow=function(e){if(!e._isParkedAllowed){return}if(this.enableParkEffect&&e.parkBusy){return}if(e._isParked){if(this.enableParkEffect){e.parkBusy=true;e.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.display="";this._doParkDown(e)}else{e.h=e.lastParkH;e.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.display="";e.btns.park.title=e.btns.park.titleIfNotParked;if(e._allowResizeGlobal==true){this._enableButton(e,"minmax1");this._enableButton(e,"minmax2")}}}else{e.lastParkH=e.h;if(e._allowResizeGlobal==true){this._disableButton(e,"minmax1");this._disableButton(e,"minmax2")}if(this.enableParkEffect){e.parkBusy=true;this._doParkUp(e)}else{e.h=this.skinParams[this.skin]["header_height"]+this.skinParams[this.skin]["border_bottom_height"];e.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.display="none";e.btns.park.title=e.btns.park.titleIfParked}}if(!this.enableParkEffect){e._isParked=!e._isParked;this._redrawWindow(e);if(!e._isParked){if(e.checkEvent("onParkDown")){e.callEvent("onParkDown",[e])}else{this.callEvent("onParkDown",[e])}}else{if(e.checkEvent("onParkUp")){e.callEvent("onParkUp",[e])}else{this.callEvent("onParkUp",[e])}}}};this._allowParking=function(e){e._isParkedAllowed=true;this._enableButton(e,"park")};this._denyParking=function(e){e._isParkedAllowed=false;this._disableButton(e,"park")};this.enableParkEffect=true;this.parkStartSpeed=80;this.parkSpeed=this.parkStartSpeed;this.parkTM=null;this.parkTMTime=5;this._doParkUp=function(f){f.h-=this.parkSpeed;if(f.h<=this.skinParams[this.skin]["header_height"]+this.skinParams[this.skin]["border_bottom_height"]){f.h=this.skinParams[this.skin]["header_height"]+this.skinParams[this.skin]["border_bottom_height"];f.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].style.display="none";f.btns.park.title=f.btns.park.titleIfParked;f._isParked=true;f.parkBusy=false;this._redrawWindow(f,true);if(f.checkEvent("onParkUp")){f.callEvent("onParkUp",[f])}else{this.callEvent("onParkUp",[f])}}else{this._redrawWindow(f);var e=this;this.parkTM=window.setTimeout(function(){e._doParkUp(f)},this.parkTMTime)}};this._doParkDown=function(f){f.h+=this.parkSpeed;if(f.h>=f.lastParkH){f.h=f.lastParkH;f.btns.park.title=f.btns.park.titleIfNotParked;if(f._allowResizeGlobal==true){this._enableButton(f,"minmax1");this._enableButton(f,"minmax2")}f._isParked=false;f.parkBusy=false;this._redrawWindow(f);if(f.checkEvent("onParkDown")){f.callEvent("onParkDown",[f])}else{this.callEvent("onParkDown",[f])}}else{this._redrawWindow(f);var e=this;this.parkTM=window.setTimeout(function(){e._doParkDown(f)},this.parkTMTime)}};this._enableButton=function(f,e){f.btns[e]._isEnabled=true;f.btns[e].className="button_"+f.btns[e].label+"_default"};this._disableButton=function(f,e){f.btns[e]._isEnabled=false;f.btns[e].className="button_"+f.btns[e].label+"_disabled"};this._allowReszieGlob=function(e){e._allowResizeGlobal=true;this._enableButton(e,"minmax1");this._enableButton(e,"minmax2")};this._denyResize=function(e){e._allowResizeGlobal=false;this._disableButton(e,"minmax1");this._disableButton(e,"minmax2")};this._maximizeWindow=function(e){if(e._allowResizeGlobal==false){return}e.lastMaximizeX=e.x;e.lastMaximizeY=e.y;e.lastMaximizeW=e.w;e.lastMaximizeH=e.h;e.x=0;e.y=0;e._isMaximized=true;e._allowMove=false;e._allowResize=false;e.w=(e.maxW=="auto"?(this.vp==document.body?"100%":parseInt(this.vp.style.width)):e.maxW);e.h=(e.maxH=="auto"?(this.vp==document.body?"100%":parseInt(this.vp.style.height)):e.maxH);this._hideButton(e,"minmax1");this._showButton(e,"minmax2");this._redrawWindow(e);if(e.checkEvent("onMaximize")){e.callEvent("onMaximize",[e])}else{this.callEvent("onMaximize",[e])}};this._restoreWindow=function(e){if(e._allowResizeGlobal==false){return}e.x=e.lastMaximizeX;e.y=e.lastMaximizeY;e.w=e.lastMaximizeW;e.h=e.lastMaximizeH;e._isMaximized=false;e._allowMove=e._allowMoveGlobal;e._allowResize=true;this._hideButton(e,"minmax2");this._showButton(e,"minmax1");this._redrawWindow(e);if(e.checkEvent("onMinimize")){e.callEvent("onMinimize",[e])}else{this.callEvent("onMinimize",[e])}};this._showButton=function(f,e){f.btns[e].isVisible=true;f.btns[e].parentNode.className="dhtmlx_wins_btn_visible"};this._hideButton=function(f,e){f.btns[e].isVisible=false;f.btns[e].parentNode.className="dhtmlx_wins_btn_hidden"};this._showWindow=function(f){f.style.display="";if(f.checkEvent("onShow")){f.callEvent("onShow",[f])}else{this.callEvent("onShow",[f])}var e=this._getActive();if(e==null){this._bringOnTop(f);this._makeActive(f)}else{if(this._isWindowHidden(e)){this._bringOnTop(f);this._makeActive(f)}}};this._hideWindow=function(f){f.style.display="none";if(f.checkEvent("onHide")){f.callEvent("onHide",[f])}else{this.callEvent("onHide",[f])}var e=this.getTopmostWindow(true);if(e!=null){this._bringOnTop(e);this._makeActive(e)}};this._isWindowHidden=function(f){var e=(f.style.display=="none");return e};this._closeWindow=function(g){if(g.checkEvent("onClose")){if(!g.callEvent("onClose",[g])){return}}else{if(!this.callEvent("onClose",[g])){return}}for(var e in g.btns){this._removeButtonGlobal(g,e,g.btns[e])}this._removeWindowGlobal(g);var f={zi:0};for(var e in this.wins){if(this.wins[e].zi>f.zi){f=this.wins[e]}}if(f!=null){this._makeActive(f)}};this._needHelp=function(e){if(e.checkEvent("onHelp")){e.callEvent("onHelp",[e])}else{this.callEvent("onHelp",[e])}};this._attachContent=function(l,f,k,g){while(l._content.childNodes.length>0){l._content.removeChild(l._content.childNodes[0])}if(f=="url"){var e=document.createElement("IFRAME");e.frameBorder=0;e.border=0;e.style.width="100%";e.style.height="100%";e.src=k;l._content.appendChild(e)}else{if(f=="obj"){l._content.appendChild(k);if(g){k.style.display=""}}}var h=document.createElement("DIV");h.className="dhx_content_cover_blocker";h.style.display="none";l._content.appendChild(h)};this._setWindowIcon=function(g,f,e){g.iconsPresent=true;g.icons[0]=this.imagePath+f;g.icons[1]=this.imagePath+e;g.childNodes[1].src=g.icons[g.isOnTop()?0:1]};this._getWindowIcon=function(e){if(e.iconsPresent){return new Array(e.icons[0],e.icons[1])}else{return new Array(null,null)}};this._clearWindowIcons=function(e){e.iconsPresent=false;e.icons[0]=this.imagePath+this.skin+"/active/icon_blank.gif";e.icons[1]=this.imagePath+this.skin+"/inactive/icon_blank.gif";e.childNodes[1].src=e.icons[e.isOnTop()?0:1]};this._restoreWindowIcons=function(e){e.iconsPresent=true;e.icons[0]=this.imagePath+this.skin+"/active/icon_normal.gif";e.icons[1]=this.imagePath+this.skin+"/inactive/icon_normal.gif";e.childNodes[1].src=e.icons[e.isOnTop()?0:1]};this._isWindowOnTop=function(f){var e=(this.getTopmostWindow()==f);return e};this._bringOnBottom=function(f){for(var e in this.wins){if(this.wins[e].zi<f.zi){this.wins[e].zi+=this.zIndexStep;this.wins[e].style.zIndex=this.wins[e].zi}}f.zi=50;f.style.zIndex=f.zi;this._makeActive(this.getTopmostWindow())};this._isWindowOnBottom=function(g){var f=true;for(var e in this.wins){if(this.wins[e]!=g){f=f&&(this.wins[e].zi>g.zi)}}return f};this._stickWindow=function(e){e._isSticked=true;this._hideButton(e,"stick");this._showButton(e,"sticked");this._bringOnTop(e)};this._unstickWindow=function(e){e._isSticked=false;this._hideButton(e,"sticked");this._showButton(e,"stick");this._bringOnTopAnyStickedWindows()};this._addUserButton=function(h,n,m,k,f){var g=document.createElement("DIV");g.className="button_"+f+"_default";g.title=k;g.isVisible=true;g._isEnabled=true;g.isPressed=false;g.label=f;h.btns[n]=g;g._doOnClick=function(){};var e=h.childNodes[3].childNodes[0].childNodes[0].childNodes[0];var l=document.createElement("TD");l.className="dhtmlx_wins_btn_"+(g.isVisible?"visible":"hidden");if(m>e.childNodes.length){e.appendChild(l)}else{if(m<0){m=0}e.insertBefore(l,e.childNodes[m])}l.appendChild(g);this._attachEventsOnButton(h,g)};this._removeUserButton=function(f,g,e){this._removeButtonGlobal(f,g,e)};this._blockSwitcher=function(g){for(var e in this.wins){var k=this.wins[e]._content;var h=null;for(var f=0;f<k.childNodes.length;f++){if(k.childNodes[f].className=="dhx_content_cover_blocker"){h=k.childNodes[f]}}if(h!=null){h.style.display=(g?"":"none")}}};this.resizingWin=null;this.modalWin=null;this.resizingDirs="none";this._createViewport();this.dhx_Event();var d=this;if(_isIE){document.body.attachEvent("onmouseup",function(){d._stopMove()})}else{document.body.addEventListener("mouseup",function(){d._stopMove()},false)}this.vp.onmousemove=function(f){f=f||event;d._moveWindow(f)};this.vp.onmouseup=function(f){f=f||event;d._stopMove(f)};this._setWindowModal=function(f,e){if(e==true){this._makeActive(f);this._bringOnTop(f);this.modalWin=f;f._isModal=true;this.modalCoverI.style.zIndex=f.zi-2;this.modalCoverI.style.display="";this.modalCoverD.style.zIndex=f.zi-2;this.modalCoverD.style.display=""}else{this.modalWin=null;f._isModal=false;this.modalCoverI.style.zIndex=0;this.modalCoverI.style.display="none";this.modalCoverD.style.zIndex=0;this.modalCoverD.style.display="none"}};this._bringOnTopAnyStickedWindows=function(){var g=new Array();for(var e in this.wins){if(this.wins[e]._isSticked){g[g.length]=this.wins[e]}}for(var f=0;f<g.length;f++){this._bringOnTop(g[f])}if(g.length==0){for(var e in this.wins){if(this.wins[e].className=="dhtmlx_window_active"){this._bringOnTop(this.wins[e])}}}};this.unload=function(){this._clearLeaks()};this._removeButtonGlobal=function(f,g,e){e.onmouseover=null;e.onmouseout=null;e.onmousedown=null;e.onmouseup=null;e._doOnClick=null;e.clearAllEvents();e.dhx_Event=null;e.show=null;e.hide=null;e.enable=null;e.disable=null;e.isEnabled=null;e.isHidden=null;e.isVisible=null;e._isEnabled=null;e.isPressed=null;e.label=null;e.parentNode.removeChild(e);delete f.btns[g]};this._removeWindowGlobal=function(f){if(this.modalWin==f){this._setWindowModal(f,false)}var h=f.childNodes[0].childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(h!=null){h.parentNode.removeChild(h)}var g=f.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0];g.onmousedown=null;g.ondblclick=null;g=null;var e=f.childNodes[2];e.onmousedown=null;e=null;f.clearAllEvents();f.dhx_Event=null;f.setText=null;f.getText=null;f.getId=null;f.show=null;f.hide=null;f.minimize=null;f.maximize=null;f.close=null;f.park=null;f.stick=null;f.unstick=null;f.setIcon=null;f.getIcon=null;f.clearIcon=null;f.restoreIcon=null;f.setModal=null;f.isModal=null;f.isHidden=null;f.isMaximized=null;f.isParked=null;f.allowPark=null;f.denyPark=null;f.allowResize=null;f.denyResize=null;f.isResizable=null;f.allowMove=null;f.denyMove=null;f.isMovable=null;f.sendToFront=null;f.sendToBack=null;f.isOnTop=null;f.isOnBottom=null;f.setPosition=null;f.getPosition=null;f.setDimension=null;f.getDimension=null;f.setMaxDimension=null;f.getMaxDimension=null;f.setMinDimension=null;f.getMinDimension=null;f.addUserButton=null;f.removeUserButton=null;f.onmousemove=null;f.onmousedown=null;f.button=null;f.attachObject=null;f.attachURL=null;f.parentNode.removeChild(f);delete this.wins[f.idd]};this._attachStatusBar=function(){};this._attachWebMenu=function(){return null};this._attachWebToolbar=function(){return null};this._clearLeaks=function(){for(var e in this.wins){var f=this.wins[e];this._diableOnSelectInWin(f,false);for(b in f.btns){this._removeButtonGlobal(f,b,f.btns[b])}this._removeWindowGlobal(f)}this._showButton=null;this._hideButton=null;this._enableButton=null;this._disableButton=null;this._removeButtonGlobal=null;this._removeWindowGlobal=null;this.autoViewport=null;this._createViewport=null;this._autoResizeViewport=null;this.vp.parentNode.removeChild(this.vp);this.vp=null};if(_isIE||_isKHTML){document.body.attachEvent("onselectstart",function(f){f=f||event;if(d.resizingWin!=null){f.returnValue=false}})}if(this._enableStatusBar!=null){this._enableStatusBar()}if(this._enableWebMenu!=null){this._enableWebMenu()}if(this._enableWebToolbar!=null){this._enableWebToolbar()}return this}dhtmlXWindows.prototype.dhx_Event=function(){this.dhx_SeverCatcherPath="";this.attachEvent=function(original,catcher,CallObj){CallObj=CallObj||this;original="ev_"+original;if((!this[original])||(!this[original].addEvent)){var z=new this.eventCatcher(CallObj);z.addEvent(this[original]);this[original]=z}return(original+":"+this[original].addEvent(catcher))};this.callEvent=function(name,arg0){if(this["ev_"+name]){return this["ev_"+name].apply(this,arg0)}return true};this.checkEvent=function(name){if(this["ev_"+name]){return true}return false};this.eventCatcher=function(obj){var dhx_catch=new Array();var m_obj=obj;var func_server=function(catcher,rpc){catcher=catcher.split(":");var postVar="";var postVar2="";var target=catcher[1];if(catcher[1]=="rpc"){postVar='<?xml version="1.0"?><methodCall><methodName>'+catcher[2]+"</methodName><params>";postVar2="</params></methodCall>";target=rpc}var z=function(){};return z};var z=function(){if(dhx_catch){var res=true}for(var i=0;i<dhx_catch.length;i++){if(dhx_catch[i]!=null){var zr=dhx_catch[i].apply(m_obj,arguments);res=res&&zr}}return res};z.addEvent=function(ev){if(typeof(ev)!="function"){if(ev&&ev.indexOf&&ev.indexOf("server:")==0){ev=new func_server(ev,m_obj.rpcServer)}else{ev=eval(ev)}}if(ev){return dhx_catch.push(ev)-1}return false};z.removeEvent=function(id){dhx_catch[id]=null};return z};this.detachEvent=function(id){if(id!=false){var list=id.split(":");this[list[0]].removeEvent(list[1])}};this.clearAllEvents=function(){this.ev_onClick=null;this.ev_onMoveFinish=null;this.ev_onResizeFinish=null;this.ev_onFocus=null;this.ev_onParkDown=null;this.ev_onParkUp=null;this.ev_onMaximize=null;this.ev_onMinimize=null;this.ev_onShow=null;this.ev_onHide=null;this.ev_onClose=null;this.ev_onHelp=null}};var CodeMirror=(function(){function p(ab,a9){var bj={},a4=p.defaults;for(var by in a4){if(a4.hasOwnProperty(by)){bj[by]=(a9&&a9.hasOwnProperty(by)?a9:a4)[by]}}var bN=bj.document;var bw=bN.createElement("div");bw.className="CodeMirror";bw.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+bj.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(ab.appendChild){ab.appendChild(bw)}else{ab(bw)}var b3=bw.firstChild,b0=b3.firstChild,aL=bw.lastChild,aM=aL.firstChild,aE=aM.firstChild,bs=aE.nextSibling,aW=bs.firstChild,bY=aW.firstChild,aP=aW.nextSibling.firstChild,ak=aP.firstChild,ao=ak.nextSibling;if(bj.tabindex!=null){b0.tabindex=bj.tabindex}if(!bj.gutter&&!bj.lineNumbers){aW.style.display="none"}var aO=new q(),ay=new q(),an;var bl,bU=[new f("")],bd,ba=new k(),U;bu();var aY={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var bc,bE,am;var bq,bS,aR,au,bQ;var bn=0,bC=0,bJ=0,aV=null;var ac,bI;var aQ="";bV(function(){aq(bj.value||"");bq=false})();setTimeout(aJ,20);n(aL,"mousedown",bV(az));if(!y){n(aL,"contextmenu",bV(aw))}n(aM,"dblclick",bV(bm));n(aL,"scroll",function(){al([]);if(bj.onScroll){bj.onScroll(bR)}});n(window,"resize",function(){al(true)});n(b0,"keyup",bV(br));n(b0,"keydown",bV(aC));n(b0,"keypress",bV(bg));n(b0,"focus",aK);n(b0,"blur",aI);n(aL,"dragenter",function(b5){b5.stop()});n(aL,"dragover",function(b5){b5.stop()});n(aL,"drop",bV(at));n(aL,"paste",function(){ax();bP()});n(b0,"paste",function(){bP()});n(b0,"cut",function(){bP()});var ah;try{ah=(bN.activeElement==b0)}catch(a2){}if(ah){aK()}else{aI()}function V(b5){return b5>=0&&b5<bU.length}var bR={getValue:bk,setValue:bV(aq),getSelection:bL,replaceSelection:bV(ar),focus:function(){ax();aK();aJ();bP()},setOption:function(b5,b6){bj[b5]=b6;if(b5=="lineNumbers"||b5=="gutter"){X()}else{if(b5=="mode"||b5=="indentUnit"){bu()}else{if(b5=="readOnly"&&b6=="nocursor"){b0.blur()}else{if(b5=="theme"){aL.className=aL.className.replace(/cm-s-\w+/,"cm-s-"+b6)}}}}},getOption:function(b5){return bj[b5]},undo:bV(bG),redo:bV(b4),indentLine:bV(function(b5){if(V(b5)){aB(b5,"smart")}}),historySize:function(){return{undo:ba.done.length,redo:ba.undone.length}},matchBrackets:bV(function(){aA(true)}),getTokenAt:function(b5){b5=ap(b5);return bU[b5.line].getTokenAt(bl,aN(b5.line),b5.ch)},cursorCoords:function(b5){if(b5==null){b5=aY.inverted}return bA(b5?aY.from:aY.to)},charCoords:function(b5){return bA(ap(b5))},coordsChar:function(b6){var b7=T(aP);var b5=a6(Math.min(bU.length-1,bn+Math.floor((b6.y-b7.top)/bT())));return ap({line:b5,ch:bi(a6(b5),b6.x-b7.left)})},getSearchCursor:function(b6,b7,b5){return new aF(b6,b7,b5)},markText:bV(function(b6,b5,b7){return bV(aa(b6,b5,b7))}),setMarker:av,clearMarker:aj,setLineClass:bV(aU),lineInfo:ag,addWidget:function(b7,b6,b5){var b7=bB(ap(b7),true);b6.style.top=(bn*bT()+b7.yBot+be())+"px";b6.style.left=(b7.x+bt())+"px";aM.appendChild(b6);if(b5){b2(b7.x,b7.yBot,b7.x+b6.offsetWidth,b7.yBot+b6.offsetHeight)}},lineCount:function(){return bU.length},getCursor:function(b5){if(b5==null){b5=aY.inverted}return J(b5?aY.from:aY.to)},somethingSelected:function(){return !N(aY.from,aY.to)},setCursor:bV(function(b5,b6){if(b6==null&&typeof b5.line=="number"){a1(b5.line,b5.ch)}else{a1(b5,b6)}}),setSelection:bV(function(b6,b5){bD(ap(b6),ap(b5||b6))}),getLine:function(b5){if(V(b5)){return bU[b5].text}},setLine:bV(function(b5,b6){if(V(b5)){bv(b6,{line:b5,ch:0},{line:b5,ch:bU[b5].text.length})}}),removeLine:bV(function(b5){if(V(b5)){bv("",{line:b5,ch:0},ap({line:b5+1,ch:0}))}}),replaceRange:bV(bv),getRange:function(b6,b5){return bf(ap(b6),ap(b5))},operation:function(b5){return bV(b5)()},refresh:function(){al(true)},getInputField:function(){return b0},getWrapperElement:function(){return bw}};function aq(b5){ba=null;var b6={line:0,ch:0};bp(b6,{line:bU.length-1,ch:bU[bU.length-1].text.length},r(b5),b6,b6);ba=new k()}function bk(b7){var b8=[];for(var b6=0,b5=bU.length;b6<b5;++b6){b8.push(bU[b6].text)}return b8.join("\n")}function az(cc){var b5=am;am=null;for(var b8=cc.target();b8!=bw;b8=b8.parentNode){if(b8.parentNode==bY){if(bj.onGutterClick){bj.onGutterClick(bR,o(bY.childNodes,b8)+bn)}return cc.stop()}}if(y&&cc.button()==3){aw(cc)}if(cc.button()!=1){return}var b6=ai(cc),ce=b6,b7;if(!b6){if(cc.target()==aL){cc.stop()}return}if(!U){aK()}cc.stop();if(b5&&+new Date-b5<400){return aT(b6.line)}a1(b6.line,b6.ch,true);function ca(){ax();bq=true;b9();cb()}function cd(cf){var ch=ai(cf,true);if(ch&&!N(ch,ce)){if(!U){aK()}ce=ch;aX(b6,ch);bq=false;var cg=bW();if(ch.line>=cg.to||ch.line<cg.from){b7=setTimeout(bV(function(){cd(cf)}),150)}}}var b9=n(bN,"mousemove",bV(function(cf){clearTimeout(b7);cf.stop();cd(cf)}),true);var cb=n(bN,"mouseup",bV(function(cf){clearTimeout(b7);var cg=ai(cf);if(cg){aX(b6,cg)}cf.stop();ca()}),true)}function bm(b5){var b6=ai(b5);if(!b6){return}bo(b6);b5.stop();am=+new Date}function at(b9){var cc=ai(b9,true),b6=b9.e.dataTransfer.files;if(!cc||bj.readOnly){return}if(b6&&b6.length&&window.FileReader&&window.File){var cb=b6.length,ca=Array(cb),b7=0;for(var b5=0;b5<cb;++b5){b8(b6[b5],b5)}function b8(cf,ce){var cd=new FileReader;cd.onload=function(){ca[ce]=cd.result;if(++b7==cb){bv(ca.join(""),ap(cc),ap(cc))}};cd.readAsText(cf)}}else{try{var ca=b9.e.dataTransfer.getData("Text");if(ca){bv(ca,cc,cc)}}catch(b9){}}}function aC(b9){if(!U){aK()}var b8=b9.e.keyCode;if(u&&b8==27){b9.e.returnValue=false}var b7=(v?b9.e.metaKey:b9.e.ctrlKey)&&!b9.e.altKey,b6=b9.e.ctrlKey||b9.e.altKey||b9.e.metaKey;if(b8==16||b9.e.shiftKey){bc=bc||(aY.inverted?aY.to:aY.from)}else{bc=null}if(bj.onKeyEvent&&bj.onKeyEvent(bR,w(b9.e))){return}if(b8==33||b8==34){bM(b8==34);return b9.stop()}if(b7&&((b8==36||b8==35)||v&&(b8==38||b8==40))){bX(b8==36||b8==38);return b9.stop()}if(b7&&b8==65){bx();return b9.stop()}if(!bj.readOnly){if(!b6&&b8==13){return}if(!b6&&b8==9&&aG(b9.e.shiftKey)){return b9.stop()}if(b7&&b8==90){bG();return b9.stop()}if(b7&&((b9.e.shiftKey&&b8==90)||b8==89)){b4();return b9.stop()}}aV=(b7?"c":"")+b8;if(aY.inverted&&O.hasOwnProperty(aV)){var b5=P(b0);if(b5){bE={anchor:b5.start};e(b0,b5.start,b5.start)}}bP(aV)}function br(b5){if(bj.onKeyEvent&&bj.onKeyEvent(bR,w(b5.e))){return}if(bE){bE=null;bq=true}if(b5.e.keyCode==16){bc=null}}function bg(b7){if(bj.onKeyEvent&&bj.onKeyEvent(bR,w(b7.e))){return}if(bj.electricChars&&bl.electricChars){var b5=String.fromCharCode(b7.e.charCode==null?b7.e.keyCode:b7.e.charCode);if(bl.electricChars.indexOf(b5)>-1){setTimeout(bV(function(){aB(aY.to.line,"smart")}),50)}}var b6=b7.e.keyCode;if(b6==13){if(!bj.readOnly){aH()}b7.stop()}else{if(!b7.e.ctrlKey&&!b7.e.altKey&&!b7.e.metaKey&&b6==9&&bj.tabMode!="default"){b7.stop()}else{bP(aV)}}}function aK(){if(bj.readOnly=="nocursor"){return}if(!U&&bj.onFocus){bj.onFocus(bR)}U=true;bF();if(bw.className.search(/\bCodeMirror-focused\b/)==-1){bw.className+=" CodeMirror-focused"}W()}function aI(){if(U&&bj.onBlur){bj.onBlur(bR)}clearInterval(an);bc=null;U=false;bw.className=bw.className.replace(" CodeMirror-focused","")}function bp(cc,cb,b9,b6,b5){if(ba){var b7=[];for(var b8=cc.line,ca=cb.line+1;b8<ca;++b8){b7.push(bU[b8].text)}ba.addChange(cc.line,b9.length,b7);while(ba.done.length>bj.undoDepth){ba.done.shift()}}Y(cc,cb,b9,b6,b5);if(b9.length<5){bh(cc.line,cc.line+b9.length)}}function a0(cb,ca){var b9=cb.pop();if(b9){var b7=[],b5=b9.start+b9.added;for(var b6=b9.start;b6<b5;++b6){b7.push(bU[b6].text)}ca.push({start:b9.start,added:b9.old.length,old:b7});var b8=ap({line:b9.start+b9.old.length-1,ch:H(b7[b7.length-1],b9.old[b9.old.length-1])});Y({line:b9.start,ch:0},{line:b5-1,ch:bU[b5-1].text.length},b9.old,b8,b8)}}function bG(){a0(ba.done,ba.undone)}function b4(){a0(ba.undone,ba.done)}function Y(cg,b9,cl,b5,cm){var ck=false,b8=aQ.length;for(var ch=cg.line;ch<=b9.line;++ch){if(bU[ch].text.length==b8){ck=true;break}}var cc=b9.line-cg.line,cb=bU[cg.line],b6=bU[b9.line];if(cb==b6){if(cl.length==1){cb.replace(cg.ch,b9.ch,cl[0])}else{b6=cb.split(b9.ch,cl[cl.length-1]);var cd=[cg.line+1,cc];cb.replace(cg.ch,cb.text.length,cl[0]);for(var ch=1,cj=cl.length-1;ch<cj;++ch){cd.push(new f(cl[ch]))}cd.push(b6);bU.splice.apply(bU,cd)}}else{if(cl.length==1){cb.replace(cg.ch,cb.text.length,cl[0]+b6.text.slice(b9.ch));bU.splice(cg.line+1,cc)}else{var cd=[cg.line+1,cc-1];cb.replace(cg.ch,cb.text.length,cl[0]);b6.replace(0,b9.ch,cl[cl.length-1]);for(var ch=1,cj=cl.length-1;ch<cj;++ch){cd.push(new f(cl[ch]))}bU.splice.apply(bU,cd)}}for(var ch=cg.line,cj=ch+cl.length;ch<cj;++ch){var cf=bU[ch].text;if(cf.length>b8){aQ=cf;b8=cf.length;ck=false}}if(ck){b8=0;aQ="";for(var ch=0,cj=bU.length;ch<cj;++ch){var cf=bU[ch].text;if(cf.length>b8){b8=cf.length;aQ=cf}}}var b7=[],ca=cl.length-cc-1;for(var ch=0,cf=bd.length;ch<cf;++ch){var ci=bd[ch];if(ci<cg.line){b7.push(ci)}else{if(ci>b9.line){b7.push(ci+ca)}}}if(cl.length){b7.push(cg.line)}bd=b7;bZ(100);bS.push({from:cg.line,to:b9.line+1,diff:ca});aR={from:cg,to:b9,text:cl};function ce(cn){return cn<=Math.min(b9.line,b9.line+ca)?cn:cn+ca}bD(b5,cm,ce(aY.from.line),ce(aY.to.line));aM.style.height=(bU.length*bT()+2*be())+"px"}function bv(b6,b9,b8){b9=ap(b9);if(!b8){b8=b9}else{b8=ap(b8)}b6=r(b6);function b7(cc){if(I(cc,b9)){return cc}if(!I(b8,cc)){return b5}var ca=cc.line+b6.length-(b8.line-b9.line)-1;var cb=cc.ch;if(cc.line==b8.line){cb+=b6[b6.length-1].length-(b8.ch-(b8.line==b9.line?b9.ch:0))}return{line:ca,ch:cb}}var b5;bH(b6,b9,b8,function(ca){b5=ca;return{from:b7(aY.from),to:b7(aY.to)}});return b5}function ar(b5,b6){bH(r(b5),aY.from,aY.to,function(b7){if(b6=="end"){return{from:b7,to:b7}}else{if(b6=="start"){return{from:aY.from,to:aY.from}}else{return{from:aY.from,to:b7}}}})}function bH(b8,ca,b9,b5){var b7=b8.length==1?b8[0].length+ca.ch:b8[b8.length-1].length;var b6=b5({line:ca.line+b8.length-1,ch:b7});bp(ca,b9,b8,b6.from,b6.to)}function bf(ca,b9){var b6=ca.line,b5=b9.line;if(b6==b5){return bU[b6].text.slice(ca.ch,b9.ch)}var b8=[bU[b6].text.slice(ca.ch)];for(var b7=b6+1;b7<b5;++b7){b8.push(bU[b7].text)}b8.push(bU[b5].text.slice(0,b9.ch));return b8.join("\n")}function bL(){return bf(aY.from,aY.to)}var a5=false;function bF(){if(a5){return}aO.set(2000,function(){ae();bO();if(U){bF()}aS()})}function bP(b7){var b5=false;a5=true;function b6(){ae();var b8=bO();if(b8=="moved"&&b7){O[b7]=true}if(!b8&&!b5){b5=true;aO.set(80,b6)}else{a5=false;bF()}aS()}aO.set(20,b6)}function bO(){if(bQ){return}var cc=false,cl=b0.value,cn=P(b0);if(!cn){return false}var cc=ac.text!=cl,ce=bE;var cd=cc||cn.start!=ac.start||cn.end!=(ce?ac.start:ac.end);if(!cd&&!ce){return false}if(cc){bc=bE=null;if(bj.readOnly){bq=true;return"changed"}}function b9(cs,cq){var cr=0;for(;;){var ch=cl.indexOf("\n",cr);if(ch==-1||(cl.charAt(ch-1)=="\r"?ch-1:ch)>=cs){return{line:cq,ch:cs-cr}}++cq;cr=ch+1}}var cm=b9(cn.start,ac.from),b6=b9(cn.end,ac.from);if(ce){var cb=cn.start==ce.anchor?b6:cm;var cf=bc?aY.to:cn.start==ce.anchor?cm:b6;if(aY.inverted=I(cb,cf)){cm=cb;b6=cf}else{bE=null;cm=cf;b6=cb}}if(cm.line==b6.line&&cm.line==aY.from.line&&cm.line==aY.to.line&&!bc){bq=false}if(cc){var ca=0,b8=cl.length,co=Math.min(b8,ac.text.length);var cp,ci=ac.from,b7=-1;while(ca<co&&(cp=cl.charAt(ca))==ac.text.charAt(ca)){++ca;if(cp=="\n"){ci++;b7=ca}}var cj=b7>-1?ca-b7:ca,b5=ac.to-1,cg=ac.text.length;for(;;){cp=ac.text.charAt(cg);if(cl.charAt(b8)!=cp){++b8;++cg;break}if(cp=="\n"){b5--}if(cg<=ca||b8<=ca){break}--b8;--cg}var b7=ac.text.lastIndexOf("\n",cg-1),ck=b7==-1?cg:cg-b7-1;bp({line:ci,ch:cj},{line:b5,ch:ck},r(cl.slice(ca,b8)),cm,b6);if(ci!=b5||cm.line!=ci){bq=true}}else{bD(cm,b6)}ac.text=cl;ac.start=cn.start;ac.end=cn.end;return cc?"changed":cd?"moved":false}function aJ(){var b8=[];var ca=Math.max(0,aY.from.line-1),b9=Math.min(bU.length,aY.to.line+2);for(var b7=ca;b7<b9;++b7){b8.push(bU[b7].text)}b8=b0.value=b8.join(g);var b6=aY.from.ch,b5=aY.to.ch;for(var b7=ca;b7<aY.from.line;++b7){b6+=g.length+bU[b7].text.length}for(var b7=ca;b7<aY.to.line;++b7){b5+=g.length+bU[b7].text.length}ac={text:b8,from:ca,to:b9,start:b6,end:b5};e(b0,b6,bE?b6:b5)}function ax(){if(bj.readOnly!="nocursor"){b0.focus()}}function a3(){var b5=bB(aY.inverted?aY.from:aY.to);return b2(b5.x,b5.y,b5.x,b5.yBot)}function b2(b7,cb,b5,ca){var b9=bt(),ch=be(),cd=bT();cb+=ch;ca+=ch;b7+=b9;b5+=b9;var ce=aL.clientHeight,b8=aL.scrollTop,b6=false,cg=true;if(cb<b8){aL.scrollTop=Math.max(0,cb-2*cd);b6=true}else{if(ca>b8+ce){aL.scrollTop=ca+cd-ce;b6=true}}var cc=aL.clientWidth,cf=aL.scrollLeft;if(b7<cf){if(b7<50){b7=0}aL.scrollLeft=Math.max(0,b7-10);b6=true}else{if(b5>cc+cf){aL.scrollLeft=b5+10-cc;b6=true;if(b5>aM.clientWidth){cg=false}}}if(b6&&bj.onScroll){bj.onScroll(bR)}return cg}function bW(){var b5=bT(),b6=aL.scrollTop-be();return{from:Math.min(bU.length,Math.max(0,Math.floor(b6/b5))),to:Math.min(bU.length,Math.ceil((b6+aL.clientHeight)/b5))}}function al(co){if(!aL.clientWidth){bn=bC=0;return}var cn=co===true?[]:[{from:bn,to:bC,domStart:0}];for(var cm=0,ci=co.length||0;cm<ci;++cm){var cc=co[cm],ca=[],cd=cc.diff||0;for(var cl=0,cj=cn.length;cl<cj;++cl){var cf=cn[cl];if(cc.to<=cf.from){ca.push({from:cf.from+cd,to:cf.to+cd,domStart:cf.domStart})}else{if(cf.to<=cc.from){ca.push(cf)}else{if(cc.from>cf.from){ca.push({from:cf.from,to:cc.from,domStart:cf.domStart})}if(cc.to<cf.to){ca.push({from:cc.to+cd,to:cf.to+cd,domStart:cf.domStart+(cc.to-cf.from)})}}}}cn=ca}var b7=bW();var ck=Math.min(bn,Math.max(b7.from-3,0)),b5=Math.min(bU.length,Math.max(bC,b7.to+3)),cb=[],ce=0,b9=bC-bn,b8=ck,ch=0;for(var cm=0,ci=cn.length;cm<ci;++cm){var cf=cn[cm];if(cf.to<=ck){continue}if(cf.from>=b5){break}if(cf.domStart>ce||cf.from>b8){cb.push({from:b8,to:cf.from,domSize:cf.domStart-ce,domStart:ce});ch+=cf.from-b8}b8=cf.to;ce=cf.domStart+(cf.to-cf.from)}if(ce!=b9||b8!=b5){ch+=Math.abs(b5-b8);cb.push({from:b8,to:b5,domSize:b9-ce,domStart:ce})}if(!cb.length){return}ao.style.display="none";if(ch>(b7.to-b7.from)*0.3){a7(ck=Math.max(b7.from-10,0),b5=Math.min(b7.to+7,bU.length))}else{af(cb)}ao.style.display="";var cg=ck!=bn||b5!=bC||bJ!=aL.clientHeight;bn=ck;bC=b5;bs.style.top=(ck*bT())+"px";if(cg){bJ=aL.clientHeight;aM.style.height=(bU.length*bT()+2*be())+"px";ad()}var b6=aZ(aQ);aP.style.width=b6>aL.clientWidth?b6+"px":"";if(ao.childNodes.length!=bC-bn){throw new Error("BAD PATCH! "+JSON.stringify(cb)+" size="+(bC-bn)+" nodes="+ao.childNodes.length)}bK()}function a7(cc,cb){var b8=[],ca={line:cc,ch:0},b9=I(aY.from,ca)&&!I(aY.to,ca);for(var b7=cc;b7<cb;++b7){var b6=null,b5=null;if(b9){b6=0;if(aY.to.line==b7){b9=false;b5=aY.to.ch}}else{if(aY.from.line==b7){if(aY.to.line==b7){b6=aY.from.ch;b5=aY.to.ch}else{b9=true;b6=aY.from.ch}}}b8.push(bU[b7].getHTML(b6,b5,true))}ao.innerHTML=b8.join("")}function af(ch){var ci=aY.from.line,cj=aY.to.line,b7=0,cf=D&&bN.createElement("div");for(var cd=0,ce=ch.length;cd<ce;++cd){var ca=ch[cd];var b9=(ca.to-ca.from)-ca.domSize;var cg=ao.childNodes[ca.domStart+ca.domSize+b7]||null;if(D){for(var cc=Math.max(-b9,ca.domSize);cc>0;--cc){ao.removeChild(cg?cg.previousSibling:ao.lastChild)}}else{if(b9){for(var cc=Math.max(0,b9);cc>0;--cc){ao.insertBefore(bN.createElement("pre"),cg)}for(var cc=Math.max(0,-b9);cc>0;--cc){ao.removeChild(cg?cg.previousSibling:ao.lastChild)}}}var b8=ao.childNodes[ca.domStart+b7],cb=ci<ca.from&&cj>=ca.from;for(var cc=ca.from;cc<ca.to;++cc){var b6=null,b5=null;if(cb){b6=0;if(cj==cc){cb=false;b5=aY.to.ch}}else{if(ci==cc){if(cj==cc){b6=aY.from.ch;b5=aY.to.ch}else{cb=true;b6=aY.from.ch}}}if(D){cf.innerHTML=bU[cc].getHTML(b6,b5,true);ao.insertBefore(cf.firstChild,cg)}else{b8.innerHTML=bU[cc].getHTML(b6,b5,false);b8.className=bU[cc].className||"";b8=b8.nextSibling}}b7+=b9}}function ad(){if(!bj.gutter&&!bj.lineNumbers){return}var b7=bs.offsetHeight,ce=aL.clientHeight;aW.style.height=(b7-ce<2?ce:b7)+"px";var cc=[];for(var ca=bn;ca<Math.max(bC,bn+1);++ca){var cb=bU[ca].gutterMarker;var cd=bj.lineNumbers?ca+bj.firstLineNumber:null;if(cb&&cb.text){cd=cb.text.replace("%N%",cd!=null?cd:"")}else{if(cd==null){cd="\u00a0"}}cc.push((cb&&cb.style?'<pre class="'+cb.style+'">':"<pre>"),cd,"</pre>")}aW.style.display="none";bY.innerHTML=cc.join("");var b9=String(bU.length).length,b5=bY.firstChild,b6=t(b5),b8="";while(b6.length+b8.length<b9){b8+="\u00a0"}if(b8){b5.insertBefore(bN.createTextNode(b8),b5.firstChild)}aW.style.display="";aP.style.marginLeft=aW.offsetWidth+"px"}function bK(){var b7=aY.inverted?aY.from:aY.to,b6=bT();var b5=Z(b7.line,b7.ch)+"px",b8=(b7.line-bn)*b6+"px";b3.style.top=(b7.line*b6-aL.scrollTop)+"px";if(N(aY.from,aY.to)){ak.style.top=b8;ak.style.left=b5;ak.style.display=""}else{ak.style.display="none"}}function aX(b7,b6){var b5=bc&&ap(bc);if(b5){if(I(b5,b7)){b7=b5}else{if(I(b6,b5)){b6=b5}}}bD(b7,b6)}function bD(b9,b8,b5,b7){if(N(aY.from,b9)&&N(aY.to,b8)){return}if(I(b8,b9)){var b6=b8;b8=b9;b9=b6}if(N(b9,b8)){aY.inverted=false}else{if(N(b9,aY.to)){aY.inverted=false}else{if(N(b8,aY.from)){aY.inverted=true}}}if(b5==null){b5=aY.from.line;b7=aY.to.line}if(N(b9,b8)){if(!N(aY.from,aY.to)){bS.push({from:b5,to:b7+1})}}else{if(N(aY.from,aY.to)){bS.push({from:b9.line,to:b8.line+1})}else{if(!N(b9,aY.from)){if(b9.line<b5){bS.push({from:b9.line,to:Math.min(b8.line,b5)+1})}else{bS.push({from:b5,to:Math.min(b7,b9.line)+1})}}if(!N(b8,aY.to)){if(b8.line<b7){bS.push({from:Math.max(b5,b9.line),to:b7+1})}else{bS.push({from:Math.max(b9.line,b7),to:b8.line+1})}}}}aY.from=b9;aY.to=b8;au=true}function a1(b5,b7,b6){var b8=ap({line:b5,ch:b7||0});(b6?aX:bD)(b8,b8)}function a6(b5){return Math.max(0,Math.min(b5,bU.length-1))}function ap(b7){if(b7.line<0){return{line:0,ch:0}}if(b7.line>=bU.length){return{line:bU.length-1,ch:bU[bU.length-1].text.length}}var b5=b7.ch,b6=bU[b7.line].text.length;if(b5==null||b5>b6){return{line:b7.line,ch:b6}}else{if(b5<0){return{line:b7.line,ch:0}}else{return b7}}}function bM(b7){var b5=Math.floor(aL.clientHeight/bT()),b6=aY.inverted?aY.from:aY.to;a1(b6.line+(Math.max(b5-1,1)*(b7?1:-1)),b6.ch,true)}function bX(b5){var b6=b5?{line:0,ch:0}:{line:bU.length-1,ch:bU[bU.length-1].text.length};aX(b6,b6)}function bx(){var b5=bU.length-1;bD({line:0,ch:0},{line:b5,ch:bU[b5].text.length})}function bo(b8){var b6=bU[b8.line].text;var b7=b8.ch,b5=b8.ch;while(b7>0&&/\w/.test(b6.charAt(b7-1))){--b7}while(b5<b6.length&&/\w/.test(b6.charAt(b5))){++b5}aX({line:b8.line,ch:b7},{line:b8.line,ch:b5})}function aT(b5){aX({line:b5,ch:0},{line:b5,ch:bU[b5].text.length})}function aH(){ar("\n","end");if(bj.enterMode!="flat"){aB(aY.from.line,bj.enterMode=="keep"?"prev":"smart")}}function aG(b5){bc=null;switch(bj.tabMode){case"default":return false;case"indent":for(var b6=aY.from.line,b7=aY.to.line;b6<=b7;++b6){aB(b6,"smart")}break;case"classic":if(N(aY.from,aY.to)){if(b5){aB(aY.from.line,"smart")}else{ar("\t","end")}break}case"shift":for(var b6=aY.from.line,b7=aY.to.line;b6<=b7;++b6){aB(b6,b5?"subtract":"add")}break}return true}function aB(b7,ce){if(ce=="smart"){if(!bl.indent){ce="prev"}else{var b5=aN(b7)}}var cf=bU[b7],b9=cf.indentation(),b6=cf.text.match(/^\s*/)[0],cb;if(ce=="prev"){if(b7){cb=bU[b7-1].indentation()}else{cb=0}}else{if(ce=="smart"){cb=bl.indent(b5,cf.text.slice(b6.length))}else{if(ce=="add"){cb=b9+bj.indentUnit}else{if(ce=="subtract"){cb=b9-bj.indentUnit}}}}cb=Math.max(0,cb);var cd=cb-b9;if(!cd){if(aY.from.line!=b7&&aY.to.line!=b7){return}var cc=b6}else{var cc="",ca=0;if(bj.indentWithTabs){for(var b8=Math.floor(cb/s);b8;--b8){ca+=s;cc+="\t"}}while(ca<cb){++ca;cc+=" "}}bv(cc,{line:b7,ch:0},{line:b7,ch:b6.length})}function bu(){bl=p.getMode(bj,bj.mode);for(var b6=0,b5=bU.length;b6<b5;++b6){bU[b6].stateAfter=null}bd=[0];bZ()}function X(){var b5=bj.gutter||bj.lineNumbers;aW.style.display=b5?"":"none";if(b5){ad()}else{ao.parentNode.style.marginLeft=0}}function aa(cb,ca,b7){cb=ap(cb);ca=ap(ca);var b5=[];function b9(cc,cg,cf,cd){var cc=bU[cc],ce=cc.addMark(cg,cf,cd);ce.line=cc;b5.push(ce)}if(cb.line==ca.line){b9(cb.line,cb.ch,ca.ch,b7)}else{b9(cb.line,cb.ch,null,b7);for(var b6=cb.line+1,b8=ca.line;b6<b8;++b6){b9(b6,0,null,b7)}b9(ca.line,0,ca.ch,b7)}bS.push({from:cb.line,to:ca.line+1});return function(){var cg,cc;for(var cd=0;cd<b5.length;++cd){var cf=b5[cd],ce=o(bU,cf.line);cf.line.removeMark(cf);if(ce>-1){if(cg==null){cg=ce}cc=ce}}if(cg!=null){bS.push({from:cg,to:cc+1})}}}function av(b5,b7,b6){if(typeof b5=="number"){b5=bU[a6(b5)]}b5.gutterMarker={text:b7,style:b6};ad();return b5}function aj(b5){if(typeof b5=="number"){b5=bU[a6(b5)]}b5.gutterMarker=null;ad()}function aU(b5,b6){if(typeof b5=="number"){var b7=b5;b5=bU[a6(b5)]}else{var b7=o(bU,b5);if(b7==-1){return null}}if(b5.className!=b6){b5.className=b6;bS.push({from:b7,to:b7+1})}return b5}function ag(b6){if(typeof b6=="number"){var b7=b6;b6=bU[b6];if(!b6){return null}}else{var b7=o(bU,b6);if(b7==-1){return null}}var b5=b6.gutterMarker;return{line:b7,text:b6.text,markerText:b5&&b5.text,markerClass:b5&&b5.style}}function aZ(b5){aE.innerHTML="<pre><span>x</span></pre>";aE.firstChild.firstChild.firstChild.nodeValue=b5;return aE.firstChild.firstChild.offsetWidth||10}function Z(b5,b6){if(b6==0){return 0}aE.innerHTML="<pre><span>"+bU[b5].getHTML(null,null,false,b6)+"</span></pre>";return aE.firstChild.firstChild.offsetWidth}function bi(ch,cb){if(cb<=0){return 0}var b8=bU[ch],ce=b8.text;function cf(ci){aE.innerHTML="<pre><span>"+b8.getHTML(null,null,false,ci)+"</span></pre>";return aE.firstChild.firstChild.offsetWidth}var cc=0,ca=0,cd=ce.length,b9;var b6=Math.min(cd,Math.ceil(cb/aZ("x")));for(;;){var b7=cf(b6);if(b7<=cb&&b6<cd){b6=Math.min(cd,Math.ceil(b6*1.2))}else{b9=b7;cd=b6;break}}if(cb>b9){return cd}b6=Math.floor(cd*0.8);b7=cf(b6);if(b7<cb){cc=b6;ca=b7}for(;;){if(cd-cc<=1){return(b9-cb>cb-ca)?cc:cd}var cg=Math.ceil((cc+cd)/2),b5=cf(cg);if(b5>cb){cd=cg;b9=b5}else{cc=cg;ca=b5}}}function bB(b8,b7){var b6=bT(),b5=b8.line-(b7?bn:0);return{x:Z(b8.line,b8.ch),y:b5*b6,yBot:(b5+1)*b6}}function bA(b7){var b5=bB(b7,true),b6=T(aP);return{x:b6.left+b5.x,y:b6.top+b5.y,yBot:b6.top+b5.yBot}}function bT(){var b5=ao.childNodes.length;if(b5){return(ao.offsetHeight/b5)||1}aE.innerHTML="<pre>x</pre>";return aE.firstChild.offsetHeight||1}function be(){return aP.offsetTop}function bt(){return aP.offsetLeft}function ai(ca,b9){var b8=T(aL,true),b5=ca.e.clientX,cb=ca.e.clientY;if(!b9&&(b5-b8.left>aL.clientWidth||cb-b8.top>aL.clientHeight)){return null}var b7=T(aP,true);var b6=bn+Math.floor((cb-b7.top)/bT());return ap({line:b6,ch:bi(a6(b6),b5-b7.left)})}function aw(b6){var ca=ai(b6);if(!ca||window.opera){return}if(N(aY.from,aY.to)||I(ca,aY.from)||!I(ca,aY.to)){a1(ca.line,ca.ch)}var b9=b0.style.cssText;b0.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b6.pageY()-1)+"px; left: "+(b6.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05;";var b8=b0.value=bL();ax();e(b0,0,b0.value.length);bQ=true;function b5(){if(b0.value!=b8){bV(ar)(b0.value,"end")}b0.style.cssText=b9;bQ=false;aJ();bF()}if(y){b6.stop();var b7=n(window,"mouseup",function(){b7();setTimeout(b5,20)},true)}else{setTimeout(b5,50)}}function W(){clearInterval(an);var b5=true;ak.style.visibility="";an=setInterval(function(){ak.style.visibility=(b5=!b5)?"":"hidden"},650)}var b1={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function aA(cb){var b5=aY.inverted?aY.from:aY.to,cd=bU[b5.line],b6=b5.ch-1;var ca=(b6>=0&&b1[cd.text.charAt(b6)])||b1[cd.text.charAt(++b6)];if(!ca){return}var ce=ca.charAt(0),cc=ca.charAt(1)==">",cp=cc?1:-1,ck=cd.styles;for(var cq=b6+1,cm=0,co=ck.length;cm<co;cm+=2){if((cq-=ck[cm].length)<=0){var cn=ck[cm+1];break}}var b8=[cd.text.charAt(b6)],cj=/[(){}[\]]/;function cg(cB,cw,cx){if(!cB.text){return}var cA=cB.styles,cv=cc?0:cB.text.length-1,cy;for(var cs=cc?0:cA.length-2,cu=cc?cA.length:-2;cs!=cu;cs+=2*cp){var cz=cA[cs];if(cA[cs+1]!=null&&cA[cs+1]!=cn){cv+=cp*cz.length;continue}for(var cr=cc?0:cz.length-1,ch=cc?cz.length:-1;cr!=ch;cr+=cp,cv+=cp){if(cv>=cw&&cv<cx&&cj.test(cy=cz.charAt(cr))){var ct=b1[cy];if(ct.charAt(1)==">"==cc){b8.push(cy)}else{if(b8.pop()!=ct.charAt(0)){return{pos:cv,match:false}}else{if(!b8.length){return{pos:cv,match:true}}}}}}}}for(var cm=b5.line,co=cc?Math.min(cm+50,bU.length):Math.max(-1,cm-50);cm!=co;cm+=cp){var cd=bU[cm],b9=cm==b5.line;var cf=cg(cd,b9&&cc?b6+1:0,b9&&!cc?b6:cd.text.length);if(cf){var cn=cf.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var cl=aa({line:b5.line,ch:b6},{line:b5.line,ch:b6+1},cn),b7=aa({line:cm,ch:cf.pos},{line:cm,ch:cf.pos+1},cn);var ci=bV(function(){cl();b7()});if(cb){setTimeout(ci,800)}else{bI=ci}break}}}function a8(cb){var ca,b7;for(var b6=cb,b8=cb-40;b6>b8;--b6){if(b6==0){return 0}var b5=bU[b6-1];if(b5.stateAfter){return b6}var b9=b5.indentation();if(b7==null||ca>b9){b7=b6;ca=b9}}return b7}function aN(b9){var b8=a8(b9),b7=b8&&bU[b8-1].stateAfter;if(!b7){b7=F(bl)}else{b7=m(bl,b7)}for(var b6=b8;b6<b9;++b6){var b5=bU[b6];b5.highlight(bl,b7);b5.stateAfter=m(bl,b7)}if(!bU[b9].stateAfter){bd.push(b9)}return b7}function bh(b9,b6){var b8=aN(b9);for(var b7=b9;b7<b6;++b7){var b5=bU[b7];b5.highlight(bl,b8);b5.stateAfter=m(bl,b8)}}function bb(){var ca=+new Date+bj.workTime;var ce=bd.length;while(bd.length){if(!bU[bn].stateAfter){var b7=bn}else{var b7=bd.pop()}if(b7>=bU.length){continue}var b6=a8(b7),b5=b6&&bU[b6-1].stateAfter;if(b5){b5=m(bl,b5)}else{b5=F(bl)}var b9=0;for(var cd=b6,b8=bU.length;cd<b8;++cd){var cf=bU[cd],cb=cf.stateAfter;if(+new Date>ca){bd.push(cd);bZ(bj.workDelay);bS.push({from:b7,to:cd});return}var cc=cf.highlight(bl,b5);cf.stateAfter=m(bl,b5);if(cc||!cb){b9=0}else{if(++b9>3){break}}}bS.push({from:b7,to:cd})}if(ce&&bj.onHighlightComplete){bj.onHighlightComplete(bR)}}function bZ(b5){if(!bd.length){return}ay.set(b5,bV(bb))}function ae(){bq=null;bS=[];aR=au=false}function aS(){var b6=false;if(au){b6=!a3()}if(bS.length){al(bS)}else{if(au){bK()}}if(b6){a3()}if(au){W()}if(!bQ&&(bq===true||(bq!==false&&au))){aJ()}if(au&&bj.matchBrackets){setTimeout(bV(function(){if(bI){bI();bI=null}aA(false)}),20)}var b5=aR;if(au&&bj.onCursorActivity){bj.onCursorActivity(bR)}if(b5&&bj.onChange&&bR){bj.onChange(bR,b5)}}var aD=0;function bV(b5){return function(){if(!aD++){ae()}try{var b6=b5.apply(this,arguments)}finally{if(!--aD){aS()}}return b6}}function aF(b7,b9,b6){this.atOccurrence=false;if(b6==null){b6=typeof b7=="string"&&b7==b7.toLowerCase()}if(b9&&typeof b9=="object"){b9=ap(b9)}else{b9={line:0,ch:0}}this.pos={from:b9,to:b9};if(typeof b7!="string"){this.matches=function(cc,cg){if(cc){var ca=bU[cg.line].text.slice(0,cg.ch),cb=ca.match(b7),cf=0;while(cb){var cd=ca.indexOf(cb[0]);cf+=cd;ca=ca.slice(cd+1);var ce=ca.match(b7);if(ce){cb=ce}else{break}cf++}}else{var ca=bU[cg.line].text.slice(cg.ch),cb=ca.match(b7),cf=cb&&cg.ch+ca.indexOf(cb[0])}if(cb){return{from:{line:cg.line,ch:cf},to:{line:cg.line,ch:cf+cb[0].length},match:cb}}}}else{if(b6){b7=b7.toLowerCase()}var b5=b6?function(ca){return ca.toLowerCase()}:function(ca){return ca};var b8=b7.split("\n");if(b8.length==1){this.matches=function(cd,ce){var cb=b5(bU[ce.line].text),ca=b7.length,cc;if(cd?(ce.ch>=ca&&(cc=cb.lastIndexOf(b7,ce.ch-ca))!=-1):(cc=cb.indexOf(b7,ce.ch))!=-1){return{from:{line:ce.line,ch:cc},to:{line:ce.line,ch:cc+ca}}}}}else{this.matches=function(cf,ch){var cg=ch.line,ci=(cf?b8.length-1:0),cd=b8[ci],cj=b5(bU[cg].text);var ce=(cf?cj.indexOf(cd)+cd.length:cj.lastIndexOf(cd));if(cf?ce>=ch.ch||ce!=cd.length:ce<=ch.ch||ce!=cj.length-cd.length){return}for(;;){if(cf?!cg:cg==bU.length-1){return}cj=b5(bU[cg+=cf?-1:1].text);cd=b8[cf?--ci:++ci];if(ci>0&&ci<b8.length-1){if(cj!=cd){return}else{continue}}var cc=(cf?cj.lastIndexOf(cd):cj.indexOf(cd)+cd.length);if(cf?cc!=cj.length-cd.length:cc!=cd.length){return}var ca={line:ch.line,ch:ce},cb={line:cg,ch:cc};return{from:cf?cb:ca,to:cf?ca:cb}}}}}}aF.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(b6){var b5=this,b8=ap(b6?this.pos.from:this.pos.to);function b7(b9){var ca={line:b9,ch:0};b5.pos={from:ca,to:ca};b5.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(b6,b8)){this.atOccurrence=true;return this.pos.match||true}if(b6){if(!b8.line){return b7(0)}b8={line:b8.line-1,ch:bU[b8.line-1].text.length}}else{if(b8.line==bU.length-1){return b7(bU.length)}b8={line:b8.line+1,ch:0}}}},from:function(){if(this.atOccurrence){return J(this.pos.from)}},to:function(){if(this.atOccurrence){return J(this.pos.to)}}};for(var bz in K){if(K.propertyIsEnumerable(bz)&&!bR.propertyIsEnumerable(bz)){bR[bz]=K[bz]}}return bR}p.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabMode:"classic",enterMode:"indent",electricChars:true,onKeyEvent:null,lineNumbers:false,gutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var Q={},E={};p.defineMode=function(U,V){if(!p.defaults.mode&&U!="null"){p.defaults.mode=U}Q[U]=V};p.defineMIME=function(V,U){E[V]=U};p.getMode=function(W,U){if(typeof U=="string"&&E.hasOwnProperty(U)){U=E[U]}if(typeof U=="string"){var Y=U,V={}}else{if(U!=null){var Y=U.name,V=U}}var X=Q[Y];if(!X){if(window.console){console.warn("No mode "+Y+" found, falling back to plain text.")}return p.getMode(W,"text/plain")}return X(W,V||{})};p.listModes=function(){var V=[];for(var U in Q){if(Q.propertyIsEnumerable(U)){V.push(U)}}return V};p.listMIMEs=function(){var V=[];for(var U in E){if(E.propertyIsEnumerable(U)){V.push(U)}}return V};var K={};p.defineExtension=function(U,V){K[U]=V};p.fromTextArea=function(V,X){if(!X){X={}}X.value=V.value;if(!X.tabindex&&V.tabindex){X.tabindex=V.tabindex}function Z(){V.value=U.getValue()}if(V.form){var Y=n(V.form,"submit",Z,true);if(typeof V.form.submit=="function"){var W=V.form.submit;function aa(){Z();V.form.submit=W;V.form.submit();V.form.submit=aa}V.form.submit=aa}}V.style.display="none";var U=p(function(ab){V.parentNode.insertBefore(ab,V.nextSibling)},X);U.save=Z;U.toTextArea=function(){Z();V.parentNode.removeChild(U.getWrapperElement());V.style.display="";if(V.form){Y();if(typeof V.form.submit=="function"){V.form.submit=W}}};return U};function m(X,U){if(U===true){return U}if(X.copyState){return X.copyState(U)}var W={};for(var Y in U){var V=U[Y];if(V instanceof Array){V=V.concat([])}W[Y]=V}return W}p.startState=F;function F(W,V,U){return W.startState?W.startState(V,U):true}p.copyState=m;function d(U){this.pos=this.start=0;this.string=U}d.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(U){var W=this.string.charAt(this.pos);if(typeof U=="string"){var V=W==U}else{var V=W&&(U.test?U.test(W):U(W))}if(V){++this.pos;return W}},eatWhile:function(U){var V=this.start;while(this.eat(U)){}return this.pos>V},eatSpace:function(){var U=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>U},skipToEnd:function(){this.pos=this.string.length},skipTo:function(U){var V=this.string.indexOf(U,this.pos);if(V>-1){this.pos=V;return true}},backUp:function(U){this.pos-=U},column:function(){return l(this.string,this.start)},indentation:function(){return l(this.string)},match:function(X,V,U){if(typeof X=="string"){function Y(Z){return U?Z.toLowerCase():Z}if(Y(this.string).indexOf(Y(X),this.pos)==this.pos){if(V!==false){this.pos+=X.length}return true}}else{var W=this.string.slice(this.pos).match(X);if(W&&V!==false){this.pos+=W[0].length}return W}},current:function(){return this.string.slice(this.start,this.pos)}};p.StringStream=d;function f(V,U){this.styles=U||[V,null];this.stateAfter=null;this.text=V;this.marked=this.gutterMarker=this.className=null}f.prototype={replace:function(Z,aa,ad){var ae=[],X=this.marked;S(0,Z,this.styles,ae);if(ad){ae.push(ad,null)}S(aa,this.text.length,this.styles,ae);this.styles=ae;this.text=this.text.slice(0,Z)+ad+this.text.slice(aa);this.stateAfter=null;if(X){var ab=ad.length-(aa-Z),V=this.text.length;function Y(af){return af<=Math.min(aa,aa+ab)?af:af+ab}for(var W=0;W<X.length;++W){var U=X[W],ac=false;if(U.from>=V){ac=true}else{U.from=Y(U.from);if(U.to!=null){U.to=Y(U.to)}}if(ac||U.from>=U.to){X.splice(W,1);W--}}}},split:function(W,V){var U=[V,null];S(W,this.text.length,this.styles,U);return new f(V+this.text.slice(W),U)},addMark:function(Y,X,V){var U=this.marked,W={from:Y,to:X,style:V};if(this.marked==null){this.marked=[]}this.marked.push(W);this.marked.sort(function(aa,Z){return aa.from-Z.from});return W},removeMark:function(W){var U=this.marked;if(!U){return}for(var V=0;V<U.length;++V){if(U[V]==W){U.splice(V,1);break}}},highlight:function(Z,V){var ab=new d(this.text),ad=this.styles,aa=0;var Y=false,W=ad[0],ac;if(this.text==""&&Z.blankLine){Z.blankLine(V)}while(!ab.eol()){var U=Z.token(ab,V);var X=this.text.slice(ab.start,ab.pos);ab.start=ab.pos;if(aa&&ad[aa-1]==U){ad[aa-2]+=X}else{if(X){if(!Y&&(ad[aa+1]!=U||(aa&&ad[aa-2]!=ac))){Y=true}ad[aa++]=X;ad[aa++]=U;ac=W;W=ad[aa]}}if(ab.pos>5000){ad[aa++]=this.text.slice(ab.pos);ad[aa++]=null;break}}if(ad.length!=aa){ad.length=aa;Y=true}if(aa&&ad[aa-2]!=ac){Y=true}return Y||(ad.length<5&&this.text.length<10)},getTokenAt:function(Z,X,W){var U=this.text,Y=new d(U);while(Y.pos<W&&!Y.eol()){Y.start=Y.pos;var V=Z.token(Y,X)}return{start:Y.start,end:Y.pos,string:Y.current(),className:V||null,state:X}},indentation:function(){return l(this.text)},getHTML:function(ag,ak,X,ai){var aa=[];if(X){aa.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function al(av,au){if(!av){return}if(au){aa.push('<span class="cm-',au,'">',A(av),"</span>")}else{aa.push(A(av))}}var af=this.styles,Y=this.text,ae=this.marked;if(ag==ak){ag=null}var an=Y.length;if(ai!=null){an=Math.min(ai,an)}if(!Y&&ai==null){al(" ",ag!=null&&ak==null?"CodeMirror-selected":null)}else{if(!ae&&ag==null){for(var am=0,ab=0;ab<an;am+=2){var ah=af[am],aj=ah.length;if(ab+aj>an){ah=ah.slice(0,an-ab)}ab+=aj;al(ah,af[am+1])}}else{var W=0,am=0,ad="",ao,ar=0;var ap=-1,Z=null;function aq(){if(ae){ap+=1;Z=(ap<ae.length)?ae[ap]:null}}aq();while(W<an){var ac=an;var at="";if(ag!=null){if(ag>W){ac=ag}else{if(ak==null||ak>W){at=" CodeMirror-selected";if(ak!=null){ac=Math.min(ac,ak)}}}}while(Z&&Z.to!=null&&Z.to<=W){aq()}if(Z){if(Z.from>W){ac=Math.min(ac,Z.from)}else{at+=" "+Z.style;if(Z.to!=null){ac=Math.min(ac,Z.to)}}}for(;;){var V=W+ad.length;var U=ao;if(at){U=ao?ao+at:at}al(V>ac?ad.slice(0,ac-W):ad,U);if(V>=ac){ad=ad.slice(ac-W);W=ac;break}W=V;ad=af[am++];ao=af[am++]}}if(ag!=null&&ak==null){al(" ","CodeMirror-selected")}}}if(X){aa.push("</pre>")}return aa.join("")}};function S(aa,ab,U,ac){for(var Y=0,Z=0,V=0;Z<ab;Y+=2){var W=U[Y],X=Z+W.length;if(V==0){if(X>aa){ac.push(W.slice(aa-Z,Math.min(W.length,ab-Z)),U[Y+1])}if(X>=aa){V=1}}else{if(V==1){if(X>ab){ac.push(W.slice(0,ab-Z),U[Y+1])}else{ac.push(W,U[Y+1])}}}Z=X}}function k(){this.time=0;this.done=[];this.undone=[]}k.prototype={addChange:function(ab,W,U){this.undone.length=0;var aa=+new Date,Y=this.done[this.done.length-1];if(aa-this.time>400||!Y||Y.start>ab+W||Y.start+Y.added<ab-Y.added+Y.old.length){this.done.push({start:ab,added:W,old:U})}else{var X=0;if(ab<Y.start){for(var V=Y.start-ab-1;V>=0;--V){Y.old.unshift(U[V])}Y.added+=Y.start-ab;Y.start=ab}else{if(Y.start<ab){X=ab-Y.start;W+=X}}for(var V=Y.added-X,Z=U.length;V<Z;++V){Y.old.push(U[V])}if(Y.added<W){Y.added=W}}this.time=aa}};function L(){if(this.preventDefault){this.preventDefault();this.stopPropagation()}else{this.returnValue=false;this.cancelBubble=true}}function w(U){if(!U.stop){U.stop=L}return U}function C(U){this.e=U}C.prototype={stop:function(){L.call(this.e)},target:function(){return this.e.target||this.e.srcElement},button:function(){if(this.e.which){return this.e.which}else{if(this.e.button&1){return 1}else{if(this.e.button&2){return 3}else{if(this.e.button&4){return 2}}}}},pageX:function(){if(this.e.pageX!=null){return this.e.pageX}var U=this.target().ownerDocument;return this.e.clientX+U.body.scrollLeft+U.documentElement.scrollLeft},pageY:function(){if(this.e.pageY!=null){return this.e.pageY}var U=this.target().ownerDocument;return this.e.clientY+U.body.scrollTop+U.documentElement.scrollTop}};function n(X,W,V,U){function Y(Z){V(new C(Z||window.event))}if(typeof X.addEventListener=="function"){X.addEventListener(W,Y,false);if(U){return function(){X.removeEventListener(W,Y,false)}}}else{X.attachEvent("on"+W,Y);if(U){return function(){X.detachEvent("on"+W,Y)}}}}function q(){this.id=null}q.prototype={set:function(U,V){clearTimeout(this.id);this.id=setTimeout(V,U)}};var D=(function(){var U=document.createElement("pre");U.innerHTML=" ";return !U.innerHTML})();var y=/gecko\/\d{7}/i.test(navigator.userAgent);var u=/MSIE \d/.test(navigator.userAgent);var h=/Apple Computer/.test(navigator.vendor);var g="\n";(function(){var U=document.createElement("textarea");U.value="foo\nbar";if(U.value.indexOf("\r")>-1){g="\r\n"}}());var s=8;var v=/Mac/.test(navigator.platform);var O={};for(var M=35;M<=40;++M){O[M]=O["c"+M]=true}function l(V,U){if(U==null){U=V.search(/[^\s\u00a0]/);if(U==-1){U=V.length}}for(var W=0,X=0;W<U;++W){if(V.charAt(W)=="\t"){X+=s-(X%s)}else{++X}}return X}function T(W,V){var Z=W.ownerDocument.body;var U=0,ab=0,Y=false;for(var aa=W;aa;aa=aa.offsetParent){U+=aa.offsetLeft;ab+=aa.offsetTop;if(aa==Z){Y=true}}var X=V&&Y?null:Z;for(var aa=W.parentNode;aa!=X;aa=aa.parentNode){if(aa.scrollLeft!=null){U-=aa.scrollLeft;ab-=aa.scrollTop}}return{left:U,top:ab}}function t(U){return U.textContent||U.innerText||U.nodeValue||""}function N(V,U){return V.line==U.line&&V.ch==U.ch}function I(V,U){return V.line<U.line||(V.line==U.line&&V.ch<U.ch)}function J(U){return{line:U.line,ch:U.ch}}function A(U){return U.replace(/[<>&]/g,function(V){return V=="&"?"&amp;":V=="<"?"&lt;":"&gt;"})}p.htmlEscape=A;function H(X,W){if(!W){return X?X.length:0}if(!X){return W.length}for(var V=X.length,U=W.length;V>=0&&U>=0;--V,--U){if(X.charAt(V)!=W.charAt(U)){break}}return U+1}function o(X,U){if(X.indexOf){return X.indexOf(U)}for(var V=0,W=X.length;V<W;++V){if(X[V]==U){return V}}return -1}if("\n\nb".split(/\n/).length!=3){var r=function(W){var X=0,V,U=[];while((V=W.indexOf("\n",X))>-1){U.push(W.slice(X,W.charAt(V-1)=="\r"?V-1:V));X=V+1}U.push(W.slice(X));return U}}else{var r=function(U){return U.split(/\r?\n/)}}p.splitLines=r;if(window.getSelection){var P=function(V){try{return{start:V.selectionStart,end:V.selectionEnd}}catch(U){return null}};if(h){var e=function(V,W,U){if(W==U){V.setSelectionRange(W,U)}else{V.setSelectionRange(W,U-1);window.getSelection().modify("extend","forward","character")}}}else{var e=function(W,X,U){try{W.setSelectionRange(X,U)}catch(V){}}}}else{var P=function(W){try{var aa=W.ownerDocument.selection.createRange()}catch(ac){return null}if(!aa||aa.parentElement()!=W){return null}var V=W.value,ab=V.length,ad=W.createTextRange();ad.moveToBookmark(aa.getBookmark());var Y=W.createTextRange();Y.collapse(false);if(ad.compareEndPoints("StartToEnd",Y)>-1){return{start:ab,end:ab}}var U=-ad.moveStart("character",-ab);for(var Z=V.indexOf("\r");Z>-1&&Z<U;Z=V.indexOf("\r",Z+1),U++){}if(ad.compareEndPoints("EndToEnd",Y)>-1){return{start:U,end:ab}}var X=-ad.moveEnd("character",-ab);for(var Z=V.indexOf("\r");Z>-1&&Z<X;Z=V.indexOf("\r",Z+1),X++){}return{start:U,end:X}};var e=function(Z,ab,W){var X=Z.createTextRange();X.collapse(true);var V=X.duplicate();var Y=0,U=Z.value;for(var aa=U.indexOf("\n");aa>-1&&aa<ab;aa=U.indexOf("\n",aa+1)){++Y}X.move("character",ab-Y);for(;aa>-1&&aa<W;aa=U.indexOf("\n",aa+1)){++Y}V.move("character",W-Y);X.setEndPoint("EndToEnd",V);X.select()}}p.defineMode("null",function(){return{token:function(U){U.skipToEnd()}}});p.defineMIME("text/plain","null");return p})();CodeMirror.defineMode("javascript",function(Q,V){var D=Q.indentUnit;var Z=V.json;var e=function(){function af(ai){return{type:ai,style:"keyword"}}var ac=af("keyword a"),ah=af("keyword b"),ag=af("keyword c");var ad=af("operator"),ae={type:"atom",style:"atom"};return{"if":ac,"while":ac,"with":ac,"else":ah,"do":ah,"try":ah,"finally":ah,"return":ag,"break":ag,"continue":ag,"new":ag,"delete":ag,"throw":ag,"var":af("var"),"function":af("function"),"catch":af("catch"),"for":af("for"),"switch":af("switch"),"case":af("case"),"default":af("default"),"in":ad,"typeof":ad,"instanceof":ad,"true":ae,"false":ae,"null":ae,"undefined":ae,"NaN":ae,"Infinity":ae}}();var W=/[+\-*&%=<>!?|]/;function aa(ae,ad,ac){ad.tokenize=ac;return ac(ae,ad)}function m(af,ac){var ae=false,ad;while((ad=af.next())!=null){if(ad==ac&&!ae){return false}ae=!ae&&ad=="\\"}return ae}var ab,u;function J(ae,ad,ac){ab=ae;u=ac;return ad}function q(ag,ae){var ac=ag.next();if(ac=='"'||ac=="'"){return aa(ag,ae,I(ac))}else{if(/[\[\]{}\(\),;\:\.]/.test(ac)){return J(ac)}else{if(ac=="0"&&ag.eat(/x/i)){ag.eatWhile(/[\da-f]/i);return J("number","atom")}else{if(/\d/.test(ac)){ag.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/);return J("number","atom")}else{if(ac=="/"){if(ag.eat("*")){return aa(ag,ae,k)}else{if(ag.eat("/")){ag.skipToEnd();return J("comment","comment")}else{if(ae.reAllowed){m(ag,"/");ag.eatWhile(/[gimy]/);return J("regexp","string")}else{ag.eatWhile(W);return J("operator",null,ag.current())}}}}else{if(W.test(ac)){ag.eatWhile(W);return J("operator",null,ag.current())}else{ag.eatWhile(/[\w\$_]/);var af=ag.current(),ad=e.propertyIsEnumerable(af)&&e[af];return ad?J(ad.type,ad.style,af):J("variable","variable",af)}}}}}}}function I(ac){return function(ae,ad){if(!m(ae,ac)){ad.tokenize=q}return J("string","string")}}function k(af,ae){var ac=false,ad;while(ad=af.next()){if(ad=="/"&&ac){ae.tokenize=q;break}ac=(ad=="*")}return J("comment","comment")}var p={atom:true,number:true,variable:true,string:true,regexp:true};function A(ah,ad,ac,ag,ae,af){this.indented=ah;this.column=ad;this.type=ac;this.prev=ae;this.info=af;if(ag!=null){this.align=ag}}function E(ae,ad){for(var ac=ae.localVars;ac;ac=ac.next){if(ac.name==ad){return true}}}function M(ag,ad,ac,af,ah){var ai=ag.cc;C.state=ag;C.stream=ah;C.marked=null,C.cc=ai;if(!ag.lexical.hasOwnProperty("align")){ag.lexical.align=true}while(true){var ae=ai.length?ai.pop():Z?F:H;if(ae(ac,af)){while(ai.length&&ai[ai.length-1].lex){ai.pop()()}if(C.marked){return C.marked}if(ac=="variable"&&E(ag,af)){return"variable-2"}return ad}}}var C={state:null,column:null,marked:null,cc:null};function d(){for(var ac=arguments.length-1;ac>=0;ac--){C.cc.push(arguments[ac])}}function O(){d.apply(null,arguments);return true}function r(ad){var ae=C.state;if(ae.context){C.marked="def";for(var ac=ae.localVars;ac;ac=ac.next){if(ac.name==ad){return}}ae.localVars={name:ad,next:ae.localVars}}}var L={name:"this",next:{name:"arguments"}};function y(){if(!C.state.context){C.state.localVars=L}C.state.context={prev:C.state.context,vars:C.state.localVars}}function w(){C.state.localVars=C.state.context.vars;C.state.context=C.state.context.prev}function o(ad,ae){var ac=function(){var af=C.state;af.lexical=new A(af.indented,C.stream.column(),ad,null,af.lexical,ae)};ac.lex=true;return ac}function N(){var ac=C.state;if(ac.lexical.prev){if(ac.lexical.type==")"){ac.indented=ac.lexical.indented}ac.lexical=ac.lexical.prev}}N.lex=true;function f(ad){return function ac(ae){if(ae==ad){return O()}else{if(ad==";"){return d()}else{return O(arguments.callee)}}}}function H(ac){if(ac=="var"){return O(o("vardef"),S,f(";"),N)}if(ac=="keyword a"){return O(o("form"),F,H,N)}if(ac=="keyword b"){return O(o("form"),H,N)}if(ac=="{"){return O(o("}"),s,N)}if(ac==";"){return O()}if(ac=="function"){return O(n)}if(ac=="for"){return O(o("form"),f("("),o(")"),l,f(")"),N,H,N)}if(ac=="variable"){return O(o("stat"),K)}if(ac=="switch"){return O(o("form"),F,o("}","switch"),f("{"),s,N,N)}if(ac=="case"){return O(F,f(":"))}if(ac=="default"){return O(f(":"))}if(ac=="catch"){return O(o("form"),y,f("("),v,f(")"),H,N,w)}return d(o("stat"),F,f(";"),N)}function F(ac){if(p.hasOwnProperty(ac)){return O(U)}if(ac=="function"){return O(n)}if(ac=="keyword c"){return O(F)}if(ac=="("){return O(o(")"),F,f(")"),N,U)}if(ac=="operator"){return O(F)}if(ac=="["){return O(o("]"),X(F,"]"),N,U)}if(ac=="{"){return O(o("}"),X(t,"}"),N,U)}return O()}function U(ac,ad){if(ac=="operator"&&/\+\+|--/.test(ad)){return O(U)}if(ac=="operator"){return O(F)}if(ac==";"){return}if(ac=="("){return O(o(")"),X(F,")"),N,U)}if(ac=="."){return O(Y,U)}if(ac=="["){return O(o("]"),F,f("]"),N,U)}}function K(ac){if(ac==":"){return O(N,H)}return d(U,f(";"),N)}function Y(ac){if(ac=="variable"){C.marked="property";return O()}}function t(ac){if(ac=="variable"){C.marked="property"}if(p.hasOwnProperty(ac)){return O(f(":"),F)}}function X(ae,ac){function ad(ag){if(ag==","){return O(ae,ad)}if(ag==ac){return O()}return O(f(ac))}return function af(ag){if(ag==ac){return O()}else{return d(ae,ad)}}}function s(ac){if(ac=="}"){return O()}return d(H,s)}function S(ac,ad){if(ac=="variable"){r(ad);return O(P)}return O()}function P(ac,ad){if(ad=="="){return O(F,P)}if(ac==","){return O(S)}}function l(ac){if(ac=="var"){return O(S,h)}if(ac==";"){return d(h)}if(ac=="variable"){return O(T)}return d(h)}function T(ac,ad){if(ad=="in"){return O(F)}return O(U,h)}function h(ac,ad){if(ac==";"){return O(g)}if(ad=="in"){return O(F)}return O(F,f(";"),g)}function g(ac){if(ac!=")"){O(F)}}function n(ac,ad){if(ac=="variable"){r(ad);return O(n)}if(ac=="("){return O(o(")"),y,X(v,")"),N,H,w)}}function v(ac,ad){if(ac=="variable"){r(ad);return O()}}return{startState:function(ac){return{tokenize:q,reAllowed:true,cc:[],lexical:new A((ac||0)-D,0,"block",false),localVars:null,context:null,indented:0}},token:function(ae,ad){if(ae.sol()){if(!ad.lexical.hasOwnProperty("align")){ad.lexical.align=false}ad.indented=ae.indentation()}if(ae.eatSpace()){return null}var ac=ad.tokenize(ae,ad);if(ab=="comment"){return ac}ad.reAllowed=ab=="operator"||ab=="keyword c"||ab.match(/^[\[{}\(,;:]$/);return M(ad,ac,ab,u,ae)},indent:function(ah,ac){if(ah.tokenize!=q){return 0}var ag=ac&&ac.charAt(0),ae=ah.lexical,af=ae.type,ad=ag==af;if(af=="vardef"){return ae.indented+4}else{if(af=="form"&&ag=="{"){return ae.indented}else{if(af=="stat"||af=="form"){return ae.indented+D}else{if(ae.info=="switch"&&!ad){return ae.indented+(/^(?:case|default)\b/.test(ac)?D:2*D)}else{if(ae.align){return ae.column+(ad?0:1)}else{return ae.indented+(ad?0:D)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("lua",function(h,l){var n=h.indentUnit;function e(u){return new RegExp("^(?:"+u.join("|")+")","i")}function k(u){return new RegExp("^(?:"+u.join("|")+")$","i")}var q=k(l.specials||[]);var d=k(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]);var m=k(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]);var t=k(["function","if","repeat","for","while","\\(","{"]);var r=k(["end","until","\\)","}"]);var f=e(["end","until","\\)","}","else","elseif"]);function g(u){var v=0;while(u.eat("=")){++v}u.eat("[");return v}function p(w,v){var u=w.next();if(u=="-"&&w.eat("-")){if(w.eat("[")){return(v.cur=s(g(w),"comment"))(w,v)}w.skipToEnd();return"comment"}if(u=='"'||u=="'"){return(v.cur=o(u))(w,v)}if(u=="["&&/[\[=]/.test(w.peek())){return(v.cur=s(g(w),"string"))(w,v)}if(/\d/.test(u)){w.eatWhile(/[\w.%]/);return"number"}if(/[\w_]/.test(u)){w.eatWhile(/[\w\\\-_.]/);return"variable"}return null}function s(v,u){return function(C,A){var w=null,y;while((y=C.next())!=null){if(w==null){if(y=="]"){w=0}}else{if(y=="="){++w}else{if(y=="]"&&w==v){A.cur=p;break}else{w=null}}}}return u}}function o(u){return function(A,w){var y=false,v;while((v=A.next())!=null){if(v==u&&!y){break}y=!y&&v=="\\"}if(!y){w.cur=p}return"string"}}return{startState:function(u){return{basecol:u||0,indentDepth:0,cur:p}},token:function(y,v){if(y.eatSpace()){return null}var u=v.cur(y,v);var w=y.current();if(u=="variable"){if(m.test(w)){u="keyword"}else{if(d.test(w)){u="builtin"}else{if(q.test(w)){u="variable-2"}}}}if(t.test(w)){++v.indentDepth}else{if(r.test(w)){--v.indentDepth}}return u},indent:function(w,u){var v=f.test(u);return w.basecol+n*(w.indentDepth-(v?1:0))}}});CodeMirror.defineMIME("text/x-lua","lua");